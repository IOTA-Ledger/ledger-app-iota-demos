!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function t(e){return e&&e.__esModule?e.default:e}var r={},n={},i=e.parcelRequire911f;null==i&&((i=function(e){if(e in r)return r[e].exports;if(e in n){let t=n[e];delete n[e];let i={id:e,exports:{}};return r[e]=i,t.call(i.exports,i,i.exports),i.exports}var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}).register=function(e,t){n[e]=t},e.parcelRequire911f=i);let o=0;const s=[],a=(e,t,r)=>{const n={type:e,id:String(++o),date:new Date};t&&(n.message=t),r&&(n.data=r),function(e){for(let t=0;t<s.length;t++)try{s[t](e)}catch(e){console.error(e)}}(n)},c=e=>(s.push(e),()=>{const t=s.indexOf(e);-1!==t&&(s[t]=s[s.length-1],s.pop())});"undefined"!=typeof window&&(window.__ledgerLogsListen=c);var u={};i.register("btOQf",(function(t,r){"use strict";t.exports=l;var n=i("gAutz"),o="undefined"!=typeof navigator&&!!navigator.userAgent,s=o&&navigator.userAgent.match(/Safari\//)&&!navigator.userAgent.match(/Chrome\//),a=o&&navigator.userAgent.match(/Edge\/1[2345]/),c=null;function u(e){return c||(c=new e((function(e,t){function r(){e({u2f:null,native:!0})}return o?s?r():(void 0!==window.u2f&&"function"==typeof window.u2f.sign&&e({u2f:window.u2f,native:!0}),a||"http:"===location.protocol||"undefined"==typeof MessageChannel?r():void n.isSupported((function(t){t?e({u2f:n,native:!1}):r()}))):r()}))),c}function l(e){return{isSupported:p.bind(e),ensureSupport:m.bind(e),register:g.bind(e),sign:v.bind(e),ErrorCodes:l.ErrorCodes,ErrorNames:l.ErrorNames}}function f(e,t){var r=null!=t?t.errorCode:1,n=l.ErrorNames[""+r],i=new Error(e);return i.metaData={type:n,code:r},i}function h(e,t){var r={};return r.promise=new e((function(e,n){r.resolve=e,r.reject=n,t.then(e,n)})),r.promise.cancel=function(t,n){u(e).then((function(e){n&&!e.native&&e.u2f.disconnect(),r.reject(f(t,{errorCode:-1}))}))},r}function p(){return u(this).then((function(e){return!!e.u2f}))}function d(e){if(!e.u2f){if("http:"===location.protocol)throw new Error("U2F isn't supported over http, only https");throw new Error("U2F not supported")}}function m(){return u(this).then(d)}function g(e,t,r){var n=this;return Array.isArray(e)||(e=[e]),"number"==typeof t&&void 0===r&&(r=t,t=null),t||(t=[]),h(n,u(n).then((function(i){d(i);var o=i.native,s=i.u2f;return new n((function(n,i){if(o){var a=e[0].appId;s.register(a,e,t,(function(e){e.errorCode?i(f("Registration failed",e)):(delete e.errorCode,n(e))}),r)}else s.register(e,t,(function(e,t){e?i(e):t.errorCode?i(f("Registration failed",t)):n(t)}),r)}))}))).promise}function v(e,t){var r=this;return Array.isArray(e)||(e=[e]),h(r,u(r).then((function(n){d(n);var i=n.native,o=n.u2f;return new r((function(r,n){if(i){var s=e[0].appId,a=e[0].challenge;o.sign(s,a,e,(function(e){e.errorCode?n(f("Sign failed",e)):(delete e.errorCode,r(e))}),t)}else o.sign(e,(function(e,t){e?n(e):t.errorCode?n(f("Sign failed",t)):r(t)}),t)}))}))).promise}function y(t){l[t]=function(){if(!e.Promise)throw new Error("The platform doesn't natively support promises");var r=[].slice.call(arguments);return l(e.Promise)[t].apply(null,r)}}l.ErrorCodes={CANCELLED:-1,OK:0,OTHER_ERROR:1,BAD_REQUEST:2,CONFIGURATION_UNSUPPORTED:3,DEVICE_INELIGIBLE:4,TIMEOUT:5},l.ErrorNames={"-1":"CANCELLED",0:"OK",1:"OTHER_ERROR",2:"BAD_REQUEST",3:"CONFIGURATION_UNSUPPORTED",4:"DEVICE_INELIGIBLE",5:"TIMEOUT"},y("isSupported"),y("ensureSupport"),y("register"),y("sign")})),i.register("gAutz",(function(e,t){"use strict";var r=r||{};e.exports=r,r.EXTENSION_ID="kmendfapggjehodndflmmgagdbamhnfd",r.MessageTypes={U2F_REGISTER_REQUEST:"u2f_register_request",U2F_SIGN_REQUEST:"u2f_sign_request",U2F_REGISTER_RESPONSE:"u2f_register_response",U2F_SIGN_RESPONSE:"u2f_sign_response"},r.ErrorCodes={OK:0,OTHER_ERROR:1,BAD_REQUEST:2,CONFIGURATION_UNSUPPORTED:3,DEVICE_INELIGIBLE:4,TIMEOUT:5},r.Request,r.Response,r.Error,r.SignRequest,r.SignResponse,r.RegisterRequest,r.RegisterResponse,r.disconnect=function(){r.port_&&r.port_.port_&&(r.port_.port_.disconnect(),r.port_=null)},r.getMessagePort=function(e){if("undefined"!=typeof chrome&&chrome.runtime){var t={type:r.MessageTypes.U2F_SIGN_REQUEST,signRequests:[]};chrome.runtime.sendMessage(r.EXTENSION_ID,t,(function(){chrome.runtime.lastError?r.getIframePort_(e):r.getChromeRuntimePort_(e)}))}else r.getIframePort_(e)},r.getChromeRuntimePort_=function(e){var t=chrome.runtime.connect(r.EXTENSION_ID,{includeTlsChannelId:!0});setTimeout((function(){e(null,new r.WrappedChromeRuntimePort_(t))}),0)},r.WrappedChromeRuntimePort_=function(e){this.port_=e},r.WrappedChromeRuntimePort_.prototype.postMessage=function(e){this.port_.postMessage(e)},r.WrappedChromeRuntimePort_.prototype.addEventListener=function(e,t){var r=e.toLowerCase();"message"==r||"onmessage"==r?this.port_.onMessage.addListener((function(e){t({data:e})})):console.error("WrappedChromeRuntimePort only supports onMessage")},r.getIframePort_=function(e){var t="chrome-extension://"+r.EXTENSION_ID,n=document.createElement("iframe");n.src=t+"/u2f-comms.html",n.setAttribute("style","display:none"),document.body.appendChild(n);var i=!1,o=new MessageChannel,s=function(t){"ready"==t.data?(o.port1.removeEventListener("message",s),i||(i=!0,e(null,o.port1))):console.error('First event on iframe port was not "ready"')};o.port1.addEventListener("message",s),o.port1.start(),n.addEventListener("load",(function(){n.contentWindow.postMessage("init",t,[o.port2])})),setTimeout((function(){i||(i=!0,e(new Error("IFrame extension not supported")))}),200)},r.EXTENSION_TIMEOUT_SEC=30,r.port_=null,r.waitingForPort_=[],r.reqCounter_=0,r.callbackMap_={},r.getPortSingleton_=function(e){r.port_?e(null,r.port_):(0==r.waitingForPort_.length&&r.getMessagePort((function(e,t){for(e||(r.port_=t,r.port_.addEventListener("message",r.responseHandler_));r.waitingForPort_.length;)r.waitingForPort_.shift()(e,t)})),r.waitingForPort_.push(e))},r.responseHandler_=function(e){var t=e.data,n=t.requestId;if(n&&r.callbackMap_[n]){var i=r.callbackMap_[n];delete r.callbackMap_[n],i(null,t.responseData)}else console.error("Unknown or missing requestId in response.")},r.isSupported=function(e){r.getPortSingleton_((function(t,r){e(!t)}))},r.sign=function(e,t,n){r.getPortSingleton_((function(i,o){if(i)return t(i);var s=++r.reqCounter_;r.callbackMap_[s]=t;var a={type:r.MessageTypes.U2F_SIGN_REQUEST,signRequests:e,timeoutSeconds:void 0!==n?n:r.EXTENSION_TIMEOUT_SEC,requestId:s};o.postMessage(a)}))},r.register=function(e,t,n,i){r.getPortSingleton_((function(o,s){if(o)return n(o);var a=++r.reqCounter_;r.callbackMap_[a]=n;var c={type:r.MessageTypes.U2F_REGISTER_REQUEST,signRequests:t,registerRequests:e,timeoutSeconds:void 0!==i?i:r.EXTENSION_TIMEOUT_SEC,requestId:a};s.postMessage(c)}))}})),u=i("btOQf");var l,f={},h="object"==typeof Reflect?Reflect:null,p=h&&"function"==typeof h.apply?h.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};l=h&&"function"==typeof h.ownKeys?h.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var d=Number.isNaN||function(e){return e!=e};function m(){m.init.call(this)}(f=m).once=function(e,t){return new Promise((function(r,n){function i(r){e.removeListener(t,o),n(r)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}A(e,t,o,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&A(e,"error",t,r)}(e,i,{once:!0})}))},m.EventEmitter=m,m.prototype._events=void 0,m.prototype._eventsCount=0,m.prototype._maxListeners=void 0;var g=10;function v(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function y(e){return void 0===e._maxListeners?m.defaultMaxListeners:e._maxListeners}function b(e,t,r,n){var i,o,s,a;if(v(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),s=o[t]),void 0===s)s=o[t]=r,++e._eventsCount;else if("function"==typeof s?s=o[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(i=y(e))>0&&s.length>i&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=s.length,a=c,console&&console.warn&&console.warn(a)}return e}function w(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=w.bind(n);return i.listener=r,n.wrapFn=i,i}function E(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):S(i,i.length)}function x(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function S(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function A(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){n.once&&e.removeEventListener(t,i),r(o)}))}}Object.defineProperty(m,"defaultMaxListeners",{enumerable:!0,get:function(){return g},set:function(e){if("number"!=typeof e||e<0||d(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");g=e}}),m.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},m.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||d(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},m.prototype.getMaxListeners=function(){return y(this)},m.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var a=i[e];if(void 0===a)return!1;if("function"==typeof a)p(a,this,t);else{var c=a.length,u=S(a,c);for(r=0;r<c;++r)p(u[r],this,t)}return!0},m.prototype.addListener=function(e,t){return b(this,e,t,!1)},m.prototype.on=m.prototype.addListener,m.prototype.prependListener=function(e,t){return b(this,e,t,!0)},m.prototype.once=function(e,t){return v(t),this.on(e,_(this,e,t)),this},m.prototype.prependOnceListener=function(e,t){return v(t),this.prependListener(e,_(this,e,t)),this},m.prototype.removeListener=function(e,t){var r,n,i,o,s;if(v(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){s=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},m.prototype.off=m.prototype.removeListener,m.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},m.prototype.listeners=function(e){return E(this,e,!0)},m.prototype.rawListeners=function(e){return E(this,e,!1)},m.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):x.call(e,t)},m.prototype.listenerCount=x,m.prototype.eventNames=function(){return this._eventsCount>0?l(this._events):[]};var R={},I={},O=function(e,t){I[e]=t},$=function(e){var t=function(t,r){Object.assign(this,r),this.name=e,this.message=t||e,this.stack=(new Error).stack};return t.prototype=new Error,R[e]=t,t};$("AccountNameRequired"),$("AccountNotSupported"),$("AmountRequired"),$("BluetoothRequired"),$("BtcUnmatchedApp"),$("CantOpenDevice"),$("CashAddrNotSupported"),$("CurrencyNotSupported"),$("DeviceAppVerifyNotSupported"),$("DeviceGenuineSocketEarlyClose"),$("DeviceNotGenuine"),$("DeviceOnDashboardExpected"),$("DeviceOnDashboardUnexpected"),$("DeviceInOSUExpected"),$("DeviceHalted"),$("DeviceNameInvalid"),$("DeviceSocketFail"),$("DeviceSocketNoBulkStatus");var T=$("DisconnectedDevice"),k=$("DisconnectedDeviceDuringOperation"),j=($("EnpointConfig"),$("EthAppPleaseEnableContractData"),$("FeeEstimationFailed"),$("FirmwareNotRecognized"),$("HardResetFail"),$("InvalidXRPTag"),$("InvalidAddress"),$("InvalidAddressBecauseDestinationIsAlsoSource"),$("LatestMCUInstalledError"),$("UnknownMCU"),$("LedgerAPIError"),$("LedgerAPIErrorWithMessage"),$("LedgerAPINotAvailable"),$("ManagerAppAlreadyInstalled"),$("ManagerAppRelyOnBTC"),$("ManagerAppDepInstallRequired"),$("ManagerAppDepUninstallRequired"),$("ManagerDeviceLocked"),$("ManagerFirmwareNotEnoughSpace"),$("ManagerNotEnoughSpace"),$("ManagerUninstallBTCDep"),$("NetworkDown"),$("NoAddressesFound"),$("NotEnoughBalance"),$("NotEnoughBalanceToDelegate"),$("NotEnoughBalanceInParentAccount"),$("NotEnoughSpendableBalance"),$("NotEnoughBalanceBecauseDestinationNotCreated"),$("NoAccessToCamera"),$("NotEnoughGas"),$("NotSupportedLegacyAddress"),$("GasLessThanEstimate"),$("PasswordsDontMatch"),$("PasswordIncorrect"),$("RecommendSubAccountsToEmpty"),$("RecommendUndelegation"),$("TimeoutTagged"),$("UnexpectedBootloader"),$("MCUNotGenuineToDashboard"),$("RecipientRequired"),$("UnavailableTezosOriginatedAccountReceive"),$("UnavailableTezosOriginatedAccountSend"),$("UpdateFetchFileFail"),$("UpdateIncorrectHash"),$("UpdateIncorrectSig"),$("UpdateYourApp"),$("UserRefusedDeviceNameChange"),$("UserRefusedAddress"),$("UserRefusedFirmwareUpdate"),$("UserRefusedAllowManager"),$("UserRefusedOnDevice"),$("TransportOpenUserCancelled")),L=$("TransportInterfaceNotAvailable"),N=$("TransportRaceCondition"),C=$("TransportWebUSBGestureRequired");$("DeviceShouldStayInApp"),$("WebsocketConnectionError"),$("WebsocketConnectionFailed"),$("WrongDeviceForAccount"),$("WrongAppForCurrency"),$("ETHAddressNonEIP"),$("CantScanQRCode"),$("FeeNotLoaded"),$("FeeRequired"),$("FeeTooHigh"),$("SyncError"),$("PairingFailed"),$("GenuineCheckFailed"),$("LedgerAPI4xx"),$("LedgerAPI5xx"),$("FirmwareOrAppUpdateRequired"),$("NoDBPathGiven"),$("DBWrongPassword"),$("DBNotReset");function P(e,t){this.name="TransportError",this.message=e,this.stack=(new Error).stack,this.id=t}P.prototype=new Error,O("TransportError",(function(e){return new P(e.message,e.id)}));var D,M,B,U={PIN_REMAINING_ATTEMPTS:25536,INCORRECT_LENGTH:26368,MISSING_CRITICAL_PARAMETER:26624,COMMAND_INCOMPATIBLE_FILE_STRUCTURE:27009,SECURITY_STATUS_NOT_SATISFIED:27010,CONDITIONS_OF_USE_NOT_SATISFIED:27013,INCORRECT_DATA:27264,NOT_ENOUGH_MEMORY_SPACE:27268,REFERENCED_DATA_NOT_FOUND:27272,FILE_ALREADY_EXISTS:27273,INCORRECT_P1_P2:27392,INS_NOT_SUPPORTED:27904,CLA_NOT_SUPPORTED:28160,TECHNICAL_PROBLEM:28416,OK:36864,MEMORY_PROBLEM:37440,NO_EF_SELECTED:37888,INVALID_OFFSET:37890,FILE_NOT_FOUND:37892,INCONSISTENT_FILE:37896,ALGORITHM_NOT_SUPPORTED:38020,INVALID_KCV:38021,CODE_NOT_INITIALIZED:38914,ACCESS_CONDITION_NOT_FULFILLED:38916,CONTRADICTION_SECRET_CODE_STATUS:38920,CONTRADICTION_INVALIDATION:38928,CODE_BLOCKED:38976,MAX_VALUE_REACHED:38992,GP_AUTH_FAILED:25344,LICENSING:28482,HALTED:28586};function F(e){this.name="TransportStatusError";var t=Object.keys(U).find((function(t){return U[t]===e}))||"UNKNOWN_ERROR",r=function(e){switch(e){case 26368:return"Incorrect length";case 26624:return"Missing critical parameter";case 27010:return"Security not satisfied (dongle locked or have invalid access rights)";case 27013:return"Condition of use not satisfied (denied by the user?)";case 27264:return"Invalid data received";case 27392:return"Invalid parameter received"}if(28416<=e&&e<=28671)return"Internal error, please report"}(e)||t,n=e.toString(16);this.message="Ledger device: "+r+" (0x"+n+")",this.stack=(new Error).stack,this.statusCode=e,this.statusText=t}F.prototype=new Error,O("TransportStatusError",(function(e){return new F(e.statusCode)})),M=function(e){var t,r,n=Y(e),i=n[0],o=n[1],s=new V(function(e,t,r){return 3*(t+r)/4-r}(0,i,o)),a=0,c=o>0?i-4:i;for(r=0;r<c;r+=4)t=G[e.charCodeAt(r)]<<18|G[e.charCodeAt(r+1)]<<12|G[e.charCodeAt(r+2)]<<6|G[e.charCodeAt(r+3)],s[a++]=t>>16&255,s[a++]=t>>8&255,s[a++]=255&t;2===o&&(t=G[e.charCodeAt(r)]<<2|G[e.charCodeAt(r+1)]>>4,s[a++]=255&t);1===o&&(t=G[e.charCodeAt(r)]<<10|G[e.charCodeAt(r+1)]<<4|G[e.charCodeAt(r+2)]>>2,s[a++]=t>>8&255,s[a++]=255&t);return s},B=function(e){for(var t,r=e.length,n=r%3,i=[],o=16383,s=0,a=r-n;s<a;s+=o)i.push(J(e,s,s+o>a?a:s+o));1===n?(t=e[r-1],i.push(q[t>>2]+q[t<<4&63]+"==")):2===n&&(t=(e[r-2]<<8)+e[r-1],i.push(q[t>>10]+q[t>>4&63]+q[t<<2&63]+"="));return i.join("")}
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */;for(var z,H,q=[],G=[],V="undefined"!=typeof Uint8Array?Uint8Array:Array,W="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",K=0,X=W.length;K<X;++K)q[K]=W[K],G[W.charCodeAt(K)]=K;function Y(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function J(e,t,r){for(var n,i,o=[],s=t;s<r;s+=3)n=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(q[(i=n)>>18&63]+q[i>>12&63]+q[i>>6&63]+q[63&i]);return o.join("")}G["-".charCodeAt(0)]=62,G["_".charCodeAt(0)]=63,H=function(e,t,r,n,i){var o,s,a=8*i-n-1,c=(1<<a)-1,u=c>>1,l=-7,f=r?i-1:0,h=r?-1:1,p=e[t+f];for(f+=h,o=p&(1<<-l)-1,p>>=-l,l+=a;l>0;o=256*o+e[t+f],f+=h,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=n;l>0;s=256*s+e[t+f],f+=h,l-=8);if(0===o)o=1-u;else{if(o===c)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),o-=u}return(p?-1:1)*s*Math.pow(2,o-n)},z=function(e,t,r,n,i,o){var s,a,c,u=8*o-i-1,l=(1<<u)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,d=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),(t+=s+f>=1?h/c:h*Math.pow(2,1-f))*c>=2&&(s++,c/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(t*c-1)*Math.pow(2,i),s+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;e[r+p]=255&a,p+=d,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[r+p]=255&s,p+=d,s/=256,u-=8);e[r+p-d]|=128*m};var Z="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;D=te;var Q=2147483647;function ee(e){if(e>Q)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,te.prototype),t}function te(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return ie(e)}return re(e,t,r)}function re(e,t,r){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!te.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|ce(e,t),n=ee(r),i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Ne(e,Uint8Array)){var t=new Uint8Array(e);return se(t.buffer,t.byteOffset,t.byteLength)}return oe(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Ne(e,ArrayBuffer)||e&&Ne(e.buffer,ArrayBuffer))return se(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(Ne(e,SharedArrayBuffer)||e&&Ne(e.buffer,SharedArrayBuffer)))return se(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return te.from(n,t,r);var i=function(e){if(te.isBuffer(e)){var t=0|ae(e.length),r=ee(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!=typeof e.length||Ce(e.length)?ee(0):oe(e);if("Buffer"===e.type&&Array.isArray(e.data))return oe(e.data)}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return te.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function ne(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function ie(e){return ne(e),ee(e<0?0:0|ae(e))}function oe(e){for(var t=e.length<0?0:0|ae(e.length),r=ee(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function se(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,te.prototype),n}function ae(e){if(e>=Q)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Q.toString(16)+" bytes");return 0|e}function ce(e,t){if(te.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Ne(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return ke(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return je(e).length;default:if(i)return n?-1:ke(e).length;t=(""+t).toLowerCase(),i=!0}}function ue(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return xe(this,t,r);case"utf8":case"utf-8":return be(this,t,r);case"ascii":return _e(this,t,r);case"latin1":case"binary":return Ee(this,t,r);case"base64":return ye(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Se(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function le(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function fe(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),Ce(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=te.from(t,n)),te.isBuffer(t))return 0===t.length?-1:he(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):he(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function he(e,t,r,n,i){var o,s=1,a=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,c/=2,r/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var l=-1;for(o=r;o<a;o++)if(u(e,o)===u(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===c)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(r+c>a&&(r=a-c),o=r;o>=0;o--){for(var f=!0,h=0;h<c;h++)if(u(e,o+h)!==u(t,h)){f=!1;break}if(f)return o}return-1}function pe(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(2*s,2),16);if(Ce(a))return s;e[r+s]=a}return s}function de(e,t,r,n){return Le(ke(t,e.length-r),e,r,n)}function me(e,t,r,n){return Le(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function ge(e,t,r,n){return Le(je(t),e,r,n)}function ve(e,t,r,n){return Le(function(e,t){for(var r,n,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)n=(r=e.charCodeAt(s))>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function ye(e,t,r){return 0===t&&r===e.length?B(e):B(e.slice(t,r))}function be(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,s,a,c,u=e[i],l=null,f=u>239?4:u>223?3:u>191?2:1;if(i+f<=r)switch(f){case 1:u<128&&(l=u);break;case 2:128==(192&(o=e[i+1]))&&(c=(31&u)<<6|63&o)>127&&(l=c);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&(c=(15&u)<<12|(63&o)<<6|63&s)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(c=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&c<1114112&&(l=c)}null===l?(l=65533,f=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=f}return function(e){var t=e.length;if(t<=we)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=we));return r}(n)}te.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),te.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(te.prototype,"parent",{enumerable:!0,get:function(){if(te.isBuffer(this))return this.buffer}}),Object.defineProperty(te.prototype,"offset",{enumerable:!0,get:function(){if(te.isBuffer(this))return this.byteOffset}}),te.poolSize=8192,te.from=function(e,t,r){return re(e,t,r)},Object.setPrototypeOf(te.prototype,Uint8Array.prototype),Object.setPrototypeOf(te,Uint8Array),te.alloc=function(e,t,r){return function(e,t,r){return ne(e),e<=0?ee(e):void 0!==t?"string"==typeof r?ee(e).fill(t,r):ee(e).fill(t):ee(e)}(e,t,r)},te.allocUnsafe=function(e){return ie(e)},te.allocUnsafeSlow=function(e){return ie(e)},te.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==te.prototype},te.compare=function(e,t){if(Ne(e,Uint8Array)&&(e=te.from(e,e.offset,e.byteLength)),Ne(t,Uint8Array)&&(t=te.from(t,t.offset,t.byteLength)),!te.isBuffer(e)||!te.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},te.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},te.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return te.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=te.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(Ne(o,Uint8Array))i+o.length>n.length?te.from(o).copy(n,i):Uint8Array.prototype.set.call(n,o,i);else{if(!te.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i)}i+=o.length}return n},te.byteLength=ce,te.prototype._isBuffer=!0,te.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)le(this,t,t+1);return this},te.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)le(this,t,t+3),le(this,t+1,t+2);return this},te.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)le(this,t,t+7),le(this,t+1,t+6),le(this,t+2,t+5),le(this,t+3,t+4);return this},te.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?be(this,0,e):ue.apply(this,arguments)},te.prototype.toLocaleString=te.prototype.toString,te.prototype.equals=function(e){if(!te.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===te.compare(this,e)},te.prototype.inspect=function(){var e="";return e=this.toString("hex",0,50).replace(/(.{2})/g,"$1 ").trim(),this.length>50&&(e+=" ... "),"<Buffer "+e+">"},Z&&(te.prototype[Z]=te.prototype.inspect),te.prototype.compare=function(e,t,r,n,i){if(Ne(e,Uint8Array)&&(e=te.from(e,e.offset,e.byteLength)),!te.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0),a=Math.min(o,s),c=this.slice(n,i),u=e.slice(t,r),l=0;l<a;++l)if(c[l]!==u[l]){o=c[l],s=u[l];break}return o<s?-1:s<o?1:0},te.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},te.prototype.indexOf=function(e,t,r){return fe(this,e,t,r,!0)},te.prototype.lastIndexOf=function(e,t,r){return fe(this,e,t,r,!1)},te.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return pe(this,e,t,r);case"utf8":case"utf-8":return de(this,e,t,r);case"ascii":case"latin1":case"binary":return me(this,e,t,r);case"base64":return ge(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ve(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},te.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var we=4096;function _e(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function Ee(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function xe(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=Pe[e[o]];return i}function Se(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function Ae(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function Re(e,t,r,n,i,o){if(!te.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function Ie(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Oe(e,t,r,n,i){return t=+t,r>>>=0,i||Ie(e,0,r,4),z(e,t,r,n,23,4),r+4}function $e(e,t,r,n,i){return t=+t,r>>>=0,i||Ie(e,0,r,8),z(e,t,r,n,52,8),r+8}te.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,te.prototype),n},te.prototype.readUintLE=te.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||Ae(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},te.prototype.readUintBE=te.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||Ae(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},te.prototype.readUint8=te.prototype.readUInt8=function(e,t){return e>>>=0,t||Ae(e,1,this.length),this[e]},te.prototype.readUint16LE=te.prototype.readUInt16LE=function(e,t){return e>>>=0,t||Ae(e,2,this.length),this[e]|this[e+1]<<8},te.prototype.readUint16BE=te.prototype.readUInt16BE=function(e,t){return e>>>=0,t||Ae(e,2,this.length),this[e]<<8|this[e+1]},te.prototype.readUint32LE=te.prototype.readUInt32LE=function(e,t){return e>>>=0,t||Ae(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},te.prototype.readUint32BE=te.prototype.readUInt32BE=function(e,t){return e>>>=0,t||Ae(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},te.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||Ae(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},te.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||Ae(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},te.prototype.readInt8=function(e,t){return e>>>=0,t||Ae(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},te.prototype.readInt16LE=function(e,t){e>>>=0,t||Ae(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},te.prototype.readInt16BE=function(e,t){e>>>=0,t||Ae(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},te.prototype.readInt32LE=function(e,t){return e>>>=0,t||Ae(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},te.prototype.readInt32BE=function(e,t){return e>>>=0,t||Ae(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},te.prototype.readFloatLE=function(e,t){return e>>>=0,t||Ae(e,4,this.length),H(this,e,!0,23,4)},te.prototype.readFloatBE=function(e,t){return e>>>=0,t||Ae(e,4,this.length),H(this,e,!1,23,4)},te.prototype.readDoubleLE=function(e,t){return e>>>=0,t||Ae(e,8,this.length),H(this,e,!0,52,8)},te.prototype.readDoubleBE=function(e,t){return e>>>=0,t||Ae(e,8,this.length),H(this,e,!1,52,8)},te.prototype.writeUintLE=te.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||Re(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},te.prototype.writeUintBE=te.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||Re(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},te.prototype.writeUint8=te.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||Re(this,e,t,1,255,0),this[t]=255&e,t+1},te.prototype.writeUint16LE=te.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||Re(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},te.prototype.writeUint16BE=te.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||Re(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},te.prototype.writeUint32LE=te.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||Re(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},te.prototype.writeUint32BE=te.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||Re(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},te.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);Re(this,e,t,r,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<r&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},te.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);Re(this,e,t,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},te.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||Re(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},te.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||Re(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},te.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||Re(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},te.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||Re(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},te.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||Re(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},te.prototype.writeFloatLE=function(e,t,r){return Oe(this,e,t,!0,r)},te.prototype.writeFloatBE=function(e,t,r){return Oe(this,e,t,!1,r)},te.prototype.writeDoubleLE=function(e,t,r){return $e(this,e,t,!0,r)},te.prototype.writeDoubleBE=function(e,t,r){return $e(this,e,t,!1,r)},te.prototype.copy=function(e,t,r,n){if(!te.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},te.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!te.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var i=e.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(e=i)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var s=te.isBuffer(e)?e:te.from(e,n),a=s.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<r-t;++o)this[o+t]=s[o%a]}return this};var Te=/[^+/0-9A-Za-z-_]/g;function ke(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function je(e){return M(function(e){if((e=(e=e.split("=")[0]).trim().replace(Te,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function Le(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function Ne(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Ce(e){return e!=e}var Pe=function(){for(var e="0123456789abcdef",t=new Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)t[n+i]=e[r]+e[i];return t}(),De=D;class Me{constructor(){this.exchangeTimeout=3e4,this.unresponsiveTimeout=15e3,this.deviceModel=null,this._events=new(t(f)),this.send=async(e,t,r,n,i=De.alloc(0),o=[U.OK])=>{if(i.length>=256)throw new P("data.length exceed 256 bytes limit. Got: "+i.length,"DataLengthTooBig");const s=await this.exchange(De.concat([De.from([e,t,r,n]),De.from([i.length]),i])),a=s.readUInt16BE(s.length-2);if(!o.some((e=>e===a)))throw new F(a);return s},this.exchangeBusyPromise=void 0,this.exchangeAtomicImpl=async e=>{if(this.exchangeBusyPromise)throw new N("An action was already pending on the Ledger device. Please deny or reconnect.");let t;const r=new Promise((e=>{t=e}));this.exchangeBusyPromise=r;let n=!1;const i=setTimeout((()=>{n=!0,this.emit("unresponsive")}),this.unresponsiveTimeout);try{const r=await e();return n&&this.emit("responsive"),r}finally{clearTimeout(i),t&&t(),this.exchangeBusyPromise=null}},this._appAPIlock=null}exchange(e){throw new Error("exchange not implemented")}setScrambleKey(e){}close(){return Promise.resolve()}on(e,t){this._events.on(e,t)}off(e,t){this._events.removeListener(e,t)}emit(e,...t){this._events.emit(e,...t)}setDebugMode(){console.warn("setDebugMode is deprecated. use @ledgerhq/logs instead. No logs are emitted in this anymore.")}setExchangeTimeout(e){this.exchangeTimeout=e}setExchangeUnresponsiveTimeout(e){this.unresponsiveTimeout=e}static create(e=3e3,t){return new Promise(((r,n)=>{let i=!1;const o=this.listen({next:t=>{i=!0,o&&o.unsubscribe(),s&&clearTimeout(s),this.open(t.descriptor,e).then(r,n)},error:e=>{s&&clearTimeout(s),n(e)},complete:()=>{s&&clearTimeout(s),i||n(new P(this.ErrorMessage_NoDeviceFound,"NoDeviceFound"))}}),s=t?setTimeout((()=>{o.unsubscribe(),n(new P(this.ErrorMessage_ListenTimeout,"ListenTimeout"))}),t):null}))}decorateAppAPIMethods(e,t,r){for(let n of t)e[n]=this.decorateAppAPIMethod(n,e[n],e,r)}decorateAppAPIMethod(e,t,r,n){return async(...i)=>{const{_appAPIlock:o}=this;if(o)return Promise.reject(new P("Ledger Device is busy (lock "+o+")","TransportLocked"));try{return this._appAPIlock=e,this.setScrambleKey(n),await t.apply(r,i)}finally{this._appAPIlock=null}}}}Me.isSupported=void 0,Me.list=void 0,Me.listen=void 0,Me.open=void 0,Me.ErrorMessage_ListenTimeout="No Ledger device found (timeout)",Me.ErrorMessage_NoDeviceFound="No Ledger device found";var Be=D;const Ue=e=>e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"");function Fe(e,t,r,n){const i=function(e,t){const r=Be.alloc(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n%t.length];return r}(e,r),o=Be.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),s={version:"U2F_V2",keyHandle:Ue(i.toString("base64")),challenge:Ue(o.toString("base64")),appId:location.origin};return a("apdu","=> "+e.toString("hex")),u.sign(s,t/1e3).then((e=>{const{signatureData:t}=e;if("string"==typeof t){const e=Be.from((r=t).replace(/-/g,"+").replace(/_/g,"/")+"==".substring(0,3*r.length%4),"base64");let i;return i=n?e.slice(5):e,a("apdu","<= "+i.toString("hex")),i}throw e;var r}))}let ze=[];class He extends Me{static async open(e,t=5e3){return new He}constructor(){super(),this.scrambleKey=void 0,this.unwrap=!0,ze.push(this)}async exchange(e){try{return await Fe(e,this.exchangeTimeout,this.scrambleKey,this.unwrap)}catch(e){throw"object"==typeof e.metaData?(5===e.metaData.code&&(ze.forEach((e=>e.emit("disconnect"))),ze=[]),function(e,t,r){const n=new P(t,r);return n.originalError=e,n}(e,"Failed to sign with Ledger device: U2F "+e.metaData.type,"U2F_"+e.metaData.code)):e}}setScrambleKey(e){this.scrambleKey=Be.from(e,"ascii")}setUnwrap(e){this.unwrap=e}close(){return Promise.resolve()}}He.isSupported=u.isSupported,He.list=()=>u.isSupported().then((e=>e?[null]:[])),He.listen=e=>{let t=!1;return u.isSupported().then((r=>{t||(r?(e.next({type:"add",descriptor:null}),e.complete()):e.error(new P("U2F browser support is needed for Ledger. Please use Chrome, Opera or Firefox with a U2F extension. Also make sure you're on an HTTPS connection","U2FNotSupported")))})),{unsubscribe:()=>{t=!0}}};var qe={},Ge=D;Object.defineProperty(qe,"__esModule",{value:!0}),qe.wrapApdu=function(e,t){if(0===e.length)return e;const r=Ge.alloc(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n%t.length];return r};var Ve=D;class We extends Me{constructor(...e){super(...e),this.scrambleKey=void 0}static async open(){return new We}async exchange(e){a("apdu","=> "+e.toString("hex"));const t=await((e,t,r)=>{if(!r)throw new P("transport.setScrambleKey must be used to set a scramble key. Refer to documentation.","NoScrambleKey");if(!navigator.credentials)throw new P("WebAuthn not supported","NotSupported");return navigator.credentials.get({publicKey:{timeout:t,challenge:new Uint8Array(32),allowCredentials:[{type:"public-key",id:new Uint8Array(qe.wrapApdu(e,r))}]}}).then((e=>Ve.from(e.response.signature)))})(e,this.exchangeTimeout,this.scrambleKey);return a("apdu","<= "+t.toString("hex")),t}setScrambleKey(e){this.scrambleKey=Ve.from(e,"ascii")}close(){return Promise.resolve()}}We.isSupported=()=>Promise.resolve(!!navigator.credentials),We.list=()=>navigator.credentials?[null]:[],We.listen=e=>(setTimeout((()=>{if(!navigator.credentials)return e.error(new P("WebAuthn not supported","NotSupported")),{unsubscribe:()=>{}};e.next({type:"add",descriptor:null}),e.complete()}),0),{unsubscribe:()=>{}});var Ke={},Xe=D;Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.default=void 0;function Ye(e){const t=Xe.alloc(2);return t.writeUInt16BE(e,0),t}const Je={data:Xe.alloc(0),dataLength:0,sequence:0};var Ze=(e,t)=>({makeBlocks(r){let n=Xe.concat([Ye(r.length),r]);const i=t-5,o=Math.ceil(n.length/i);n=Xe.concat([n,Xe.alloc(o*i-n.length+1).fill(0)]);const s=[];for(let t=0;t<o;t++){const r=Xe.alloc(5);r.writeUInt16BE(e,0),r.writeUInt8(5,2),r.writeUInt16BE(t,3);const o=n.slice(t*i,(t+1)*i);s.push(Xe.concat([r,o]))}return s},reduceResponse(t,r){let{data:n,dataLength:i,sequence:o}=t||Je;if(r.readUInt16BE(0)!==e)throw new P("Invalid channel","InvalidChannel");if(5!==r.readUInt8(2))throw new P("Invalid tag","InvalidTag");if(r.readUInt16BE(3)!==o)throw new P("Invalid sequence","InvalidSequence");t||(i=r.readUInt16BE(5)),o++;const s=r.slice(t?5:7);return n=Xe.concat([n,s]),n.length>i&&(n=n.slice(0,i)),{data:n,dataLength:i,sequence:o}},getReducedResult(e){if(e&&e.dataLength===e.data.length)return e.data}});Ke.default=Ze;var Qe;i.register("djCnT",(function(e,t){var r=i("kM2wi").MAX_SAFE_COMPONENT_LENGTH,n=i("3mpGL");const o=(t=e.exports={}).re=[],s=t.src=[],a=t.t={};let c=0;const u=(e,t,r)=>{const i=c++;n(i,t),a[e]=i,s[i]=t,o[i]=new RegExp(t,r?"g":void 0)};u("NUMERICIDENTIFIER","0|[1-9]\\d*"),u("NUMERICIDENTIFIERLOOSE","[0-9]+"),u("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),u("MAINVERSION",`(${s[a.NUMERICIDENTIFIER]})\\.(${s[a.NUMERICIDENTIFIER]})\\.(${s[a.NUMERICIDENTIFIER]})`),u("MAINVERSIONLOOSE",`(${s[a.NUMERICIDENTIFIERLOOSE]})\\.(${s[a.NUMERICIDENTIFIERLOOSE]})\\.(${s[a.NUMERICIDENTIFIERLOOSE]})`),u("PRERELEASEIDENTIFIER",`(?:${s[a.NUMERICIDENTIFIER]}|${s[a.NONNUMERICIDENTIFIER]})`),u("PRERELEASEIDENTIFIERLOOSE",`(?:${s[a.NUMERICIDENTIFIERLOOSE]}|${s[a.NONNUMERICIDENTIFIER]})`),u("PRERELEASE",`(?:-(${s[a.PRERELEASEIDENTIFIER]}(?:\\.${s[a.PRERELEASEIDENTIFIER]})*))`),u("PRERELEASELOOSE",`(?:-?(${s[a.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${s[a.PRERELEASEIDENTIFIERLOOSE]})*))`),u("BUILDIDENTIFIER","[0-9A-Za-z-]+"),u("BUILD",`(?:\\+(${s[a.BUILDIDENTIFIER]}(?:\\.${s[a.BUILDIDENTIFIER]})*))`),u("FULLPLAIN",`v?${s[a.MAINVERSION]}${s[a.PRERELEASE]}?${s[a.BUILD]}?`),u("FULL",`^${s[a.FULLPLAIN]}$`),u("LOOSEPLAIN",`[v=\\s]*${s[a.MAINVERSIONLOOSE]}${s[a.PRERELEASELOOSE]}?${s[a.BUILD]}?`),u("LOOSE",`^${s[a.LOOSEPLAIN]}$`),u("GTLT","((?:<|>)?=?)"),u("XRANGEIDENTIFIERLOOSE",`${s[a.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),u("XRANGEIDENTIFIER",`${s[a.NUMERICIDENTIFIER]}|x|X|\\*`),u("XRANGEPLAIN",`[v=\\s]*(${s[a.XRANGEIDENTIFIER]})(?:\\.(${s[a.XRANGEIDENTIFIER]})(?:\\.(${s[a.XRANGEIDENTIFIER]})(?:${s[a.PRERELEASE]})?${s[a.BUILD]}?)?)?`),u("XRANGEPLAINLOOSE",`[v=\\s]*(${s[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[a.XRANGEIDENTIFIERLOOSE]})(?:${s[a.PRERELEASELOOSE]})?${s[a.BUILD]}?)?)?`),u("XRANGE",`^${s[a.GTLT]}\\s*${s[a.XRANGEPLAIN]}$`),u("XRANGELOOSE",`^${s[a.GTLT]}\\s*${s[a.XRANGEPLAINLOOSE]}$`),u("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),u("COERCERTL",s[a.COERCE],!0),u("LONETILDE","(?:~>?)"),u("TILDETRIM",`(\\s*)${s[a.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",u("TILDE",`^${s[a.LONETILDE]}${s[a.XRANGEPLAIN]}$`),u("TILDELOOSE",`^${s[a.LONETILDE]}${s[a.XRANGEPLAINLOOSE]}$`),u("LONECARET","(?:\\^)"),u("CARETTRIM",`(\\s*)${s[a.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",u("CARET",`^${s[a.LONECARET]}${s[a.XRANGEPLAIN]}$`),u("CARETLOOSE",`^${s[a.LONECARET]}${s[a.XRANGEPLAINLOOSE]}$`),u("COMPARATORLOOSE",`^${s[a.GTLT]}\\s*(${s[a.LOOSEPLAIN]})$|^$`),u("COMPARATOR",`^${s[a.GTLT]}\\s*(${s[a.FULLPLAIN]})$|^$`),u("COMPARATORTRIM",`(\\s*)${s[a.GTLT]}\\s*(${s[a.LOOSEPLAIN]}|${s[a.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",u("HYPHENRANGE",`^\\s*(${s[a.XRANGEPLAIN]})\\s+-\\s+(${s[a.XRANGEPLAIN]})\\s*$`),u("HYPHENRANGELOOSE",`^\\s*(${s[a.XRANGEPLAINLOOSE]})\\s+-\\s+(${s[a.XRANGEPLAINLOOSE]})\\s*$`),u("STAR","(<|>)?=?\\s*\\*"),u("GTE0","^\\s*>=\\s*0.0.0\\s*$"),u("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")})),i.register("kM2wi",(function(e,t){const r=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:r,MAX_SAFE_COMPONENT_LENGTH:16}})),i.register("3mpGL",(function(e,t){var r=i("3iDrb");const n=("object"==typeof r&&r.env,()=>{});e.exports=n})),i.register("3iDrb",(function(e,t){var r,n,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var c,u=[],l=!1,f=-1;function h(){l&&c&&(l=!1,c.length?u=c.concat(u):f=-1,u.length&&p())}function p(){if(!l){var e=a(h);l=!0;for(var t=u.length;t;){for(c=u,u=[];++f<t;)c&&c[f].run();f=-1,t=u.length}c=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new d(e,t)),1!==u.length||l||a(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}}));var et=i("djCnT");i.register("kRDtL",(function(e,t){var r=i("3mpGL"),n=i("kM2wi"),o=n.MAX_LENGTH,s=n.MAX_SAFE_INTEGER,a=i("djCnT"),c=a.t,u=a.re,l=i("bh77N"),f=i("epWHq").compareIdentifiers;class h{constructor(e,t){if(t=l(t),e instanceof h){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid Version: ${e}`);if(e.length>o)throw new TypeError(`version is longer than ${o} characters`);r("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=e.trim().match(t.loose?u[c.LOOSE]:u[c.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>s||this.major<0)throw new TypeError("Invalid major version");if(this.minor>s||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>s||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<s)return t}return e})):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(r("SemVer.compare",this.version,this.options,e),!(e instanceof h)){if("string"==typeof e&&e===this.version)return 0;e=new h(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof h||(e=new h(e,this.options)),f(this.major,e.major)||f(this.minor,e.minor)||f(this.patch,e.patch)}comparePre(e){if(e instanceof h||(e=new h(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],i=e.prerelease[t];if(r("prerelease compare",t,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return f(n,i)}while(++t)}compareBuild(e){e instanceof h||(e=new h(e,this.options));let t=0;do{const n=this.build[t],i=e.build[t];if(r("prerelease compare",t,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return f(n,i)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let e=this.prerelease.length;for(;--e>=0;)"number"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}}e.exports=h})),i.register("bh77N",(function(e,t){const r=["includePrerelease","loose","rtl"];e.exports=e=>e?"object"!=typeof e?{loose:!0}:r.filter((t=>e[t])).reduce(((e,t)=>(e[t]=!0,e)),{}):{}})),i.register("epWHq",(function(e,t){const r=/^[0-9]+$/,n=(e,t)=>{const n=r.test(e),i=r.test(t);return n&&i&&(e=+e,t=+t),e===t?0:n&&!i?-1:i&&!n?1:e<t?-1:1};e.exports={compareIdentifiers:n,rcompareIdentifiers:(e,t)=>n(t,e)}})),i.register("f5oGG",(function(e,t){var r=i("kM2wi").MAX_LENGTH,n=i("djCnT"),o=n.t,s=n.re,a=i("kRDtL"),c=i("bh77N");e.exports=(e,t)=>{if(t=c(t),e instanceof a)return e;if("string"!=typeof e)return null;if(e.length>r)return null;if(!(t.loose?s[o.LOOSE]:s[o.FULL]).test(e))return null;try{return new a(e,t)}catch(e){return null}}})),i.register("JOjcG",(function(e,t){var r=i("f5oGG");e.exports=(e,t)=>{const n=r(e,t);return n?n.version:null}})),i.register("1JWRF",(function(e,t){var r=i("f5oGG");e.exports=(e,t)=>{const n=r(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null}})),i.register("5xzqF",(function(e,t){var r=i("kRDtL");e.exports=(e,t,n,i)=>{"string"==typeof n&&(i=n,n=void 0);try{return new r(e,n).inc(t,i).version}catch(e){return null}}})),i.register("hP93t",(function(e,t){var r=i("f5oGG"),n=i("Cf7JP");e.exports=(e,t)=>{if(n(e,t))return null;{const n=r(e),i=r(t),o=n.prerelease.length||i.prerelease.length,s=o?"pre":"",a=o?"prerelease":"";for(const e in n)if(("major"===e||"minor"===e||"patch"===e)&&n[e]!==i[e])return s+e;return a}}})),i.register("Cf7JP",(function(e,t){var r=i("15oCU");e.exports=(e,t,n)=>0===r(e,t,n)})),i.register("15oCU",(function(e,t){var r=i("kRDtL");e.exports=(e,t,n)=>new r(e,n).compare(new r(t,n))})),i.register("3iI29",(function(e,t){var r=i("kRDtL");e.exports=(e,t)=>new r(e,t).major})),i.register("2vDDd",(function(e,t){var r=i("kRDtL");e.exports=(e,t)=>new r(e,t).minor})),i.register("01RG7",(function(e,t){var r=i("kRDtL");e.exports=(e,t)=>new r(e,t).patch})),i.register("2K9Wh",(function(e,t){var r=i("f5oGG");e.exports=(e,t)=>{const n=r(e,t);return n&&n.prerelease.length?n.prerelease:null}})),i.register("5kept",(function(e,t){var r=i("15oCU");e.exports=(e,t,n)=>r(t,e,n)})),i.register("6VLjW",(function(e,t){var r=i("15oCU");e.exports=(e,t)=>r(e,t,!0)})),i.register("3s9VW",(function(e,t){var r=i("kRDtL");e.exports=(e,t,n)=>{const i=new r(e,n),o=new r(t,n);return i.compare(o)||i.compareBuild(o)}})),i.register("hq1pH",(function(e,t){var r=i("3s9VW");e.exports=(e,t)=>e.sort(((e,n)=>r(e,n,t)))})),i.register("h8UND",(function(e,t){var r=i("3s9VW");e.exports=(e,t)=>e.sort(((e,n)=>r(n,e,t)))})),i.register("dGKUE",(function(e,t){var r=i("15oCU");e.exports=(e,t,n)=>r(e,t,n)>0})),i.register("fnT2z",(function(e,t){var r=i("15oCU");e.exports=(e,t,n)=>r(e,t,n)<0})),i.register("ei4bc",(function(e,t){var r=i("15oCU");e.exports=(e,t,n)=>0!==r(e,t,n)})),i.register("djVdG",(function(e,t){var r=i("15oCU");e.exports=(e,t,n)=>r(e,t,n)>=0})),i.register("1p4uZ",(function(e,t){var r=i("15oCU");e.exports=(e,t,n)=>r(e,t,n)<=0})),i.register("ioNYR",(function(e,t){var r=i("Cf7JP"),n=i("ei4bc"),o=i("dGKUE"),s=i("djVdG"),a=i("fnT2z"),c=i("1p4uZ");e.exports=(e,t,i,u)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof i&&(i=i.version),e===i;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof i&&(i=i.version),e!==i;case"":case"=":case"==":return r(e,i,u);case"!=":return n(e,i,u);case">":return o(e,i,u);case">=":return s(e,i,u);case"<":return a(e,i,u);case"<=":return c(e,i,u);default:throw new TypeError(`Invalid operator: ${t}`)}}})),i.register("2VoZ3",(function(e,t){var r=i("kRDtL"),n=i("f5oGG"),o=i("djCnT"),s=o.re,a=o.t;e.exports=(e,t)=>{if(e instanceof r)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let i=null;if((t=t||{}).rtl){let t;for(;(t=s[a.COERCERTL].exec(e))&&(!i||i.index+i[0].length!==e.length);)i&&t.index+t[0].length===i.index+i[0].length||(i=t),s[a.COERCERTL].lastIndex=t.index+t[1].length+t[2].length;s[a.COERCERTL].lastIndex=-1}else i=e.match(s[a.COERCE]);return null===i?null:n(`${i[2]}.${i[3]||"0"}.${i[4]||"0"}`,t)}})),i.register("31tUg",(function(e,t){const r=Symbol("SemVer ANY");class n{static get ANY(){return r}constructor(e,t){if(t=o(t),e instanceof n){if(e.loose===!!t.loose)return e;e=e.value}l("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===r?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}parse(e){const t=this.options.loose?a[c.COMPARATORLOOSE]:a[c.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new f(n[2],this.options.loose):this.semver=r}toString(){return this.value}test(e){if(l("Comparator.test",e,this.options.loose),this.semver===r||e===r)return!0;if("string"==typeof e)try{e=new f(e,this.options)}catch(e){return!1}return u(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof n))throw new TypeError("a Comparator is required");if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return""===this.value||new h(e.value,t).test(this.value);if(""===e.operator)return""===e.value||new h(this.value,t).test(e.semver);const r=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),o=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=u(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=u(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||i||o&&s||a||c}}e.exports=n;var o=i("bh77N"),s=i("djCnT"),a=s.re,c=s.t,u=i("ioNYR"),l=i("3mpGL"),f=i("kRDtL"),h=i("bkpqL")})),i.register("bkpqL",(function(e,t){class r{constructor(e,t){if(t=o(t),e instanceof r)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new r(e.raw,t);if(e instanceof s)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!m(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&g(e[0])){this.set=[e];break}}this.format()}format(){return this.range=this.set.map((e=>e.join(" ").trim())).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();const t=`parseRange:${Object.keys(this.options).join(",")}:${e}`,r=n.get(t);if(r)return r;const i=this.options.loose,o=i?h[l.HYPHENRANGELOOSE]:h[l.HYPHENRANGE];e=e.replace(o,O(this.options.includePrerelease)),a("hyphen replace",e),e=e.replace(h[l.COMPARATORTRIM],p),a("comparator trim",e,h[l.COMPARATORTRIM]),e=(e=(e=e.replace(h[l.TILDETRIM],f)).replace(h[l.CARETTRIM],d)).split(/\s+/).join(" ");const c=i?h[l.COMPARATORLOOSE]:h[l.COMPARATOR],u=e.split(" ").map((e=>y(e,this.options))).join(" ").split(/\s+/).map((e=>I(e,this.options))).filter(this.options.loose?e=>!!e.match(c):()=>!0).map((e=>new s(e,this.options))),g=(u.length,new Map);for(const e of u){if(m(e))return[e];g.set(e.value,e)}g.size>1&&g.has("")&&g.delete("");const v=[...g.values()];return n.set(t,v),v}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Range is required");return this.set.some((r=>v(r,t)&&e.set.some((e=>v(e,t)&&r.every((r=>e.every((e=>r.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new c(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if($(this.set[t],e,this.options))return!0;return!1}}e.exports=r;const n=new(i("baTL6"))({max:1e3});var o=i("bh77N"),s=i("31tUg"),a=i("3mpGL"),c=i("kRDtL"),u=i("djCnT"),l=u.t,f=u.tildeTrimReplace,h=u.re,p=u.comparatorTrimReplace,d=u.caretTrimReplace;const m=e=>"<0.0.0-0"===e.value,g=e=>""===e.value,v=(e,t)=>{let r=!0;const n=e.slice();let i=n.pop();for(;r&&n.length;)r=n.every((e=>i.intersects(e,t))),i=n.pop();return r},y=(e,t)=>(a("comp",e,t),e=E(e,t),a("caret",e),e=w(e,t),a("tildes",e),e=S(e,t),a("xrange",e),e=R(e,t),a("stars",e),e),b=e=>!e||"x"===e.toLowerCase()||"*"===e,w=(e,t)=>e.trim().split(/\s+/).map((e=>_(e,t))).join(" "),_=(e,t)=>{const r=t.loose?h[l.TILDELOOSE]:h[l.TILDE];return e.replace(r,((t,r,n,i,o)=>{let s;return a("tilde",e,t,r,n,i,o),b(r)?s="":b(n)?s=`>=${r}.0.0 <${+r+1}.0.0-0`:b(i)?s=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`:o?(a("replaceTilde pr",o),s=`>=${r}.${n}.${i}-${o} <${r}.${+n+1}.0-0`):s=`>=${r}.${n}.${i} <${r}.${+n+1}.0-0`,a("tilde return",s),s}))},E=(e,t)=>e.trim().split(/\s+/).map((e=>x(e,t))).join(" "),x=(e,t)=>{a("caret",e,t);const r=t.loose?h[l.CARETLOOSE]:h[l.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,((t,r,i,o,s)=>{let c;return a("caret",e,t,r,i,o,s),b(r)?c="":b(i)?c=`>=${r}.0.0${n} <${+r+1}.0.0-0`:b(o)?c="0"===r?`>=${r}.${i}.0${n} <${r}.${+i+1}.0-0`:`>=${r}.${i}.0${n} <${+r+1}.0.0-0`:s?(a("replaceCaret pr",s),c="0"===r?"0"===i?`>=${r}.${i}.${o}-${s} <${r}.${i}.${+o+1}-0`:`>=${r}.${i}.${o}-${s} <${r}.${+i+1}.0-0`:`>=${r}.${i}.${o}-${s} <${+r+1}.0.0-0`):(a("no pr"),c="0"===r?"0"===i?`>=${r}.${i}.${o}${n} <${r}.${i}.${+o+1}-0`:`>=${r}.${i}.${o}${n} <${r}.${+i+1}.0-0`:`>=${r}.${i}.${o} <${+r+1}.0.0-0`),a("caret return",c),c}))},S=(e,t)=>(a("replaceXRanges",e,t),e.split(/\s+/).map((e=>A(e,t))).join(" ")),A=(e,t)=>{e=e.trim();const r=t.loose?h[l.XRANGELOOSE]:h[l.XRANGE];return e.replace(r,((r,n,i,o,s,c)=>{a("xRange",e,r,n,i,o,s,c);const u=b(i),l=u||b(o),f=l||b(s),h=f;return"="===n&&h&&(n=""),c=t.includePrerelease?"-0":"",u?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&h?(l&&(o=0),s=0,">"===n?(n=">=",l?(i=+i+1,o=0,s=0):(o=+o+1,s=0)):"<="===n&&(n="<",l?i=+i+1:o=+o+1),"<"===n&&(c="-0"),r=`${n+i}.${o}.${s}${c}`):l?r=`>=${i}.0.0${c} <${+i+1}.0.0-0`:f&&(r=`>=${i}.${o}.0${c} <${i}.${+o+1}.0-0`),a("xRange return",r),r}))},R=(e,t)=>(a("replaceStars",e,t),e.trim().replace(h[l.STAR],"")),I=(e,t)=>(a("replaceGTE0",e,t),e.trim().replace(h[t.includePrerelease?l.GTE0PRE:l.GTE0],"")),O=e=>(t,r,n,i,o,s,a,c,u,l,f,h,p)=>`${r=b(n)?"":b(i)?`>=${n}.0.0${e?"-0":""}`:b(o)?`>=${n}.${i}.0${e?"-0":""}`:s?`>=${r}`:`>=${r}${e?"-0":""}`} ${c=b(u)?"":b(l)?`<${+u+1}.0.0-0`:b(f)?`<${u}.${+l+1}.0-0`:h?`<=${u}.${l}.${f}-${h}`:e?`<${u}.${l}.${+f+1}-0`:`<=${c}`}`.trim(),$=(e,t,r)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(a(e[r].semver),e[r].semver!==s.ANY&&e[r].semver.prerelease.length>0){const n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0}})),i.register("baTL6",(function(e,t){"use strict";var r=i("gQLsp");const n=Symbol("max"),o=Symbol("length"),s=Symbol("lengthCalculator"),a=Symbol("allowStale"),c=Symbol("maxAge"),u=Symbol("dispose"),l=Symbol("noDisposeOnSet"),f=Symbol("lruList"),h=Symbol("cache"),p=Symbol("updateAgeOnGet"),d=()=>1;const m=(e,t,r)=>{const n=e[h].get(t);if(n){const t=n.value;if(g(e,t)){if(y(e,n),!e[a])return}else r&&(e[p]&&(n.value.now=Date.now()),e[f].unshiftNode(n));return t.value}},g=(e,t)=>{if(!t||!t.maxAge&&!e[c])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[c]&&r>e[c]},v=e=>{if(e[o]>e[n])for(let t=e[f].tail;e[o]>e[n]&&null!==t;){const r=t.prev;y(e,t),t=r}},y=(e,t)=>{if(t){const r=t.value;e[u]&&e[u](r.key,r.value),e[o]-=r.length,e[h].delete(r.key),e[f].removeNode(t)}};class b{constructor(e,t,r,n,i){this.key=e,this.value=t,this.length=r,this.now=n,this.maxAge=i||0}}const w=(e,t,r,n)=>{let i=r.value;g(e,i)&&(y(e,r),e[a]||(i=void 0)),i&&t.call(n,i.value,i.key,e)};e.exports=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[n]=e.max||1/0;const t=e.length||d;if(this[s]="function"!=typeof t?d:t,this[a]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[c]=e.maxAge||0,this[u]=e.dispose,this[l]=e.noDisposeOnSet||!1,this[p]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[n]=e||1/0,v(this)}get max(){return this[n]}set allowStale(e){this[a]=!!e}get allowStale(){return this[a]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[c]=e,v(this)}get maxAge(){return this[c]}set lengthCalculator(e){"function"!=typeof e&&(e=d),e!==this[s]&&(this[s]=e,this[o]=0,this[f].forEach((e=>{e.length=this[s](e.value,e.key),this[o]+=e.length}))),v(this)}get lengthCalculator(){return this[s]}get length(){return this[o]}get itemCount(){return this[f].length}rforEach(e,t){t=t||this;for(let r=this[f].tail;null!==r;){const n=r.prev;w(this,e,r,t),r=n}}forEach(e,t){t=t||this;for(let r=this[f].head;null!==r;){const n=r.next;w(this,e,r,t),r=n}}keys(){return this[f].toArray().map((e=>e.key))}values(){return this[f].toArray().map((e=>e.value))}reset(){this[u]&&this[f]&&this[f].length&&this[f].forEach((e=>this[u](e.key,e.value))),this[h]=new Map,this[f]=new r,this[o]=0}dump(){return this[f].map((e=>!g(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[f]}set(e,t,r){if((r=r||this[c])&&"number"!=typeof r)throw new TypeError("maxAge must be a number");const i=r?Date.now():0,a=this[s](t,e);if(this[h].has(e)){if(a>this[n])return y(this,this[h].get(e)),!1;const s=this[h].get(e).value;return this[u]&&(this[l]||this[u](e,s.value)),s.now=i,s.maxAge=r,s.value=t,this[o]+=a-s.length,s.length=a,this.get(e),v(this),!0}const p=new b(e,t,a,i,r);return p.length>this[n]?(this[u]&&this[u](e,t),!1):(this[o]+=p.length,this[f].unshift(p),this[h].set(e,this[f].head),v(this),!0)}has(e){if(!this[h].has(e))return!1;const t=this[h].get(e).value;return!g(this,t)}get(e){return m(this,e,!0)}peek(e){return m(this,e,!1)}pop(){const e=this[f].tail;return e?(y(this,e),e.value):null}del(e){y(this,this[h].get(e))}load(e){this.reset();const t=Date.now();for(let r=e.length-1;r>=0;r--){const n=e[r],i=n.e||0;if(0===i)this.set(n.k,n.v);else{const e=i-t;e>0&&this.set(n.k,n.v,e)}}}prune(){this[h].forEach(((e,t)=>m(this,t,!1)))}}})),i.register("gQLsp",(function(e,t){"use strict";function r(e){var t=this;if(t instanceof r||(t=new r),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var n=0,i=arguments.length;n<i;n++)t.push(arguments[n]);return t}function n(e,t,r){var n=t===e.head?new a(r,null,t,e):new a(r,t,t.next,e);return null===n.next&&(e.tail=n),null===n.prev&&(e.head=n),e.length++,n}function o(e,t){e.tail=new a(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function s(e,t){e.head=new a(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function a(e,t,r,n){if(!(this instanceof a))return new a(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}e.exports=r,r.Node=a,r.create=r,r.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},r.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},r.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},r.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)o(this,arguments[e]);return this.length},r.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)s(this,arguments[e]);return this.length},r.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},r.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},r.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},r.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},r.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},r.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},r.prototype.map=function(e,t){t=t||this;for(var n=new r,i=this.head;null!==i;)n.push(e.call(t,i.value,this)),i=i.next;return n},r.prototype.mapReverse=function(e,t){t=t||this;for(var n=new r,i=this.tail;null!==i;)n.push(e.call(t,i.value,this)),i=i.prev;return n},r.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var i=0;null!==n;i++)r=e(r,n.value,i),n=n.next;return r},r.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var i=this.length-1;null!==n;i--)r=e(r,n.value,i),n=n.prev;return r},r.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},r.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},r.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,o=this.head;null!==o&&i<e;i++)o=o.next;for(;null!==o&&i<t;i++,o=o.next)n.push(o.value);return n},r.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,o=this.tail;null!==o&&i>t;i--)o=o.prev;for(;null!==o&&i>e;i--,o=o.prev)n.push(o.value);return n},r.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var i=0,o=this.head;null!==o&&i<e;i++)o=o.next;var s=[];for(i=0;o&&i<t;i++)s.push(o.value),o=this.removeNode(o);null===o&&(o=this.tail),o!==this.head&&o!==this.tail&&(o=o.prev);for(i=0;i<r.length;i++)o=n(this,o,r[i]);return s},r.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};try{i("g6FNy")(r)}catch(e){}})),i.register("g6FNy",(function(e,t){"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}})),i.register("dZ0K4",(function(e,t){var r=i("bkpqL");e.exports=(e,t,n)=>{try{t=new r(t,n)}catch(e){return!1}return t.test(e)}})),i.register("2F4z3",(function(e,t){var r=i("bkpqL");e.exports=(e,t)=>new r(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")))})),i.register("j1JRK",(function(e,t){var r=i("kRDtL"),n=i("bkpqL");e.exports=(e,t,i)=>{let o=null,s=null,a=null;try{a=new n(t,i)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(o&&-1!==s.compare(e)||(o=e,s=new r(o,i)))})),o}})),i.register("eALHs",(function(e,t){var r=i("kRDtL"),n=i("bkpqL");e.exports=(e,t,i)=>{let o=null,s=null,a=null;try{a=new n(t,i)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(o&&1!==s.compare(e)||(o=e,s=new r(o,i)))})),o}})),i.register("9PseS",(function(e,t){var r=i("kRDtL"),n=i("bkpqL"),o=i("dGKUE");e.exports=(e,t)=>{e=new n(e,t);let i=new r("0.0.0");if(e.test(i))return i;if(i=new r("0.0.0-0"),e.test(i))return i;i=null;for(let t=0;t<e.set.length;++t){const n=e.set[t];let s=null;n.forEach((e=>{const t=new r(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":s&&!o(t,s)||(s=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!s||i&&!o(i,s)||(i=s)}return i&&e.test(i)?i:null}})),i.register("2ew4n",(function(e,t){var r=i("bkpqL");e.exports=(e,t)=>{try{return new r(e,t).range||"*"}catch(e){return null}}})),i.register("cVLBw",(function(e,t){var r=i("kRDtL"),n=i("31tUg");const{ANY:o}=n;var s=i("bkpqL"),a=i("dZ0K4"),c=i("dGKUE"),u=i("fnT2z"),l=i("1p4uZ"),f=i("djVdG");e.exports=(e,t,i,h)=>{let p,d,m,g,v;switch(e=new r(e,h),t=new s(t,h),i){case">":p=c,d=l,m=u,g=">",v=">=";break;case"<":p=u,d=f,m=c,g="<",v="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(e,t,h))return!1;for(let r=0;r<t.set.length;++r){const i=t.set[r];let s=null,a=null;if(i.forEach((e=>{e.semver===o&&(e=new n(">=0.0.0")),s=s||e,a=a||e,p(e.semver,s.semver,h)?s=e:m(e.semver,a.semver,h)&&(a=e)})),s.operator===g||s.operator===v)return!1;if((!a.operator||a.operator===g)&&d(e,a.semver))return!1;if(a.operator===v&&m(e,a.semver))return!1}return!0}})),i.register("eEbmC",(function(e,t){var r=i("cVLBw");e.exports=(e,t,n)=>r(e,t,">",n)})),i.register("bmc75",(function(e,t){var r=i("cVLBw");e.exports=(e,t,n)=>r(e,t,"<",n)})),i.register("k8LKd",(function(e,t){var r=i("bkpqL");e.exports=(e,t,n)=>(e=new r(e,n),t=new r(t,n),e.intersects(t))})),i.register("1Tc1q",(function(e,t){var r=i("dZ0K4"),n=i("15oCU");e.exports=(e,t,i)=>{const o=[];let s=null,a=null;const c=e.sort(((e,t)=>n(e,t,i)));for(const e of c){r(e,t,i)?(a=e,s||(s=e)):(a&&o.push([s,a]),a=null,s=null)}s&&o.push([s,null]);const u=[];for(const[e,t]of o)e===t?u.push(e):t||e!==c[0]?t?e===c[0]?u.push(`<=${t}`):u.push(`${e} - ${t}`):u.push(`>=${e}`):u.push("*");const l=u.join(" || "),f="string"==typeof t.raw?t.raw:String(t);return l.length<f.length?l:t}})),i.register("gwJGG",(function(e,t){var r=i("bkpqL"),n=i("31tUg");const{ANY:o}=n;var s=i("dZ0K4"),a=i("15oCU");const c=(e,t,r)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===o){if(1===t.length&&t[0].semver===o)return!0;e=r.includePrerelease?[new n(">=0.0.0-0")]:[new n(">=0.0.0")]}if(1===t.length&&t[0].semver===o){if(r.includePrerelease)return!0;t=[new n(">=0.0.0")]}const i=new Set;let c,f,h,p,d,m,g;for(const t of e)">"===t.operator||">="===t.operator?c=u(c,t,r):"<"===t.operator||"<="===t.operator?f=l(f,t,r):i.add(t.semver);if(i.size>1)return null;if(c&&f){if(h=a(c.semver,f.semver,r),h>0)return null;if(0===h&&(">="!==c.operator||"<="!==f.operator))return null}for(const e of i){if(c&&!s(e,String(c),r))return null;if(f&&!s(e,String(f),r))return null;for(const n of t)if(!s(e,String(n),r))return!1;return!0}let v=!(!f||r.includePrerelease||!f.semver.prerelease.length)&&f.semver,y=!(!c||r.includePrerelease||!c.semver.prerelease.length)&&c.semver;v&&1===v.prerelease.length&&"<"===f.operator&&0===v.prerelease[0]&&(v=!1);for(const e of t){if(g=g||">"===e.operator||">="===e.operator,m=m||"<"===e.operator||"<="===e.operator,c)if(y&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===y.major&&e.semver.minor===y.minor&&e.semver.patch===y.patch&&(y=!1),">"===e.operator||">="===e.operator){if(p=u(c,e,r),p===e&&p!==c)return!1}else if(">="===c.operator&&!s(c.semver,String(e),r))return!1;if(f)if(v&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===v.major&&e.semver.minor===v.minor&&e.semver.patch===v.patch&&(v=!1),"<"===e.operator||"<="===e.operator){if(d=l(f,e,r),d===e&&d!==f)return!1}else if("<="===f.operator&&!s(f.semver,String(e),r))return!1;if(!e.operator&&(f||c)&&0!==h)return!1}return!(c&&m&&!f&&0!==h)&&(!(f&&g&&!c&&0!==h)&&(!y&&!v))},u=(e,t,r)=>{if(!e)return t;const n=a(e.semver,t.semver,r);return n>0?e:n<0||">"===t.operator&&">="===e.operator?t:e},l=(e,t,r)=>{if(!e)return t;const n=a(e.semver,t.semver,r);return n<0?e:n>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,n={})=>{if(e===t)return!0;e=new r(e,n),t=new r(t,n);let i=!1;e:for(const r of e.set){for(const e of t.set){const t=c(r,e,n);if(i=i||null!==t,t)continue e}if(i)return!1}return!0}})),Qe={re:et.re,src:et.src,tokens:et.t,SEMVER_SPEC_VERSION:i("kM2wi").SEMVER_SPEC_VERSION,SemVer:i("kRDtL"),compareIdentifiers:i("epWHq").compareIdentifiers,rcompareIdentifiers:i("epWHq").rcompareIdentifiers,parse:i("f5oGG"),valid:i("JOjcG"),clean:i("1JWRF"),inc:i("5xzqF"),diff:i("hP93t"),major:i("3iI29"),minor:i("2vDDd"),patch:i("01RG7"),prerelease:i("2K9Wh"),compare:i("15oCU"),rcompare:i("5kept"),compareLoose:i("6VLjW"),compareBuild:i("3s9VW"),sort:i("hq1pH"),rsort:i("h8UND"),gt:i("dGKUE"),lt:i("fnT2z"),eq:i("Cf7JP"),neq:i("ei4bc"),gte:i("djVdG"),lte:i("1p4uZ"),cmp:i("ioNYR"),coerce:i("2VoZ3"),Comparator:i("31tUg"),Range:i("bkpqL"),satisfies:i("dZ0K4"),toComparators:i("2F4z3"),maxSatisfying:i("j1JRK"),minSatisfying:i("eALHs"),minVersion:i("9PseS"),validRange:i("2ew4n"),outside:i("cVLBw"),gtr:i("eEbmC"),ltr:i("bmc75"),intersects:i("k8LKd"),simplifyRange:i("1Tc1q"),subset:i("gwJGG")};const tt={blue:{id:"blue",productName:"LedgerBlue",productIdMM:0,legacyUsbProductId:0,usbOnly:!0,memorySize:491520,blockSize:4096,getBlockSize:e=>4096},nanoS:{id:"nanoS",productName:"LedgerNanoS",productIdMM:16,legacyUsbProductId:1,usbOnly:!0,memorySize:327680,blockSize:4096,getBlockSize:e=>t(Qe).lt(t(Qe).coerce(e),"2.0.0")?4096:2048},nanoX:{id:"nanoX",productName:"LedgerNanoX",productIdMM:64,legacyUsbProductId:4,usbOnly:!1,memorySize:2097152,blockSize:4096,getBlockSize:e=>4096,bluetoothSpec:[{serviceUuid:"d973f2e0-b19e-11e2-9e96-0800200c9a66",notifyUuid:"d973f2e1-b19e-11e2-9e96-0800200c9a66",writeUuid:"d973f2e2-b19e-11e2-9e96-0800200c9a66"},{serviceUuid:"13d63400-2c97-0004-0000-4c6564676572",notifyUuid:"13d63400-2c97-0004-0001-4c6564676572",writeUuid:"13d63400-2c97-0004-0002-4c6564676572"}]}},rt=Object.values(tt),nt=11415,it=e=>{const t=rt.find((t=>t.legacyUsbProductId===e));if(t)return t;const r=e>>8;return rt.find((e=>e.productIdMM===r))},ot=[],st={};for(let e in tt){const t=tt[e],{bluetoothSpec:r}=t;if(r)for(let e=0;e<r.length;e++){const n=r[e];ot.push(n.serviceUuid),st[n.serviceUuid]=st[n.serviceUuid.replace(/-/g,"")]={deviceModel:t,...n}}}const at=[{vendorId:nt}];async function ct(){return await navigator.usb.requestDevice({filters:at})}async function ut(){return(await navigator.usb.getDevices()).filter((e=>e.vendorId===nt))}var lt=D;class ft extends Me{constructor(e,r){super(),this.device=void 0,this.deviceModel=void 0,this.channel=Math.floor(65535*Math.random()),this.packetSize=64,this.interfaceNumber=void 0,this._disconnectEmitted=!1,this._emitDisconnect=e=>{this._disconnectEmitted||(this._disconnectEmitted=!0,this.emit("disconnect",e))},this.exchange=e=>this.exchangeAtomicImpl((async()=>{const{channel:r,packetSize:n}=this;a("apdu","=> "+e.toString("hex"));const i=t(Ke)(r,n),o=i.makeBlocks(e);for(let e=0;e<o.length;e++)await this.device.transferOut(3,o[e]);let s,c;for(;!(s=i.getReducedResult(c));){const e=await this.device.transferIn(3,n),t=lt.from(e.data.buffer);c=i.reduceResponse(c,t)}return a("apdu","<= "+s.toString("hex")),s})).catch((e=>{if(e&&e.message&&e.message.includes("disconnected"))throw this._emitDisconnect(e),new k(e.message);throw e})),this.device=e,this.interfaceNumber=r,this.deviceModel=it(e.productId)}static async request(){const e=await ct();return ft.open(e)}static async openConnected(){const e=await ut();return 0===e.length?null:ft.open(e[0])}static async open(e){await e.open(),null===e.configuration&&await e.selectConfiguration(1),await ht(e);const t=e.configurations[0].interfaces.find((({alternates:e})=>e.some((e=>255===e.interfaceClass))));if(!t)throw new L("No WebUSB interface found for your Ledger device. Please upgrade firmware or contact techsupport.");const r=t.interfaceNumber;try{await e.claimInterface(r)}catch(t){throw await e.close(),new L(t.message)}const n=new ft(e,r),i=t=>{e===t.device&&(navigator.usb.removeEventListener("disconnect",i),n._emitDisconnect(new T))};return navigator.usb.addEventListener("disconnect",i),n}async close(){await this.exchangeBusyPromise,await this.device.releaseInterface(this.interfaceNumber),await ht(this.device),await this.device.close()}setScrambleKey(){}}async function ht(e){try{await e.reset()}catch(e){console.warn(e)}}ft.isSupported=()=>Promise.resolve(!!navigator&&!!navigator.usb&&"function"==typeof navigator.usb.getDevices),ft.list=ut,ft.listen=e=>{let t=!1;return async function(){const e=await ut();return e.length>0?e[0]:ct()}().then((r=>{if(!t){const t=it(r.productId);e.next({type:"add",descriptor:r,deviceModel:t}),e.complete()}}),(t=>{window.DOMException&&t instanceof window.DOMException&&18===t.code?e.error(new C(t.message)):e.error(new j(t.message))})),{unsubscribe:function(){t=!0}}};var pt=D;const dt=[{vendorId:nt}],mt=()=>{const{hid:e}=navigator;if(!e)throw new P("navigator.hid is not supported","HIDNotSupported");return e};async function gt(){const e=await mt().requestDevice({filters:dt});return Array.isArray(e)?e:[e]}async function vt(){return(await mt().getDevices()).filter((e=>e.vendorId===nt))}class yt extends Me{constructor(e){super(),this.device=void 0,this.deviceModel=void 0,this.channel=Math.floor(65535*Math.random()),this.packetSize=64,this.inputs=[],this.inputCallback=void 0,this.read=()=>this.inputs.length?Promise.resolve(this.inputs.shift()):new Promise((e=>{this.inputCallback=e})),this.onInputReport=e=>{const t=pt.from(e.data.buffer);this.inputCallback?(this.inputCallback(t),this.inputCallback=null):this.inputs.push(t)},this._disconnectEmitted=!1,this._emitDisconnect=e=>{this._disconnectEmitted||(this._disconnectEmitted=!0,this.emit("disconnect",e))},this.exchange=e=>this.exchangeAtomicImpl((async()=>{const{channel:r,packetSize:n}=this;a("apdu","=> "+e.toString("hex"));const i=t(Ke)(r,n),o=i.makeBlocks(e);for(let e=0;e<o.length;e++)await this.device.sendReport(0,o[e]);let s,c;for(;!(s=i.getReducedResult(c));){const e=await this.read();c=i.reduceResponse(c,e)}return a("apdu","<= "+s.toString("hex")),s})).catch((e=>{if(e&&e.message&&e.message.includes("write"))throw this._emitDisconnect(e),new k(e.message);throw e})),this.device=e,this.deviceModel=it(e.productId),e.addEventListener("inputreport",this.onInputReport)}static async request(){const[e]=await gt();return yt.open(e)}static async openConnected(){const e=await vt();return 0===e.length?null:yt.open(e[0])}static async open(e){await e.open();const t=new yt(e),r=n=>{e===n.device&&(mt().removeEventListener("disconnect",r),t._emitDisconnect(new T))};return mt().addEventListener("disconnect",r),t}async close(){await this.exchangeBusyPromise,this.device.removeEventListener("inputreport",this.onInputReport),await this.device.close()}setScrambleKey(){}}yt.isSupported=()=>Promise.resolve(!(!e.navigator||!e.navigator.hid)),yt.list=vt,yt.listen=e=>{let t=!1;return async function(){const e=await vt();return e.length>0?e[0]:(await gt())[0]}().then((r=>{if(r){if(!t){const t=it(r.productId);e.next({type:"add",descriptor:r,deviceModel:t}),e.complete()}}else e.error(new j("Access denied to use Ledger device"))}),(t=>{e.error(new j(t.message))})),{unsubscribe:function(){t=!0}}};var bt={},wt=D;Object.defineProperty(bt,"__esModule",{value:!0}),bt.sendAPDU=void 0;
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var _t=function(e,t){return(_t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function Et(e,t){function r(){this.constructor=e}_t(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function xt(e){return"function"==typeof e}var St=!1,At={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack;St=e},get useDeprecatedSynchronousErrorHandling(){return St}};function Rt(e){setTimeout((function(){throw e}),0)}var It={closed:!0,next:function(e){},error:function(e){if(At.useDeprecatedSynchronousErrorHandling)throw e;Rt(e)},complete:function(){}},Ot=function(){return Array.isArray||function(e){return e&&"number"==typeof e.length}}();function $t(e){return null!==e&&"object"==typeof e}var Tt=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),kt=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var t;if(!this.closed){var r=this,n=r._parentOrParents,i=r._ctorUnsubscribe,o=r._unsubscribe,s=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var a=0;a<n.length;++a){n[a].remove(this)}if(xt(o)){i&&(this._unsubscribe=void 0);try{o.call(this)}catch(e){t=e instanceof Tt?jt(e.errors):[e]}}if(Ot(s)){a=-1;for(var c=s.length;++a<c;){var u=s[a];if($t(u))try{u.unsubscribe()}catch(e){t=t||[],e instanceof Tt?t=t.concat(jt(e.errors)):t.push(e)}}}if(t)throw new Tt(t)}},e.prototype.add=function(t){var r=t;if(!t)return e.EMPTY;switch(typeof t){case"function":r=new e(t);case"object":if(r===this||r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof e)){var n=r;(r=new e)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=r._parentOrParents;if(null===i)r._parentOrParents=this;else if(i instanceof e){if(i===this)return r;r._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return r;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[r]:o.push(r),r},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var r=t.indexOf(e);-1!==r&&t.splice(r,1)}},e.EMPTY=((t=new e).closed=!0,t),e}();function jt(e){return e.reduce((function(e,t){return e.concat(t instanceof Tt?t.errors:t)}),[])}var Lt=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),Nt=function(e){function t(r,n,i){var o=e.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=It;break;case 1:if(!r){o.destination=It;break}if("object"==typeof r){r instanceof t?(o.syncErrorThrowable=r.syncErrorThrowable,o.destination=r,r.add(o)):(o.syncErrorThrowable=!0,o.destination=new Ct(o,r));break}default:o.syncErrorThrowable=!0,o.destination=new Ct(o,r,n,i)}return o}return Et(t,e),t.prototype[Lt]=function(){return this},t.create=function(e,r,n){var i=new t(e,r,n);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(kt),Ct=function(e){function t(t,r,n,i){var o,s=e.call(this)||this;s._parentSubscriber=t;var a=s;return xt(r)?o=r:r&&(o=r.next,n=r.error,i=r.complete,r!==It&&(xt((a=Object.create(r)).unsubscribe)&&s.add(a.unsubscribe.bind(a)),a.unsubscribe=s.unsubscribe.bind(s))),s._context=a,s._next=o,s._error=n,s._complete=i,s}return Et(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;At.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,r=At.useDeprecatedSynchronousErrorHandling;if(this._error)r&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)r?(t.syncErrorValue=e,t.syncErrorThrown=!0):Rt(e),this.unsubscribe();else{if(this.unsubscribe(),r)throw e;Rt(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var r=function(){return e._complete.call(e._context)};At.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),At.useDeprecatedSynchronousErrorHandling)throw e;Rt(e)}},t.prototype.__tryOrSetError=function(e,t,r){if(!At.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,r)}catch(t){return At.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):(Rt(t),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(Nt);var Pt=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function Dt(e){return e}function Mt(e){return 0===e.length?Dt:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var Bt=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var n=this.operator,i=function(e,t,r){if(e){if(e instanceof Nt)return e;if(e[Lt])return e[Lt]()}return e||t||r?new Nt(e,t,r):new Nt(It)}(e,t,r);if(n?i.add(n.call(i,this.source)):i.add(this.source||At.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),At.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){At.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),!function(e){for(;e;){var t=e,r=t.closed,n=t.destination,i=t.isStopped;if(r||i)return!1;e=n&&n instanceof Nt?n:null}return!0}(e)?console.warn(t):e.error(t)}},e.prototype.forEach=function(e,t){var r=this;return new(t=Ut(t))((function(t,n){var i;i=r.subscribe((function(t){try{e(t)}catch(e){n(e),i&&i.unsubscribe()}}),n,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[Pt]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:Mt(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=Ut(e))((function(e,r){var n;t.subscribe((function(e){return n=e}),(function(e){return r(e)}),(function(){return e(n)}))}))},e.create=function(t){return new e(t)},e}();function Ut(e){if(e||(e=At.Promise||Promise),!e)throw new Error("no Promise impl found");return e}var Ft=function(e){return function(t){for(var r=0,n=e.length;r<n&&!t.closed;r++)t.next(e[r]);t.complete()}};function zt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var Ht=zt(),qt=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function Gt(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var Vt=function(e){if(e&&"function"==typeof e[Pt])return n=e,function(e){var t=n[Pt]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(qt(e))return Ft(e);if(Gt(e))return r=e,function(e){return r.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,Rt),e};if(e&&"function"==typeof e[Ht])return t=e,function(e){for(var r=t[Ht]();;){var n=void 0;try{n=r.next()}catch(t){return e.error(t),e}if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}return"function"==typeof r.return&&e.add((function(){r.return&&r.return()})),e};var t,r,n,i=$t(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+i+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function Wt(e,t){return new Bt((function(r){var n=new kt,i=0;return n.add(t.schedule((function(){i!==e.length?(r.next(e[i++]),r.closed||n.add(this.schedule())):r.complete()}))),n}))}function Kt(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[Pt]}(e))return function(e,t){return new Bt((function(r){var n=new kt;return n.add(t.schedule((function(){var i=e[Pt]();n.add(i.subscribe({next:function(e){n.add(t.schedule((function(){return r.next(e)})))},error:function(e){n.add(t.schedule((function(){return r.error(e)})))},complete:function(){n.add(t.schedule((function(){return r.complete()})))}}))}))),n}))}(e,t);if(Gt(e))return function(e,t){return new Bt((function(r){var n=new kt;return n.add(t.schedule((function(){return e.then((function(e){n.add(t.schedule((function(){r.next(e),n.add(t.schedule((function(){return r.complete()})))})))}),(function(e){n.add(t.schedule((function(){return r.error(e)})))}))}))),n}))}(e,t);if(qt(e))return Wt(e,t);if(function(e){return e&&"function"==typeof e[Ht]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new Bt((function(r){var n,i=new kt;return i.add((function(){n&&"function"==typeof n.return&&n.return()})),i.add(t.schedule((function(){n=e[Ht](),i.add(t.schedule((function(){if(!r.closed){var e,t;try{var i=n.next();e=i.value,t=i.done}catch(e){return void r.error(e)}t?r.complete():(r.next(e),this.schedule())}})))}))),i}))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}function Xt(e,t){return t?Kt(e,t):e instanceof Bt?e:new Bt(Vt(e))}var Yt=new Bt((function(e){return e.complete()}));function Jt(e){return e?function(e){return new Bt((function(t){return e.schedule((function(){return t.complete()}))}))}(e):Yt}function Zt(e){return e&&"function"==typeof e.schedule}function Qt(e,t){return function(r){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new er(e,t))}}var er=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new tr(e,this.project,this.thisArg))},e}(),tr=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.project=r,i.count=0,i.thisArg=n||i,i}return Et(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(Nt),rr=function(e){function t(t){var r=e.call(this)||this;return r.parent=t,r}return Et(t,e),t.prototype._next=function(e){this.parent.notifyNext(e)},t.prototype._error=function(e){this.parent.notifyError(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},t}(Nt),nr=(function(e){function t(t,r,n){var i=e.call(this)||this;return i.parent=t,i.outerValue=r,i.outerIndex=n,i}Et(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this)},t.prototype._error=function(e){this.parent.notifyError(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()}}(Nt),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Et(t,e),t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(){this.destination.complete()},t}(Nt));!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Et(t,e),t.prototype.notifyNext=function(e,t,r,n){this.destination.next(t)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()}}(Nt);function ir(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"function"==typeof t?function(n){return n.pipe(ir((function(r,n){return Xt(e(r,n)).pipe(Qt((function(e,i){return t(r,e,n,i)})))}),r))}:("number"==typeof t&&(r=t),function(t){return t.lift(new or(e,r))})}var or=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new sr(e,this.project,this.concurrent))},e}(),sr=function(e){function t(t,r,n){void 0===n&&(n=Number.POSITIVE_INFINITY);var i=e.call(this,t)||this;return i.project=r,i.concurrent=n,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return Et(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,r=this.index++;try{t=this.project(e,r)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t)},t.prototype._innerSub=function(e){var t=new rr(this),r=this.destination;r.add(t);var n=function(e,t){if(!t.closed){if(e instanceof Bt)return e.subscribe(t);var r;try{r=Vt(e)(t)}catch(e){t.error(e)}return r}}(e,t);n!==t&&r.add(n)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(nr);function ar(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),ir(Dt,e)}function cr(e,t){return t?Wt(e,t):new Bt(Ft(e))}function ur(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Number.POSITIVE_INFINITY,n=null,i=e[e.length-1];return Zt(i)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(r=e.pop())):"number"==typeof i&&(r=e.pop()),null===n&&1===e.length&&e[0]instanceof Bt?e[0]:ar(r)(cr(e,n))}bt.sendAPDU=(e,t,r)=>{const n=function(e,t){const r=[];for(let n=0,i=t(0);n<e.length;n+=i,i=t(n))r.push(e.slice(n,n+i));return r}(t,(e=>r-(0===e?5:3))).map(((e,r)=>{const n=wt.alloc(0===r?5:3);return n.writeUInt8(5,0),n.writeUInt16BE(r,1),0===r&&n.writeUInt16BE(t.length,3),wt.concat([n,e])}));return Bt.create((t=>{let r=!1;(async function(){for(const t of n){if(r)return;await e(t)}})().then((()=>{r=!0,t.complete()}),(e=>{r=!0,a("ble-error","sendAPDU failure "+String(e)),t.error(e)}));return()=>{r||(a("ble-verbose","sendAPDU interruption"),r=!0)}}))};var lr={},fr=D;Object.defineProperty(lr,"__esModule",{value:!0}),lr.receiveAPDU=void 0;lr.receiveAPDU=e=>Bt.create((t=>{let r=0,n=0,i=fr.alloc(0);const o=e.subscribe({complete:()=>{t.error(new T),o.unsubscribe()},error:e=>{a("ble-error","in receiveAPDU "+String(e)),t.error(e),o.unsubscribe()},next:e=>{const s=e.readUInt8(0),a=e.readUInt16BE(1);let c=e.slice(3);5===s?r===a?(0===a&&(n=c.readUInt16BE(0),c=c.slice(2)),r++,i=fr.concat([i,c]),i.length>n?t.error(new P("BLE: received too much data. discontinued chunk. Received "+i.length+" but expected "+n,"BLETooMuchData")):i.length===n&&(t.next(i),t.complete(),o.unsubscribe())):t.error(new P("BLE: Invalid sequence number. discontinued chunk. Received "+a+" but expected "+r,"InvalidSequence")):t.error(new P("Invalid tag "+s.toString(16),"InvalidTag"))}});return()=>{o.unsubscribe()}}));var hr=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}();function pr(e,t){return function(r){return r.lift(new dr(e,t))}}var dr=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new mr(e,this.predicate,this.thisArg))},e}(),mr=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.predicate=r,i.thisArg=n,i.count=0,i}return Et(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(Nt),gr=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}();function vr(e){return function(t){return 0===e?Jt():t.lift(new yr(e))}}var yr=function(){function e(e){if(this.total=e,this.total<0)throw new gr}return e.prototype.call=function(e,t){return t.subscribe(new br(e,this.total))},e}(),br=function(e){function t(t,r){var n=e.call(this,t)||this;return n.total=r,n.count=0,n}return Et(t,e),t.prototype._next=function(e){var t=this.total,r=++this.count;r<=t&&(this.destination.next(e),r===t&&(this.destination.complete(),this.unsubscribe()))},t}(Nt);function wr(e){return void 0===e&&(e=null),function(t){return t.lift(new _r(e))}}var _r=function(){function e(e){this.defaultValue=e}return e.prototype.call=function(e,t){return t.subscribe(new Er(e,this.defaultValue))},e}(),Er=function(e){function t(t,r){var n=e.call(this,t)||this;return n.defaultValue=r,n.isEmpty=!0,n}return Et(t,e),t.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(Nt);function xr(e){return void 0===e&&(e=Rr),function(t){return t.lift(new Sr(e))}}var Sr=function(){function e(e){this.errorFactory=e}return e.prototype.call=function(e,t){return t.subscribe(new Ar(e,this.errorFactory))},e}(),Ar=function(e){function t(t,r){var n=e.call(this,t)||this;return n.errorFactory=r,n.hasValue=!1,n}return Et(t,e),t.prototype._next=function(e){this.hasValue=!0,this.destination.next(e)},t.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var e=void 0;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)},t}(Nt);function Rr(){return new hr}var Ir=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new Or(e))},e}(),Or=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Et(t,e),t.prototype._next=function(e){},t}(Nt),$r=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),Tr=function(e){function t(t,r){var n=e.call(this)||this;return n.subject=t,n.subscriber=r,n.closed=!1,n}return Et(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var r=t.indexOf(this.subscriber);-1!==r&&t.splice(r,1)}}},t}(kt),kr=function(e){function t(t){var r=e.call(this,t)||this;return r.destination=t,r}return Et(t,e),t}(Nt),jr=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return Et(t,e),t.prototype[Lt]=function(){return new kr(this)},t.prototype.lift=function(e){var t=new Lr(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new $r;if(!this.isStopped)for(var t=this.observers,r=t.length,n=t.slice(),i=0;i<r;i++)n[i].next(e)},t.prototype.error=function(e){if(this.closed)throw new $r;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,r=t.length,n=t.slice(),i=0;i<r;i++)n[i].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new $r;this.isStopped=!0;for(var e=this.observers,t=e.length,r=e.slice(),n=0;n<t;n++)r[n].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new $r;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new $r;return this.hasError?(e.error(this.thrownError),kt.EMPTY):this.isStopped?(e.complete(),kt.EMPTY):(this.observers.push(e),new Tr(this,e))},t.prototype.asObservable=function(){var e=new Bt;return e.source=this,e},t.create=function(e,t){return new Lr(e,t)},t}(Bt),Lr=function(e){function t(t,r){var n=e.call(this)||this;return n.destination=t,n.source=r,n}return Et(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):kt.EMPTY},t}(jr);function Nr(){return function(e){return e.lift(new Cr(e))}}var Cr=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var r=this.connectable;r._refCount++;var n=new Pr(e,r),i=t.subscribe(n);return n.closed||(n.connection=r.connect()),i},e}(),Pr=function(e){function t(t,r){var n=e.call(this,t)||this;return n.connectable=r,n}return Et(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var r=this.connection,n=e._connection;this.connection=null,!n||r&&n!==r||n.unsubscribe()}}else this.connection=null},t}(Nt),Dr=function(e){function t(t,r){var n=e.call(this)||this;return n.source=t,n.subjectFactory=r,n._refCount=0,n._isComplete=!1,n}return Et(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new kt).add(this.source.subscribe(new Br(this.getSubject(),this))),e.closed&&(this._connection=null,e=kt.EMPTY)),e},t.prototype.refCount=function(){return Nr()(this)},t}(Bt),Mr=function(){var e=Dr.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}}(),Br=function(e){function t(t,r){var n=e.call(this,t)||this;return n.connectable=r,n}return Et(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(kr),Ur=(function(){function e(e){this.connectable=e}e.prototype.call=function(e,t){var r=this.connectable;r._refCount++;var n=new Ur(e,r),i=t.subscribe(n);return n.closed||(n.connection=r.connect()),i}}(),function(e){function t(t,r){var n=e.call(this,t)||this;return n.connectable=r,n}return Et(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var r=this.connection,n=e._connection;this.connection=null,!n||r&&n!==r||n.unsubscribe()}}else this.connection=null},t}(Nt));var Fr=function(){function e(e,t){this.subjectFactory=e,this.selector=t}return e.prototype.call=function(e,t){var r=this.selector,n=this.subjectFactory(),i=r(n).subscribe(e);return i.add(t.subscribe(n)),i},e}();function zr(){return new jr}function Hr(){return function(e){return Nr()((t=zr,function(e){var n;if(n="function"==typeof t?t:function(){return t},"function"==typeof r)return e.lift(new Fr(n,r));var i=Object.create(e,Mr);return i.source=e,i.subjectFactory=n,i})(e));var t,r}}function qr(){}var Gr=function(){function e(e,t,r){this.nextOrObserver=e,this.error=t,this.complete=r}return e.prototype.call=function(e,t){return t.subscribe(new Vr(e,this.nextOrObserver,this.error,this.complete))},e}(),Vr=function(e){function t(t,r,n,i){var o=e.call(this,t)||this;return o._tapNext=qr,o._tapError=qr,o._tapComplete=qr,o._tapError=n||qr,o._tapComplete=i||qr,xt(r)?(o._context=o,o._tapNext=r):r&&(o._context=r,o._tapNext=r.next||qr,o._tapError=r.error||qr,o._tapComplete=r.complete||qr),o}return Et(t,e),t.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.next(e)},t.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()},t}(Nt),Wr=D;var Kr=D;const Xr=()=>{const{bluetooth:e}=navigator;if(void 0===e)throw new Error("web bluetooth not supported");return e},Yr=()=>Bt.create((e=>{const t=Xr(),r=t=>{e.next(t.value)};t.addEventListener("availabilitychanged",r);let n=!1;return t.getAvailability().then((t=>{n||e.next(t)})),()=>{n=!0,t.removeEventListener("availabilitychanged",r)}})),Jr={},Zr=()=>({filters:ot.map((e=>({services:[e]})))}),Qr=async e=>{if(!e.gatt)throw new Error("bluetooth gatt not found");const[t]=await e.gatt.getPrimaryServices();if(!t)throw new Error("bluetooth service not found");const r=(n=t.uuid,st[n.toLowerCase()]);var n;if(!r)throw new Error("bluetooth service infos not found");return[t,r]};async function en(e,t){let r;if("string"==typeof e){if(Jr[e])return a("ble-verbose","Transport in cache, using that."),Jr[e];const t=Xr();r=await t.requestDevice(Zr())}else r=e;r.gatt.connected||(a("ble-verbose","not connected. connecting..."),await r.gatt.connect());const[n,i]=await Qr(r),{deviceModel:o,writeUuid:s,notifyUuid:c}=i,[u,l]=await Promise.all([n.getCharacteristic(s),n.getCharacteristic(c)]),f=(m=l,Bt.create((e=>{function t(t){const r=t.target;r.value&&e.next(Wr.from(r.value.buffer))}return a("ble-verbose","start monitor "+m.uuid),m.startNotifications().then((()=>{m.addEventListener("characteristicvaluechanged",t)})),()=>{a("ble-verbose","end monitor "+m.uuid),m.stopNotifications()}}))).pipe((h=e=>{a("ble-frame","<= "+e.toString("hex"))},function(e){return e.lift(new Gr(h,p,d))}),Hr());var h,p,d,m;const g=f.subscribe(),v=new tn(r,u,f,o);if(!r.gatt.connected)throw new T;Jr[v.id]=v;const y=e=>{console.log("onDisconnect!",e),delete Jr[v.id],v.notYetDisconnected=!1,g.unsubscribe(),r.removeEventListener("gattserverdisconnected",y),a("ble-verbose",`BleTransport(${v.id}) disconnected`),v.emit("disconnect",e)};r.addEventListener("gattserverdisconnected",y);let b=Date.now();try{await v.inferMTU()}finally{Date.now()-b<1e3&&(t=!1),t&&(await r.gatt.disconnect(),await new Promise((e=>setTimeout(e,4e3))))}return t?en(r,!1):v}class tn extends Me{static listen(e){let t;a("ble-verbose","listen...");return Xr().requestDevice(Zr()).then((async r=>{t||(e.next({type:"add",descriptor:r}),e.complete())}),(t=>{e.error(new j(t.message))})),{unsubscribe:function(){t=!0}}}static async open(e){return en(e,!0)}constructor(e,t,r,n){super(),this.id=void 0,this.device=void 0,this.mtuSize=20,this.writeCharacteristic=void 0,this.notifyObservable=void 0,this.notYetDisconnected=!0,this.deviceModel=void 0,this.exchange=e=>this.exchangeAtomicImpl((async()=>{try{const t=e.toString("hex");a("apdu",`=> ${t}`);const r=await ur(this.notifyObservable.pipe(lr.receiveAPDU),bt.sendAPDU(this.write,e,this.mtuSize)).toPromise(),n=r.toString("hex");return a("apdu",`<= ${n}`),r}catch(e){throw a("ble-error","exchange got "+String(e)),this.notYetDisconnected&&this.device.gatt.disconnect(),e}})),this.write=async e=>{a("ble-frame","=> "+e.toString("hex")),await this.writeCharacteristic.writeValue(e)},this.id=e.id,this.device=e,this.writeCharacteristic=t,this.notifyObservable=r,this.deviceModel=n,a("ble-verbose",`BleTransport(${String(this.id)}) new instance`)}async inferMTU(){let e=23;if(await this.exchangeAtomicImpl((async()=>{try{e=await ur(this.notifyObservable.pipe(function(e,t){var r=arguments.length>=2;return function(n){return n.pipe(e?pr((function(t,r){return e(t,r,n)})):Dt,vr(1),r?wr(t):xr((function(){return new hr})))}}((e=>8===e.readUInt8(0))),Qt((e=>e.readUInt8(5)))),(t=()=>Xt(this.write(Kr.from([8,0,0,0,0]))),new Bt((function(e){var r;try{r=t()}catch(t){return void e.error(t)}return(r?Xt(r):Jt()).subscribe(e)}))).pipe((function(e){return e.lift(new Ir)}))).toPromise()+3}catch(e){throw a("ble-error","inferMTU got "+String(e)),this.device.gatt.disconnect(),e}var t})),e>23){const t=e-3;a("ble-verbose",`BleTransport(${String(this.id)}) mtu set to ${String(t)}`),this.mtuSize=t}return this.mtuSize}setScrambleKey(){}async close(){this.exchangeBusyPromise&&await this.exchangeBusyPromise}}tn.isSupported=()=>Promise.resolve().then(Xr).then((()=>!0),(()=>!1)),tn.observeAvailability=e=>Yr.subscribe(e),tn.list=()=>Promise.resolve([]),tn.disconnect=async e=>{a("ble-verbose",`user disconnect(${e})`);const t=Jr[e];t&&t.device.gatt.disconnect()},i.register("lYC63",(function(e,t){var r=D;function n(e,t,r){this.length=r,this.offset=t,this.get=function(){return e.buf[t]>0},this.set=function(r){e.buf[t]=r?1:0}}function i(e,t,n,i,o){function s(e){for(var t=0;t<n;t++)e(t,n-t-1)}function a(e){for(var t=0;t<n;t++)e(t,t)}function c(r){var n=0;return r((function(r,i){n+=Math.pow(256,i)*e.buf[t+r]})),n}this.length=n,this.offset=t;var u=(o?"":"U")+"Int"+8*n+(i?"LE":"BE"),l=r.prototype["read"+u],f=r.prototype["write"+u];this.get=l?function(){return l.call(e.buf,t)}:function(){var r=i?a:s;return o?function(r){var o=c(r);return 128==(128&e.buf[t+(i?n-1:0)])&&(o-=Math.pow(256,n)),o}(r):c(r)},this.set=f?function(r){f.call(e.buf,r,t)}:function(r){!function(r,n){r((function(r,i){e.buf[t+r]=255&Math.floor(n/Math.pow(256,i))}))}(i?a:s,r)}}function o(e,t,r){this.length=4,this.offset=t,this.get=function(){return r?e.buf.readFloatLE(t):e.buf.readFloatBE(t)},this.set=function(n){return r?e.buf.writeFloatLE(n,t):e.buf.writeFloatBE(n,t)}}function s(e,t,r){this.length=8,this.offset=t,this.get=function(){return r?e.buf.readDoubleLE(t):e.buf.readDoubleBE(t)},this.set=function(n){return r?e.buf.writeDoubleLE(n,t):e.buf.writeDoubleBE(n,t)}}function a(e,t,r,n,i){var o=this;o.length=r,o.offset=t,o.encoding=n,o.secure=i,o.get=function(){if(r){var n=e.buf.toString(o.encoding,t,t+r),i=n.indexOf("\0");return-1==i?n:n.slice(0,i)}},o.set=function(n){r&&(!0===i?((n+="\0").length>=r&&(n=n.substring(0,r-1),n+="\0"),e.buf.write(n,t,n.length,o.encoding),r-n.length>0&&e.buf.fill(0,t+n.length,t+r)):e.buf.write(n,t,r,o.encoding))}}function c(e,t,r){this.length=r.length(),this.offset=t,this.get=function(){return r},this.set=function(e){r.set(e)},this.allocate=function(){r._setBuff(e.buf.slice(t,t+r.length()))}}function u(e,t,r,n){var i=l(),o=[].slice.call(arguments,4);o.unshift(0);for(var s=0;s<r;s++)n instanceof l?i.struct(s,n.clone()):n in i&&(o[0]=s,i[n].apply(i,o));this.length=i.length(),this.offset=t,this.allocate=function(){i._setBuff(e.buf.slice(t,t+i.length()))},this.get=function(){return i},this.set=function(e){i.set(e)}}function l(){if(!(this instanceof l))return new l;var e={buf:{},allocated:!1,len:0,fields:{},closures:[]},t=this;function f(){if(e.allocated)throw new Error("Cant change struct after allocation")}function h(e,t){function r(){return e.apply(this,t)}return r.prototype=e.prototype,new r}[!0,!1].forEach((function(r){t["float"+(r?"le":"be")]=function(t){return f(),e.closures.push((function(e){e.fields[t]=new o(e,e.len,r),e.len+=4})),this}})),[!0,!1].forEach((function(r){t["double"+(r?"le":"be")]=function(t){return f(),e.closures.push((function(e){e.fields[t]=new s(e,e.len,r),e.len+=8})),this}})),[1,2,3,4].forEach((function(r){t["bool"+(1==r?"":r)]=function(t){return f(),e.closures.push((function(e){e.fields[t]=new n(e,e.len,r),e.len+=r})),this}})),[1,2,3,4,6,8].forEach((function(r){[!0,!1].forEach((function(n){[!0,!1].forEach((function(o){t["word"+8*r+(o?"S":"U")+(n?"le":"be")]=function(t){return f(),e.closures.push((function(e){e.fields[t]=new i(e,e.len,r,n,o),e.len+=r})),this}}))}))})),this.word8=this.word8Ule,["chars","charsnt"].forEach((function(r){t[r]=function(t,n,i){return f(),e.closures.push((function(e){e.fields[t]=new a(e,e.len,n,i||"ascii","charsnt"==r),e.len+=n})),this}})),this.struct=function(t,r){return f(),e.closures.push((function(e){e.fields[t]=new c(e,e.len,r.clone()),e.len+=e.fields[t].length})),this},this.array=function(t,r,n){f();var i=[].slice.call(arguments,1);return i.unshift(null),i.unshift(null),e.closures.push((function(e){i[0]=e,i[1]=e.len,e.fields[t]=h(u,i),e.len+=e.fields[t].length})),this};var p,d=!1;function m(e){d||(e.closures.forEach((function(t){t(e)})),d=!0)}function g(){for(var t in e.fields)"allocate"in e.fields[t]&&e.fields[t].allocate()}this._setBuff=this.setBuffer=function(t,r){if(m(e),"number"==typeof r){if(r>t.length)throw new Error("Invalid specified buffer size !");e.buf=t.slice(0,r)}else e.buf=t;if(e.buf.length<e.len)throw new Error("Buffer size too small for struct layout !");g(),e.allocated=!0},this.allocate=function(){return m(e),r.alloc?e.buf=r.alloc(e.len):(e.buf=new r(e.len),e.buf.fill(0)),g(),e.allocated=!0,this},this._getPriv=function(){return e},this.getOffset=function(t){if(e.fields[t])return e.fields[t].offset},this.clone=function(){var t=new l;return t._getPriv().closures=e.closures.slice(0),t},this.length=function(){return m(e),e.len},this.get=function(t){if(t in e.fields)return e.fields[t].get();throw new Error("Can not find field "+t)},this.set=function(t,n){if(2==arguments.length){if(!(t in e.fields))throw new Error("Can not find field "+t);e.fields[t].set(n)}else if(r.isBuffer(t))this._setBuff(t);else for(var i in t)this.set(i,t[i])},this.buffer=function(){return e.buf},Object.defineProperty(this,"fields",{get:function(){return p||(r={},Object.keys(e.fields).forEach((function(n){var i,o;e.fields[n]instanceof c||e.fields[n]instanceof u?(o=function(){return e.fields[n].get().fields},i=function(e){t.set(n,e)}):(o=e.fields[n].get,i=e.fields[n].set),Object.defineProperty(r,n,{get:o,set:i,enumerable:!0})})),p=r);var r},enumerable:!0,configurable:!0})}e.exports=t=l,t.Struct=l}));var rn,nn=i("lYC63"),on={},sn={},an="9ABCDEFGHIJKLMNOPQRSTUVWXYZ",cn=[[0,0,0],[1,0,0],[-1,1,0],[0,1,0],[1,1,0],[-1,-1,1],[0,-1,1],[1,-1,1],[-1,0,1],[0,0,1],[1,0,1],[-1,1,1],[0,1,1],[1,1,1],[-1,-1,-1],[0,-1,-1],[1,-1,-1],[-1,0,-1],[0,0,-1],[1,0,-1],[-1,1,-1],[0,1,-1],[1,1,-1],[-1,-1,0],[0,-1,0],[1,-1,0],[-1,0,0]];rn={trits:function(e,t){var r=t||[];if(Number.isInteger(e)){for(var n=e<0?-e:e;n>0;){var i=n%3;n=Math.floor(n/3),i>1&&(i=-1,n++),r[r.length]=i}if(e<0)for(var o=0;o<r.length;o++)r[o]=-r[o]}else for(o=0;o<e.length;o++){var s=an.indexOf(e.charAt(o));r[3*o]=cn[s][0],r[3*o+1]=cn[s][1],r[3*o+2]=cn[s][2]}return r},trytes:function(e){for(var t="",r=0;r<e.length;r+=3)for(var n=0;n<an.length;n++)if(cn[n][0]===e[r]&&cn[n][1]===e[r+1]&&cn[n][2]===e[r+2]){t+=an.charAt(n);break}return t},value:function(e){for(var t=0,r=e.length;r-- >0;)t=3*t+e[r];return t},fromValue:function(e){for(var t=[],r=e<0?-e:e,n=0;r>0;){var i=r%3;r=Math.floor(r/3),i>1&&(i=-1,r++),t[n]=i,n++}if(e<0)for(var o=0;o<t.length;o++)t[o]=0===t[o]?0:-t[o];return t}};var un=243;function ln(e){this.rounds=e||81,this.truthTable=[1,0,-1,2,1,-1,0,2,-1,1,0]}ln.HASH_LENGTH=un,ln.prototype.initialize=function(e,t){if(e)this.state=e;else{this.state=[];for(var r=0;r<729;r++)this.state[r]=0}},ln.prototype.reset=function(){this.initialize()},ln.prototype.absorb=function(e,t,r){do{for(var n=0,i=r<un?r:un;n<i;)this.state[n++]=e[t++];this.transform()}while((r-=un)>0)},ln.prototype.squeeze=function(e,t,r){do{for(var n=0,i=r<un?r:un;n<i;)e[t++]=this.state[n++];this.transform()}while((r-=un)>0)},ln.prototype.transform=function(){for(var e=[],t=0,r=0;r<this.rounds;r++){e=this.state.slice();for(var n=0;n<729;n++)this.state[n]=this.truthTable[e[t]+(e[t+=t<365?364:-365]<<2)+5]}},sn=ln;var fn={};i.register("luoq9",(function(e,t){var r,n;r=this,n=function(e){return e},"object"==typeof t?e.exports=t=n(i("6KjL3"),i("26Nqx"),i("7YBwD"),i("9agHf"),i("3VjHi"),i("7sS9W"),i("iioWu"),i("42RVZ"),i("irnyU"),i("46weT"),i("5TeC5"),i("iTqqg"),i("4OnNd"),i("39Tkr"),i("c8WpG"),i("gWpp2"),i("aAtkT"),i("iFybI"),i("6JG5y"),i("anUas"),i("4WHwK"),i("kXDt5"),i("cbCFZ"),i("ch8nE"),i("3qVsJ"),i("V8yk3"),i("aJ1Ri"),i("e0TWc"),i("fG7FJ"),i("EhsMB"),i("c3X9x"),i("bhHZf"),i("6XPon")):"function"==typeof define&&define.amd?define(["./core","./x64-core","./lib-typedarrays","./enc-utf16","./enc-base64","./md5","./sha1","./sha256","./sha224","./sha512","./sha384","./sha3","./ripemd160","./hmac","./pbkdf2","./evpkdf","./cipher-core","./mode-cfb","./mode-ctr","./mode-ctr-gladman","./mode-ofb","./mode-ecb","./pad-ansix923","./pad-iso10126","./pad-iso97971","./pad-zeropadding","./pad-nopadding","./format-hex","./aes","./tripledes","./rc4","./rabbit","./rabbit-legacy"],n):r.CryptoJS=r.CryptoJS})),i.register("6KjL3",(function(e,t){var r,n;r=this,n=function(){var e,t,r,n,i,o,s,a,c,u,l,f,h=h||(e=Math,t=Object.create||function(){function e(){}return function(t){var r;return e.prototype=t,r=new e,e.prototype=null,r}}(),n=(r={}).lib={},i=n.Base={extend:function(e){var r=t(this);return e&&r.mixIn(e),r.hasOwnProperty("init")&&this.init!==r.init||(r.init=function(){r.$super.init.apply(this,arguments)}),r.init.prototype=r,r.$super=this,r},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},o=n.WordArray=i.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||a).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes,i=e.sigBytes;if(this.clamp(),n%4)for(var o=0;o<i;o++){var s=r[o>>>2]>>>24-o%4*8&255;t[n+o>>>2]|=s<<24-(n+o)%4*8}else for(o=0;o<i;o+=4)t[n+o>>>2]=r[o>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=i.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var r,n=[],i=function(t){t=t;var r=987654321,n=4294967295;return function(){var i=((r=36969*(65535&r)+(r>>16)&n)<<16)+(t=18e3*(65535&t)+(t>>16)&n)&n;return i/=4294967296,(i+=.5)*(e.random()>.5?1:-1)}},s=0;s<t;s+=4){var a=i(4294967296*(r||e.random()));r=987654071*a(),n.push(4294967296*a()|0)}return new o.init(n,t)}}),s=r.enc={},a=s.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new o.init(r,t/2)}},c=s.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(o))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new o.init(r,t)}},u=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},l=n.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r=this._data,n=r.words,i=r.sigBytes,s=this.blockSize,a=i/(4*s),c=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*s,u=e.min(4*c,i);if(c){for(var l=0;l<c;l+=s)this._doProcessBlock(n,l);var f=n.splice(0,c);r.sigBytes-=u}return new o.init(f,u)},clone:function(){var e=i.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),n.Hasher=l.extend({cfg:i.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new f.HMAC.init(e,r).finalize(t)}}}),f=r.algo={},r);return h},"object"==typeof t?e.exports=t=n():"function"==typeof define&&define.amd?define([],n):r.CryptoJS=n()})),i.register("26Nqx",(function(e,t){var r,n;r=this,n=function(e){var t,r,n,i,o;return r=(t=e).lib,n=r.Base,i=r.WordArray,(o=t.x64={}).Word=n.extend({init:function(e,t){this.high=e,this.low=t}}),o.WordArray=n.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,r=[],n=0;n<t;n++){var o=e[n];r.push(o.high),r.push(o.low)}return i.create(r,this.sigBytes)},clone:function(){for(var e=n.clone.call(this),t=e.words=this.words.slice(0),r=t.length,i=0;i<r;i++)t[i]=t[i].clone();return e}}),e},"object"==typeof t?e.exports=t=n(i("6KjL3")):"function"==typeof define&&define.amd?define(["./core"],n):n(r.CryptoJS)})),i.register("7YBwD",(function(e,t){var r,n;r=this,n=function(e){return function(){if("function"==typeof ArrayBuffer){var t=e.lib.WordArray,r=t.init;(t.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var t=e.byteLength,n=[],i=0;i<t;i++)n[i>>>2]|=e[i]<<24-i%4*8;r.call(this,n,t)}else r.apply(this,arguments)}).prototype=t}}(),e.lib.WordArray},"object"==typeof t?e.exports=t=n(i("6KjL3")):"function"==typeof define&&define.amd?define(["./core"],n):n(r.CryptoJS)})),i.register("9agHf",(function(e,t){var r,n;r=this,n=function(e){return function(){var t=e,r=t.lib.WordArray,n=t.enc;function i(e){return e<<8&4278255360|e>>>8&16711935}n.Utf16=n.Utf16BE={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i+=2){var o=t[i>>>2]>>>16-i%4*8&65535;n.push(String.fromCharCode(o))}return n.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i++)n[i>>>1]|=e.charCodeAt(i)<<16-i%2*16;return r.create(n,2*t)}},n.Utf16LE={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],o=0;o<r;o+=2){var s=i(t[o>>>2]>>>16-o%4*8&65535);n.push(String.fromCharCode(s))}return n.join("")},parse:function(e){for(var t=e.length,n=[],o=0;o<t;o++)n[o>>>1]|=i(e.charCodeAt(o)<<16-o%2*16);return r.create(n,2*t)}}}(),e.enc.Utf16},"object"==typeof t?e.exports=t=n(i("6KjL3")):"function"==typeof define&&define.amd?define(["./core"],n):n(r.CryptoJS)})),i.register("3VjHi",(function(e,t){var r,n;r=this,n=function(e){var t,r;return r=(t=e).lib.WordArray,t.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,n=this._map;e.clamp();for(var i=[],o=0;o<r;o+=3)for(var s=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,a=0;a<4&&o+.75*a<r;a++)i.push(n.charAt(s>>>6*(3-a)&63));var c=n.charAt(64);if(c)for(;i.length%4;)i.push(c);return i.join("")},parse:function(e){var t=e.length,n=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var o=0;o<n.length;o++)i[n.charCodeAt(o)]=o}var s=n.charAt(64);if(s){var a=e.indexOf(s);-1!==a&&(t=a)}return function(e,t,n){for(var i=[],o=0,s=0;s<t;s++)if(s%4){var a=n[e.charCodeAt(s-1)]<<s%4*2,c=n[e.charCodeAt(s)]>>>6-s%4*2;i[o>>>2]|=(a|c)<<24-o%4*8,o++}return r.create(i,o)}(e,t,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},e.enc.Base64},"object"==typeof t?e.exports=t=n(i("6KjL3")):"function"==typeof define&&define.amd?define(["./core"],n):n(r.CryptoJS)})),i.register("7sS9W",(function(e,t){var r,n;r=this,n=function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,o=n.Hasher,s=r.algo,a=[];!function(){for(var e=0;e<64;e++)a[e]=4294967296*t.abs(t.sin(e+1))|0}();var c=s.MD5=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var n=t+r,i=e[n];e[n]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o=this._hash.words,s=e[t+0],c=e[t+1],p=e[t+2],d=e[t+3],m=e[t+4],g=e[t+5],v=e[t+6],y=e[t+7],b=e[t+8],w=e[t+9],_=e[t+10],E=e[t+11],x=e[t+12],S=e[t+13],A=e[t+14],R=e[t+15],I=o[0],O=o[1],$=o[2],T=o[3];I=u(I,O,$,T,s,7,a[0]),T=u(T,I,O,$,c,12,a[1]),$=u($,T,I,O,p,17,a[2]),O=u(O,$,T,I,d,22,a[3]),I=u(I,O,$,T,m,7,a[4]),T=u(T,I,O,$,g,12,a[5]),$=u($,T,I,O,v,17,a[6]),O=u(O,$,T,I,y,22,a[7]),I=u(I,O,$,T,b,7,a[8]),T=u(T,I,O,$,w,12,a[9]),$=u($,T,I,O,_,17,a[10]),O=u(O,$,T,I,E,22,a[11]),I=u(I,O,$,T,x,7,a[12]),T=u(T,I,O,$,S,12,a[13]),$=u($,T,I,O,A,17,a[14]),I=l(I,O=u(O,$,T,I,R,22,a[15]),$,T,c,5,a[16]),T=l(T,I,O,$,v,9,a[17]),$=l($,T,I,O,E,14,a[18]),O=l(O,$,T,I,s,20,a[19]),I=l(I,O,$,T,g,5,a[20]),T=l(T,I,O,$,_,9,a[21]),$=l($,T,I,O,R,14,a[22]),O=l(O,$,T,I,m,20,a[23]),I=l(I,O,$,T,w,5,a[24]),T=l(T,I,O,$,A,9,a[25]),$=l($,T,I,O,d,14,a[26]),O=l(O,$,T,I,b,20,a[27]),I=l(I,O,$,T,S,5,a[28]),T=l(T,I,O,$,p,9,a[29]),$=l($,T,I,O,y,14,a[30]),I=f(I,O=l(O,$,T,I,x,20,a[31]),$,T,g,4,a[32]),T=f(T,I,O,$,b,11,a[33]),$=f($,T,I,O,E,16,a[34]),O=f(O,$,T,I,A,23,a[35]),I=f(I,O,$,T,c,4,a[36]),T=f(T,I,O,$,m,11,a[37]),$=f($,T,I,O,y,16,a[38]),O=f(O,$,T,I,_,23,a[39]),I=f(I,O,$,T,S,4,a[40]),T=f(T,I,O,$,s,11,a[41]),$=f($,T,I,O,d,16,a[42]),O=f(O,$,T,I,v,23,a[43]),I=f(I,O,$,T,w,4,a[44]),T=f(T,I,O,$,x,11,a[45]),$=f($,T,I,O,R,16,a[46]),I=h(I,O=f(O,$,T,I,p,23,a[47]),$,T,s,6,a[48]),T=h(T,I,O,$,y,10,a[49]),$=h($,T,I,O,A,15,a[50]),O=h(O,$,T,I,g,21,a[51]),I=h(I,O,$,T,x,6,a[52]),T=h(T,I,O,$,d,10,a[53]),$=h($,T,I,O,_,15,a[54]),O=h(O,$,T,I,c,21,a[55]),I=h(I,O,$,T,b,6,a[56]),T=h(T,I,O,$,R,10,a[57]),$=h($,T,I,O,v,15,a[58]),O=h(O,$,T,I,S,21,a[59]),I=h(I,O,$,T,m,6,a[60]),T=h(T,I,O,$,E,10,a[61]),$=h($,T,I,O,p,15,a[62]),O=h(O,$,T,I,w,21,a[63]),o[0]=o[0]+I|0,o[1]=o[1]+O|0,o[2]=o[2]+$|0,o[3]=o[3]+T|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;r[i>>>5]|=128<<24-i%32;var o=t.floor(n/4294967296),s=n;r[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),r[14+(i+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),e.sigBytes=4*(r.length+1),this._process();for(var a=this._hash,c=a.words,u=0;u<4;u++){var l=c[u];c[u]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return a},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function u(e,t,r,n,i,o,s){var a=e+(t&r|~t&n)+i+s;return(a<<o|a>>>32-o)+t}function l(e,t,r,n,i,o,s){var a=e+(t&n|r&~n)+i+s;return(a<<o|a>>>32-o)+t}function f(e,t,r,n,i,o,s){var a=e+(t^r^n)+i+s;return(a<<o|a>>>32-o)+t}function h(e,t,r,n,i,o,s){var a=e+(r^(t|~n))+i+s;return(a<<o|a>>>32-o)+t}r.MD5=o._createHelper(c),r.HmacMD5=o._createHmacHelper(c)}(Math),e.MD5},"object"==typeof t?e.exports=t=n(i("6KjL3")):"function"==typeof define&&define.amd?define(["./core"],n):n(r.CryptoJS)})),i.register("iioWu",(function(e,t){var r,n;r=this,n=function(e){var t,r,n,i,o,s,a;return r=(t=e).lib,n=r.WordArray,i=r.Hasher,o=t.algo,s=[],a=o.SHA1=i.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],a=r[3],c=r[4],u=0;u<80;u++){if(u<16)s[u]=0|e[t+u];else{var l=s[u-3]^s[u-8]^s[u-14]^s[u-16];s[u]=l<<1|l>>>31}var f=(n<<5|n>>>27)+c+s[u];f+=u<20?1518500249+(i&o|~i&a):u<40?1859775393+(i^o^a):u<60?(i&o|i&a|o&a)-1894007588:(i^o^a)-899497514,c=a,a=o,o=i<<30|i>>>2,i=n,n=f}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+a|0,r[4]=r[4]+c|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),t[15+(n+64>>>9<<4)]=r,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}}),t.SHA1=i._createHelper(a),t.HmacSHA1=i._createHmacHelper(a),e.SHA1},"object"==typeof t?e.exports=t=n(i("6KjL3")):"function"==typeof define&&define.amd?define(["./core"],n):n(r.CryptoJS)})),i.register("42RVZ",(function(e,t){var r,n;r=this,n=function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,o=n.Hasher,s=r.algo,a=[],c=[];!function(){function e(e){for(var r=t.sqrt(e),n=2;n<=r;n++)if(!(e%n))return!1;return!0}function r(e){return 4294967296*(e-(0|e))|0}for(var n=2,i=0;i<64;)e(n)&&(i<8&&(a[i]=r(t.pow(n,.5))),c[i]=r(t.pow(n,1/3)),i++),n++}();var u=[],l=s.SHA256=o.extend({_doReset:function(){this._hash=new i.init(a.slice(0))},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],s=r[3],a=r[4],l=r[5],f=r[6],h=r[7],p=0;p<64;p++){if(p<16)u[p]=0|e[t+p];else{var d=u[p-15],m=(d<<25|d>>>7)^(d<<14|d>>>18)^d>>>3,g=u[p-2],v=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;u[p]=m+u[p-7]+v+u[p-16]}var y=n&i^n&o^i&o,b=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),w=h+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&l^~a&f)+c[p]+u[p];h=f,f=l,l=a,a=s+w|0,s=o,o=i,i=n,n=w+(b+y)|0}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+s|0,r[4]=r[4]+a|0,r[5]=r[5]+l|0,r[6]=r[6]+f|0,r[7]=r[7]+h|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;return r[i>>>5]|=128<<24-i%32,r[14+(i+64>>>9<<4)]=t.floor(n/4294967296),r[15+(i+64>>>9<<4)]=n,e.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});r.SHA256=o._createHelper(l),r.HmacSHA256=o._createHmacHelper(l)}(Math),e.SHA256},"object"==typeof t?e.exports=t=n(i("6KjL3")):"function"==typeof define&&define.amd?define(["./core"],n):n(r.CryptoJS)})),i.register("irnyU",(function(e,t){var r,n;r=this,n=function(e){var t,r,n,i,o;return r=(t=e).lib.WordArray,n=t.algo,i=n.SHA256,o=n.SHA224=i.extend({_doReset:function(){this._hash=new r.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=i._doFinalize.call(this);return e.sigBytes-=4,e}}),t.SHA224=i._createHelper(o),t.HmacSHA224=i._createHmacHelper(o),e.SHA224},"object"==typeof t?e.exports=t=n(i("6KjL3"),i("42RVZ")):"function"==typeof define&&define.amd?define(["./core","./sha256"],n):n(r.CryptoJS)})),i.register("46weT",(function(e,t){var r,n;r=this,n=function(e){return function(){var t=e,r=t.lib.Hasher,n=t.x64,i=n.Word,o=n.WordArray,s=t.algo;function a(){return i.create.apply(i,arguments)}var c=[a(1116352408,3609767458),a(1899447441,602891725),a(3049323471,3964484399),a(3921009573,2173295548),a(961987163,4081628472),a(1508970993,3053834265),a(2453635748,2937671579),a(2870763221,3664609560),a(3624381080,2734883394),a(310598401,1164996542),a(607225278,1323610764),a(1426881987,3590304994),a(1925078388,4068182383),a(2162078206,991336113),a(2614888103,633803317),a(3248222580,3479774868),a(3835390401,2666613458),a(4022224774,944711139),a(264347078,2341262773),a(604807628,2007800933),a(770255983,1495990901),a(1249150122,1856431235),a(1555081692,3175218132),a(1996064986,2198950837),a(2554220882,3999719339),a(2821834349,766784016),a(2952996808,2566594879),a(3210313671,3203337956),a(3336571891,1034457026),a(3584528711,2466948901),a(113926993,3758326383),a(338241895,168717936),a(666307205,1188179964),a(773529912,1546045734),a(1294757372,1522805485),a(1396182291,2643833823),a(1695183700,2343527390),a(1986661051,1014477480),a(2177026350,1206759142),a(2456956037,344077627),a(2730485921,1290863460),a(2820302411,3158454273),a(3259730800,3505952657),a(3345764771,106217008),a(3516065817,3606008344),a(3600352804,1432725776),a(4094571909,1467031594),a(275423344,851169720),a(430227734,3100823752),a(506948616,1363258195),a(659060556,3750685593),a(883997877,3785050280),a(958139571,3318307427),a(1322822218,3812723403),a(1537002063,2003034995),a(1747873779,3602036899),a(1955562222,1575990012),a(2024104815,1125592928),a(2227730452,2716904306),a(2361852424,442776044),a(2428436474,593698344),a(2756734187,3733110249),a(3204031479,2999351573),a(3329325298,3815920427),a(3391569614,3928383900),a(3515267271,566280711),a(3940187606,3454069534),a(4118630271,4000239992),a(116418474,1914138554),a(174292421,2731055270),a(289380356,3203993006),a(460393269,320620315),a(685471733,587496836),a(852142971,1086792851),a(1017036298,365543100),a(1126000580,2618297676),a(1288033470,3409855158),a(1501505948,4234509866),a(1607167915,987167468),a(1816402316,1246189591)],u=[];!function(){for(var e=0;e<80;e++)u[e]=a()}();var l=s.SHA512=r.extend({_doReset:function(){this._hash=new o.init([new i.init(1779033703,4089235720),new i.init(3144134277,2227873595),new i.init(1013904242,4271175723),new i.init(2773480762,1595750129),new i.init(1359893119,2917565137),new i.init(2600822924,725511199),new i.init(528734635,4215389547),new i.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],s=r[3],a=r[4],l=r[5],f=r[6],h=r[7],p=n.high,d=n.low,m=i.high,g=i.low,v=o.high,y=o.low,b=s.high,w=s.low,_=a.high,E=a.low,x=l.high,S=l.low,A=f.high,R=f.low,I=h.high,O=h.low,$=p,T=d,k=m,j=g,L=v,N=y,C=b,P=w,D=_,M=E,B=x,U=S,F=A,z=R,H=I,q=O,G=0;G<80;G++){var V=u[G];if(G<16)var W=V.high=0|e[t+2*G],K=V.low=0|e[t+2*G+1];else{var X=u[G-15],Y=X.high,J=X.low,Z=(Y>>>1|J<<31)^(Y>>>8|J<<24)^Y>>>7,Q=(J>>>1|Y<<31)^(J>>>8|Y<<24)^(J>>>7|Y<<25),ee=u[G-2],te=ee.high,re=ee.low,ne=(te>>>19|re<<13)^(te<<3|re>>>29)^te>>>6,ie=(re>>>19|te<<13)^(re<<3|te>>>29)^(re>>>6|te<<26),oe=u[G-7],se=oe.high,ae=oe.low,ce=u[G-16],ue=ce.high,le=ce.low;W=(W=(W=Z+se+((K=Q+ae)>>>0<Q>>>0?1:0))+ne+((K+=ie)>>>0<ie>>>0?1:0))+ue+((K+=le)>>>0<le>>>0?1:0),V.high=W,V.low=K}var fe,he=D&B^~D&F,pe=M&U^~M&z,de=$&k^$&L^k&L,me=T&j^T&N^j&N,ge=($>>>28|T<<4)^($<<30|T>>>2)^($<<25|T>>>7),ve=(T>>>28|$<<4)^(T<<30|$>>>2)^(T<<25|$>>>7),ye=(D>>>14|M<<18)^(D>>>18|M<<14)^(D<<23|M>>>9),be=(M>>>14|D<<18)^(M>>>18|D<<14)^(M<<23|D>>>9),we=c[G],_e=we.high,Ee=we.low,xe=H+ye+((fe=q+be)>>>0<q>>>0?1:0),Se=ve+me;H=F,q=z,F=B,z=U,B=D,U=M,D=C+(xe=(xe=(xe=xe+he+((fe+=pe)>>>0<pe>>>0?1:0))+_e+((fe+=Ee)>>>0<Ee>>>0?1:0))+W+((fe+=K)>>>0<K>>>0?1:0))+((M=P+fe|0)>>>0<P>>>0?1:0)|0,C=L,P=N,L=k,N=j,k=$,j=T,$=xe+(ge+de+(Se>>>0<ve>>>0?1:0))+((T=fe+Se|0)>>>0<fe>>>0?1:0)|0}d=n.low=d+T,n.high=p+$+(d>>>0<T>>>0?1:0),g=i.low=g+j,i.high=m+k+(g>>>0<j>>>0?1:0),y=o.low=y+N,o.high=v+L+(y>>>0<N>>>0?1:0),w=s.low=w+P,s.high=b+C+(w>>>0<P>>>0?1:0),E=a.low=E+M,a.high=_+D+(E>>>0<M>>>0?1:0),S=l.low=S+U,l.high=x+B+(S>>>0<U>>>0?1:0),R=f.low=R+z,f.high=A+F+(R>>>0<z>>>0?1:0),O=h.low=O+q,h.high=I+H+(O>>>0<q>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[30+(n+128>>>10<<5)]=Math.floor(r/4294967296),t[31+(n+128>>>10<<5)]=r,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});t.SHA512=r._createHelper(l),t.HmacSHA512=r._createHmacHelper(l)}(),e.SHA512},"object"==typeof t?e.exports=t=n(i("6KjL3"),i("26Nqx")):"function"==typeof define&&define.amd?define(["./core","./x64-core"],n):n(r.CryptoJS)})),i.register("5TeC5",(function(e,t){var r,n;r=this,n=function(e){var t,r,n,i,o,s,a;return r=(t=e).x64,n=r.Word,i=r.WordArray,o=t.algo,s=o.SHA512,a=o.SHA384=s.extend({_doReset:function(){this._hash=new i.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},_doFinalize:function(){var e=s._doFinalize.call(this);return e.sigBytes-=16,e}}),t.SHA384=s._createHelper(a),t.HmacSHA384=s._createHmacHelper(a),e.SHA384},"object"==typeof t?e.exports=t=n(i("6KjL3"),i("26Nqx"),i("46weT")):"function"==typeof define&&define.amd?define(["./core","./x64-core","./sha512"],n):n(r.CryptoJS)})),i.register("iTqqg",(function(e,t){var r,n;r=this,n=function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,o=n.Hasher,s=r.x64.Word,a=r.algo,c=[],u=[],l=[];!function(){for(var e=1,t=0,r=0;r<24;r++){c[e+5*t]=(r+1)*(r+2)/2%64;var n=(2*e+3*t)%5;e=t%5,t=n}for(e=0;e<5;e++)for(t=0;t<5;t++)u[e+5*t]=t+(2*e+3*t)%5*5;for(var i=1,o=0;o<24;o++){for(var a=0,f=0,h=0;h<7;h++){if(1&i){var p=(1<<h)-1;p<32?f^=1<<p:a^=1<<p-32}128&i?i=i<<1^113:i<<=1}l[o]=s.create(a,f)}}();var f=[];!function(){for(var e=0;e<25;e++)f[e]=s.create()}();var h=a.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new s.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var r=this._state,n=this.blockSize/2,i=0;i<n;i++){var o=e[t+2*i],s=e[t+2*i+1];o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),s=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),(O=r[i]).high^=s,O.low^=o}for(var a=0;a<24;a++){for(var h=0;h<5;h++){for(var p=0,d=0,m=0;m<5;m++)p^=(O=r[h+5*m]).high,d^=O.low;var g=f[h];g.high=p,g.low=d}for(h=0;h<5;h++){var v=f[(h+4)%5],y=f[(h+1)%5],b=y.high,w=y.low;for(p=v.high^(b<<1|w>>>31),d=v.low^(w<<1|b>>>31),m=0;m<5;m++)(O=r[h+5*m]).high^=p,O.low^=d}for(var _=1;_<25;_++){var E=(O=r[_]).high,x=O.low,S=c[_];S<32?(p=E<<S|x>>>32-S,d=x<<S|E>>>32-S):(p=x<<S-32|E>>>64-S,d=E<<S-32|x>>>64-S);var A=f[u[_]];A.high=p,A.low=d}var R=f[0],I=r[0];for(R.high=I.high,R.low=I.low,h=0;h<5;h++)for(m=0;m<5;m++){var O=r[_=h+5*m],$=f[_],T=f[(h+1)%5+5*m],k=f[(h+2)%5+5*m];O.high=$.high^~T.high&k.high,O.low=$.low^~T.low&k.low}O=r[0];var j=l[a];O.high^=j.high,O.low^=j.low}},_doFinalize:function(){var e=this._data,r=e.words,n=(this._nDataBytes,8*e.sigBytes),o=32*this.blockSize;r[n>>>5]|=1<<24-n%32,r[(t.ceil((n+1)/o)*o>>>5)-1]|=128,e.sigBytes=4*r.length,this._process();for(var s=this._state,a=this.cfg.outputLength/8,c=a/8,u=[],l=0;l<c;l++){var f=s[l],h=f.high,p=f.low;h=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8),p=16711935&(p<<8|p>>>24)|4278255360&(p<<24|p>>>8),u.push(p),u.push(h)}return new i.init(u,a)},clone:function(){for(var e=o.clone.call(this),t=e._state=this._state.slice(0),r=0;r<25;r++)t[r]=t[r].clone();return e}});r.SHA3=o._createHelper(h),r.HmacSHA3=o._createHmacHelper(h)}(Math),e.SHA3},"object"==typeof t?e.exports=t=n(i("6KjL3"),i("26Nqx")):"function"==typeof define&&define.amd?define(["./core","./x64-core"],n):n(r.CryptoJS)})),i.register("4OnNd",(function(e,t){var r,n;r=this,n=function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,o=n.Hasher,s=r.algo,a=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),u=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),l=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),f=i.create([0,1518500249,1859775393,2400959708,2840853838]),h=i.create([1352829926,1548603684,1836072691,2053994217,0]),p=s.RIPEMD160=o.extend({_doReset:function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var n=t+r,i=e[n];e[n]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o,s,p,w,_,E,x,S,A,R,I,O=this._hash.words,$=f.words,T=h.words,k=a.words,j=c.words,L=u.words,N=l.words;for(E=o=O[0],x=s=O[1],S=p=O[2],A=w=O[3],R=_=O[4],r=0;r<80;r+=1)I=o+e[t+k[r]]|0,I+=r<16?d(s,p,w)+$[0]:r<32?m(s,p,w)+$[1]:r<48?g(s,p,w)+$[2]:r<64?v(s,p,w)+$[3]:y(s,p,w)+$[4],I=(I=b(I|=0,L[r]))+_|0,o=_,_=w,w=b(p,10),p=s,s=I,I=E+e[t+j[r]]|0,I+=r<16?y(x,S,A)+T[0]:r<32?v(x,S,A)+T[1]:r<48?g(x,S,A)+T[2]:r<64?m(x,S,A)+T[3]:d(x,S,A)+T[4],I=(I=b(I|=0,N[r]))+R|0,E=R,R=A,A=b(S,10),S=x,x=I;I=O[1]+p+A|0,O[1]=O[2]+w+R|0,O[2]=O[3]+_+E|0,O[3]=O[4]+o+x|0,O[4]=O[0]+s+S|0,O[0]=I},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),e.sigBytes=4*(t.length+1),this._process();for(var i=this._hash,o=i.words,s=0;s<5;s++){var a=o[s];o[s]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}return i},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function d(e,t,r){return e^t^r}function m(e,t,r){return e&t|~e&r}function g(e,t,r){return(e|~t)^r}function v(e,t,r){return e&r|t&~r}function y(e,t,r){return e^(t|~r)}function b(e,t){return e<<t|e>>>32-t}r.RIPEMD160=o._createHelper(p),r.HmacRIPEMD160=o._createHmacHelper(p)}(Math),e.RIPEMD160},"object"==typeof t?e.exports=t=n(i("6KjL3")):"function"==typeof define&&define.amd?define(["./core"],n):n(r.CryptoJS)})),i.register("39Tkr",(function(e,t){var r,n;r=this,n=function(e){var t,r,n;r=(t=e).lib.Base,n=t.enc.Utf8,t.algo.HMAC=r.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=n.parse(t));var r=e.blockSize,i=4*r;t.sigBytes>i&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),s=this._iKey=t.clone(),a=o.words,c=s.words,u=0;u<r;u++)a[u]^=1549556828,c[u]^=909522486;o.sigBytes=s.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,r=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(r))}})},"object"==typeof t?e.exports=t=n(i("6KjL3")):"function"==typeof define&&define.amd?define(["./core"],n):n(r.CryptoJS)})),i.register("c8WpG",(function(e,t){var r,n;r=this,n=function(e){var t,r,n,i,o,s,a,c;return r=(t=e).lib,n=r.Base,i=r.WordArray,o=t.algo,s=o.SHA1,a=o.HMAC,c=o.PBKDF2=n.extend({cfg:n.extend({keySize:4,hasher:s,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r=this.cfg,n=a.create(r.hasher,e),o=i.create(),s=i.create([1]),c=o.words,u=s.words,l=r.keySize,f=r.iterations;c.length<l;){var h=n.update(t).finalize(s);n.reset();for(var p=h.words,d=p.length,m=h,g=1;g<f;g++){m=n.finalize(m),n.reset();for(var v=m.words,y=0;y<d;y++)p[y]^=v[y]}o.concat(h),u[0]++}return o.sigBytes=4*l,o}}),t.PBKDF2=function(e,t,r){return c.create(r).compute(e,t)},e.PBKDF2},"object"==typeof t?e.exports=t=n(i("6KjL3"),i("iioWu"),i("39Tkr")):"function"==typeof define&&define.amd?define(["./core","./sha1","./hmac"],n):n(r.CryptoJS)})),i.register("gWpp2",(function(e,t){var r,n;r=this,n=function(e){var t,r,n,i,o,s,a;return r=(t=e).lib,n=r.Base,i=r.WordArray,o=t.algo,s=o.MD5,a=o.EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:s,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r=this.cfg,n=r.hasher.create(),o=i.create(),s=o.words,a=r.keySize,c=r.iterations;s.length<a;){u&&n.update(u);var u=n.update(e).finalize(t);n.reset();for(var l=1;l<c;l++)u=n.finalize(u),n.reset();o.concat(u)}return o.sigBytes=4*a,o}}),t.EvpKDF=function(e,t,r){return a.create(r).compute(e,t)},e.EvpKDF},"object"==typeof t?e.exports=t=n(i("6KjL3"),i("iioWu"),i("39Tkr")):"function"==typeof define&&define.amd?define(["./core","./sha1","./hmac"],n):n(r.CryptoJS)})),i.register("aAtkT",(function(e,t){var r,n;r=this,n=function(e){var t,r,n,i,o,s,a,c,u,l,f,h,p,d,m,g,v,y;e.lib.Cipher||(r=(t=e).lib,n=r.Base,i=r.WordArray,o=r.BufferedBlockAlgorithm,(s=t.enc).Utf8,a=s.Base64,c=t.algo.EvpKDF,u=r.Cipher=o.extend({cfg:n.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,r){this.cfg=this.cfg.extend(r),this._xformMode=e,this._key=t,this.reset()},reset:function(){o.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?y:g}return function(t){return{encrypt:function(r,n,i){return e(n).encrypt(t,r,n,i)},decrypt:function(r,n,i){return e(n).decrypt(t,r,n,i)}}}}()}),r.StreamCipher=u.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),l=t.mode={},f=r.BlockCipherMode=n.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),h=l.CBC=function(){var e=f.extend();function t(e,t,r){var n=this._iv;if(n){var i=n;this._iv=void 0}else i=this._prevBlock;for(var o=0;o<r;o++)e[t+o]^=i[o]}return e.Encryptor=e.extend({processBlock:function(e,r){var n=this._cipher,i=n.blockSize;t.call(this,e,r,i),n.encryptBlock(e,r),this._prevBlock=e.slice(r,r+i)}}),e.Decryptor=e.extend({processBlock:function(e,r){var n=this._cipher,i=n.blockSize,o=e.slice(r,r+i);n.decryptBlock(e,r),t.call(this,e,r,i),this._prevBlock=o}}),e}(),p=(t.pad={}).Pkcs7={pad:function(e,t){for(var r=4*t,n=r-e.sigBytes%r,o=n<<24|n<<16|n<<8|n,s=[],a=0;a<n;a+=4)s.push(o);var c=i.create(s,n);e.concat(c)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},r.BlockCipher=u.extend({cfg:u.cfg.extend({mode:h,padding:p}),reset:function(){u.reset.call(this);var e=this.cfg,t=e.iv,r=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=r.createEncryptor;else n=r.createDecryptor,this._minBufferSize=1;this._mode&&this._mode.__creator==n?this._mode.init(this,t&&t.words):(this._mode=n.call(r,this,t&&t.words),this._mode.__creator=n)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4}),d=r.CipherParams=n.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),m=(t.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,r=e.salt;if(r)var n=i.create([1398893684,1701076831]).concat(r).concat(t);else n=t;return n.toString(a)},parse:function(e){var t=a.parse(e),r=t.words;if(1398893684==r[0]&&1701076831==r[1]){var n=i.create(r.slice(2,4));r.splice(0,4),t.sigBytes-=16}return d.create({ciphertext:t,salt:n})}},g=r.SerializableCipher=n.extend({cfg:n.extend({format:m}),encrypt:function(e,t,r,n){n=this.cfg.extend(n);var i=e.createEncryptor(r,n),o=i.finalize(t),s=i.cfg;return d.create({ciphertext:o,key:r,iv:s.iv,algorithm:e,mode:s.mode,padding:s.padding,blockSize:e.blockSize,formatter:n.format})},decrypt:function(e,t,r,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),e.createDecryptor(r,n).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),v=(t.kdf={}).OpenSSL={execute:function(e,t,r,n){n||(n=i.random(8));var o=c.create({keySize:t+r}).compute(e,n),s=i.create(o.words.slice(t),4*r);return o.sigBytes=4*t,d.create({key:o,iv:s,salt:n})}},y=r.PasswordBasedCipher=g.extend({cfg:g.cfg.extend({kdf:v}),encrypt:function(e,t,r,n){var i=(n=this.cfg.extend(n)).kdf.execute(r,e.keySize,e.ivSize);n.iv=i.iv;var o=g.encrypt.call(this,e,t,i.key,n);return o.mixIn(i),o},decrypt:function(e,t,r,n){n=this.cfg.extend(n),t=this._parse(t,n.format);var i=n.kdf.execute(r,e.keySize,e.ivSize,t.salt);return n.iv=i.iv,g.decrypt.call(this,e,t,i.key,n)}}))},"object"==typeof t?e.exports=t=n(i("6KjL3"),i("gWpp2")):"function"==typeof define&&define.amd?define(["./core","./evpkdf"],n):n(r.CryptoJS)})),i.register("iFybI",(function(e,t){var r,n;r=this,n=function(e){return e.mode.CFB=function(){var t=e.lib.BlockCipherMode.extend();function r(e,t,r,n){var i=this._iv;if(i){var o=i.slice(0);this._iv=void 0}else o=this._prevBlock;n.encryptBlock(o,0);for(var s=0;s<r;s++)e[t+s]^=o[s]}return t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize;r.call(this,e,t,i,n),this._prevBlock=e.slice(t,t+i)}}),t.Decryptor=t.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize,o=e.slice(t,t+i);r.call(this,e,t,i,n),this._prevBlock=o}}),t}(),e.mode.CFB},"object"==typeof t?e.exports=t=n(i("6KjL3"),i("aAtkT")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],n):n(r.CryptoJS)})),i.register("6JG5y",(function(e,t){var r,n;r=this,n=function(e){var t,r;return e.mode.CTR=(t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:function(e,t){var r=this._cipher,n=r.blockSize,i=this._iv,o=this._counter;i&&(o=this._counter=i.slice(0),this._iv=void 0);var s=o.slice(0);r.encryptBlock(s,0),o[n-1]=o[n-1]+1|0;for(var a=0;a<n;a++)e[t+a]^=s[a]}}),t.Decryptor=r,t),e.mode.CTR},"object"==typeof t?e.exports=t=n(i("6KjL3"),i("aAtkT")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],n):n(r.CryptoJS)})),i.register("anUas",(function(e,t){var r,n;r=this,n=function(e){
/** @preserve
	 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
	 * derived from CryptoJS.mode.CTR
	 * Jan Hruby jhruby.web@gmail.com
	 */
return e.mode.CTRGladman=function(){var t=e.lib.BlockCipherMode.extend();function r(e){if(255==(e>>24&255)){var t=e>>16&255,r=e>>8&255,n=255&e;255===t?(t=0,255===r?(r=0,255===n?n=0:++n):++r):++t,e=0,e+=t<<16,e+=r<<8,e+=n}else e+=16777216;return e}var n=t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize,o=this._iv,s=this._counter;o&&(s=this._counter=o.slice(0),this._iv=void 0),function(e){0===(e[0]=r(e[0]))&&(e[1]=r(e[1]))}(s);var a=s.slice(0);n.encryptBlock(a,0);for(var c=0;c<i;c++)e[t+c]^=a[c]}});return t.Decryptor=n,t}(),e.mode.CTRGladman},"object"==typeof t?e.exports=t=n(i("6KjL3"),i("aAtkT")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],n):n(r.CryptoJS)})),i.register("4WHwK",(function(e,t){var r,n;r=this,n=function(e){var t,r;return e.mode.OFB=(t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:function(e,t){var r=this._cipher,n=r.blockSize,i=this._iv,o=this._keystream;i&&(o=this._keystream=i.slice(0),this._iv=void 0),r.encryptBlock(o,0);for(var s=0;s<n;s++)e[t+s]^=o[s]}}),t.Decryptor=r,t),e.mode.OFB},"object"==typeof t?e.exports=t=n(i("6KjL3"),i("aAtkT")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],n):n(r.CryptoJS)})),i.register("kXDt5",(function(e,t){var r,n;r=this,n=function(e){var t;return e.mode.ECB=((t=e.lib.BlockCipherMode.extend()).Encryptor=t.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),t.Decryptor=t.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),t),e.mode.ECB},"object"==typeof t?e.exports=t=n(i("6KjL3"),i("aAtkT")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],n):n(r.CryptoJS)})),i.register("cbCFZ",(function(e,t){var r,n;r=this,n=function(e){return e.pad.AnsiX923={pad:function(e,t){var r=e.sigBytes,n=4*t,i=n-r%n,o=r+i-1;e.clamp(),e.words[o>>>2]|=i<<24-o%4*8,e.sigBytes+=i},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Ansix923},"object"==typeof t?e.exports=t=n(i("6KjL3"),i("aAtkT")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],n):n(r.CryptoJS)})),i.register("ch8nE",(function(e,t){var r,n;r=this,n=function(e){return e.pad.Iso10126={pad:function(t,r){var n=4*r,i=n-t.sigBytes%n;t.concat(e.lib.WordArray.random(i-1)).concat(e.lib.WordArray.create([i<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Iso10126},"object"==typeof t?e.exports=t=n(i("6KjL3"),i("aAtkT")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],n):n(r.CryptoJS)})),i.register("3qVsJ",(function(e,t){var r,n;r=this,n=function(e){return e.pad.Iso97971={pad:function(t,r){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,r)},unpad:function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--}},e.pad.Iso97971},"object"==typeof t?e.exports=t=n(i("6KjL3"),i("aAtkT")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],n):n(r.CryptoJS)})),i.register("V8yk3",(function(e,t){var r,n;r=this,n=function(e){return e.pad.ZeroPadding={pad:function(e,t){var r=4*t;e.clamp(),e.sigBytes+=r-(e.sigBytes%r||r)},unpad:function(e){for(var t=e.words,r=e.sigBytes-1;!(t[r>>>2]>>>24-r%4*8&255);)r--;e.sigBytes=r+1}},e.pad.ZeroPadding},"object"==typeof t?e.exports=t=n(i("6KjL3"),i("aAtkT")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],n):n(r.CryptoJS)})),i.register("aJ1Ri",(function(e,t){var r,n;r=this,n=function(e){return e.pad.NoPadding={pad:function(){},unpad:function(){}},e.pad.NoPadding},"object"==typeof t?e.exports=t=n(i("6KjL3"),i("aAtkT")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],n):n(r.CryptoJS)})),i.register("e0TWc",(function(e,t){var r,n;r=this,n=function(e){var t,r,n;return r=(t=e).lib.CipherParams,n=t.enc.Hex,t.format.Hex={stringify:function(e){return e.ciphertext.toString(n)},parse:function(e){var t=n.parse(e);return r.create({ciphertext:t})}},e.format.Hex},"object"==typeof t?e.exports=t=n(i("6KjL3"),i("aAtkT")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],n):n(r.CryptoJS)})),i.register("fG7FJ",(function(e,t){var r,n;r=this,n=function(e){return function(){var t=e,r=t.lib.BlockCipher,n=t.algo,i=[],o=[],s=[],a=[],c=[],u=[],l=[],f=[],h=[],p=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var r=0,n=0;for(t=0;t<256;t++){var d=n^n<<1^n<<2^n<<3^n<<4;d=d>>>8^255&d^99,i[r]=d,o[d]=r;var m=e[r],g=e[m],v=e[g],y=257*e[d]^16843008*d;s[r]=y<<24|y>>>8,a[r]=y<<16|y>>>16,c[r]=y<<8|y>>>24,u[r]=y,y=16843009*v^65537*g^257*m^16843008*r,l[d]=y<<24|y>>>8,f[d]=y<<16|y>>>16,h[d]=y<<8|y>>>24,p[d]=y,r?(r=m^e[e[e[v^m]]],n^=e[e[n]]):r=n=1}}();var d=[0,1,2,4,8,16,32,64,128,27,54],m=n.AES=r.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,r=e.sigBytes/4,n=4*((this._nRounds=r+6)+1),o=this._keySchedule=[],s=0;s<n;s++)if(s<r)o[s]=t[s];else{var a=o[s-1];s%r?r>6&&s%r==4&&(a=i[a>>>24]<<24|i[a>>>16&255]<<16|i[a>>>8&255]<<8|i[255&a]):(a=i[(a=a<<8|a>>>24)>>>24]<<24|i[a>>>16&255]<<16|i[a>>>8&255]<<8|i[255&a],a^=d[s/r|0]<<24),o[s]=o[s-r]^a}for(var c=this._invKeySchedule=[],u=0;u<n;u++)s=n-u,a=u%4?o[s]:o[s-4],c[u]=u<4||s<=4?a:l[i[a>>>24]]^f[i[a>>>16&255]]^h[i[a>>>8&255]]^p[i[255&a]]}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,s,a,c,u,i)},decryptBlock:function(e,t){var r=e[t+1];e[t+1]=e[t+3],e[t+3]=r,this._doCryptBlock(e,t,this._invKeySchedule,l,f,h,p,o),r=e[t+1],e[t+1]=e[t+3],e[t+3]=r},_doCryptBlock:function(e,t,r,n,i,o,s,a){for(var c=this._nRounds,u=e[t]^r[0],l=e[t+1]^r[1],f=e[t+2]^r[2],h=e[t+3]^r[3],p=4,d=1;d<c;d++){var m=n[u>>>24]^i[l>>>16&255]^o[f>>>8&255]^s[255&h]^r[p++],g=n[l>>>24]^i[f>>>16&255]^o[h>>>8&255]^s[255&u]^r[p++],v=n[f>>>24]^i[h>>>16&255]^o[u>>>8&255]^s[255&l]^r[p++],y=n[h>>>24]^i[u>>>16&255]^o[l>>>8&255]^s[255&f]^r[p++];u=m,l=g,f=v,h=y}m=(a[u>>>24]<<24|a[l>>>16&255]<<16|a[f>>>8&255]<<8|a[255&h])^r[p++],g=(a[l>>>24]<<24|a[f>>>16&255]<<16|a[h>>>8&255]<<8|a[255&u])^r[p++],v=(a[f>>>24]<<24|a[h>>>16&255]<<16|a[u>>>8&255]<<8|a[255&l])^r[p++],y=(a[h>>>24]<<24|a[u>>>16&255]<<16|a[l>>>8&255]<<8|a[255&f])^r[p++],e[t]=m,e[t+1]=g,e[t+2]=v,e[t+3]=y},keySize:8});t.AES=r._createHelper(m)}(),e.AES},"object"==typeof t?e.exports=t=n(i("6KjL3"),i("3VjHi"),i("7sS9W"),i("gWpp2"),i("aAtkT")):"function"==typeof define&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],n):n(r.CryptoJS)})),i.register("EhsMB",(function(e,t){var r,n;r=this,n=function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=r.BlockCipher,o=t.algo,s=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],a=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],l=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],f=o.DES=i.extend({_doReset:function(){for(var e=this._key.words,t=[],r=0;r<56;r++){var n=s[r]-1;t[r]=e[n>>>5]>>>31-n%32&1}for(var i=this._subKeys=[],o=0;o<16;o++){var u=i[o]=[],l=c[o];for(r=0;r<24;r++)u[r/6|0]|=t[(a[r]-1+l)%28]<<31-r%6,u[4+(r/6|0)]|=t[28+(a[r+24]-1+l)%28]<<31-r%6;for(u[0]=u[0]<<1|u[0]>>>31,r=1;r<7;r++)u[r]=u[r]>>>4*(r-1)+3;u[7]=u[7]<<5|u[7]>>>27}var f=this._invSubKeys=[];for(r=0;r<16;r++)f[r]=i[15-r]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,r){this._lBlock=e[t],this._rBlock=e[t+1],h.call(this,4,252645135),h.call(this,16,65535),p.call(this,2,858993459),p.call(this,8,16711935),h.call(this,1,1431655765);for(var n=0;n<16;n++){for(var i=r[n],o=this._lBlock,s=this._rBlock,a=0,c=0;c<8;c++)a|=u[c][((s^i[c])&l[c])>>>0];this._lBlock=s,this._rBlock=o^a}var f=this._lBlock;this._lBlock=this._rBlock,this._rBlock=f,h.call(this,1,1431655765),p.call(this,8,16711935),p.call(this,2,858993459),h.call(this,16,65535),h.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function h(e,t){var r=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=r,this._lBlock^=r<<e}function p(e,t){var r=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=r,this._rBlock^=r<<e}t.DES=i._createHelper(f);var d=o.TripleDES=i.extend({_doReset:function(){var e=this._key.words;this._des1=f.createEncryptor(n.create(e.slice(0,2))),this._des2=f.createEncryptor(n.create(e.slice(2,4))),this._des3=f.createEncryptor(n.create(e.slice(4,6)))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});t.TripleDES=i._createHelper(d)}(),e.TripleDES},"object"==typeof t?e.exports=t=n(i("6KjL3"),i("3VjHi"),i("7sS9W"),i("gWpp2"),i("aAtkT")):"function"==typeof define&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],n):n(r.CryptoJS)})),i.register("c3X9x",(function(e,t){var r,n;r=this,n=function(e){return function(){var t=e,r=t.lib.StreamCipher,n=t.algo,i=n.RC4=r.extend({_doReset:function(){for(var e=this._key,t=e.words,r=e.sigBytes,n=this._S=[],i=0;i<256;i++)n[i]=i;i=0;for(var o=0;i<256;i++){var s=i%r,a=t[s>>>2]>>>24-s%4*8&255;o=(o+n[i]+a)%256;var c=n[i];n[i]=n[o],n[o]=c}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=o.call(this)},keySize:8,ivSize:0});function o(){for(var e=this._S,t=this._i,r=this._j,n=0,i=0;i<4;i++){r=(r+e[t=(t+1)%256])%256;var o=e[t];e[t]=e[r],e[r]=o,n|=e[(e[t]+e[r])%256]<<24-8*i}return this._i=t,this._j=r,n}t.RC4=r._createHelper(i);var s=n.RC4Drop=i.extend({cfg:i.cfg.extend({drop:192}),_doReset:function(){i._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)o.call(this)}});t.RC4Drop=r._createHelper(s)}(),e.RC4},"object"==typeof t?e.exports=t=n(i("6KjL3"),i("3VjHi"),i("7sS9W"),i("gWpp2"),i("aAtkT")):"function"==typeof define&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],n):n(r.CryptoJS)})),i.register("bhHZf",(function(e,t){var r,n;r=this,n=function(e){return function(){var t=e,r=t.lib.StreamCipher,n=t.algo,i=[],o=[],s=[],a=n.Rabbit=r.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,r=0;r<4;r++)e[r]=16711935&(e[r]<<8|e[r]>>>24)|4278255360&(e[r]<<24|e[r]>>>8);var n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],i=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];for(this._b=0,r=0;r<4;r++)c.call(this);for(r=0;r<8;r++)i[r]^=n[r+4&7];if(t){var o=t.words,s=o[0],a=o[1],u=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),l=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),f=u>>>16|4294901760&l,h=l<<16|65535&u;for(i[0]^=u,i[1]^=f,i[2]^=l,i[3]^=h,i[4]^=u,i[5]^=f,i[6]^=l,i[7]^=h,r=0;r<4;r++)c.call(this)}},_doProcessBlock:function(e,t){var r=this._X;c.call(this),i[0]=r[0]^r[5]>>>16^r[3]<<16,i[1]=r[2]^r[7]>>>16^r[5]<<16,i[2]=r[4]^r[1]>>>16^r[7]<<16,i[3]=r[6]^r[3]>>>16^r[1]<<16;for(var n=0;n<4;n++)i[n]=16711935&(i[n]<<8|i[n]>>>24)|4278255360&(i[n]<<24|i[n]>>>8),e[t+n]^=i[n]},blockSize:4,ivSize:2});function c(){for(var e=this._X,t=this._C,r=0;r<8;r++)o[r]=t[r];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<o[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<o[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<o[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<o[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<o[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<o[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<o[6]>>>0?1:0)|0,this._b=t[7]>>>0<o[7]>>>0?1:0,r=0;r<8;r++){var n=e[r]+t[r],i=65535&n,a=n>>>16,c=((i*i>>>17)+i*a>>>15)+a*a,u=((4294901760&n)*n|0)+((65535&n)*n|0);s[r]=c^u}e[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,e[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,e[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,e[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,e[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,e[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,e[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,e[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}t.Rabbit=r._createHelper(a)}(),e.Rabbit},"object"==typeof t?e.exports=t=n(i("6KjL3"),i("3VjHi"),i("7sS9W"),i("gWpp2"),i("aAtkT")):"function"==typeof define&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],n):n(r.CryptoJS)})),i.register("6XPon",(function(e,t){var r,n;r=this,n=function(e){return function(){var t=e,r=t.lib.StreamCipher,n=t.algo,i=[],o=[],s=[],a=n.RabbitLegacy=r.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,r=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],n=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var i=0;i<4;i++)c.call(this);for(i=0;i<8;i++)n[i]^=r[i+4&7];if(t){var o=t.words,s=o[0],a=o[1],u=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),l=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),f=u>>>16|4294901760&l,h=l<<16|65535&u;for(n[0]^=u,n[1]^=f,n[2]^=l,n[3]^=h,n[4]^=u,n[5]^=f,n[6]^=l,n[7]^=h,i=0;i<4;i++)c.call(this)}},_doProcessBlock:function(e,t){var r=this._X;c.call(this),i[0]=r[0]^r[5]>>>16^r[3]<<16,i[1]=r[2]^r[7]>>>16^r[5]<<16,i[2]=r[4]^r[1]>>>16^r[7]<<16,i[3]=r[6]^r[3]>>>16^r[1]<<16;for(var n=0;n<4;n++)i[n]=16711935&(i[n]<<8|i[n]>>>24)|4278255360&(i[n]<<24|i[n]>>>8),e[t+n]^=i[n]},blockSize:4,ivSize:2});function c(){for(var e=this._X,t=this._C,r=0;r<8;r++)o[r]=t[r];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<o[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<o[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<o[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<o[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<o[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<o[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<o[6]>>>0?1:0)|0,this._b=t[7]>>>0<o[7]>>>0?1:0,r=0;r<8;r++){var n=e[r]+t[r],i=65535&n,a=n>>>16,c=((i*i>>>17)+i*a>>>15)+a*a,u=((4294901760&n)*n|0)+((65535&n)*n|0);s[r]=c^u}e[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,e[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,e[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,e[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,e[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,e[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,e[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,e[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}t.RabbitLegacy=r._createHelper(a)}(),e.RabbitLegacy},"object"==typeof t?e.exports=t=n(i("6KjL3"),i("3VjHi"),i("7sS9W"),i("gWpp2"),i("aAtkT")):"function"==typeof define&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],n):n(r.CryptoJS)}));var hn,pn=i("luoq9"),dn=new Uint32Array([2781776228,2667607657,344215631,987627737,203704430,1352113495,2040841986,1220259382,2851504267,2852562949,2826939359,1583999983]),mn=function(e){return void 0!==e.slice?e.slice():function(e){var t=new Uint32Array(e);return new Uint32Array(t)}(e)},gn=function(e){if(void 0===e.reverse)for(var t=0,r=e.length,n=Math.floor(r/2),i=null;t<n;t+=1)i=e[t],e[t]=e[r-1-t],e[r-1-t]=i;else e.reverse()},vn=function(e){for(var t=0;t<e.length;t++)e[t]=~e[t]>>>0},yn=function(e,t){return e/Math.pow(2,t)>>>0},bn=function(e,t,r){var n=e+t,i=4294967295&yn(n,32),o=(4294967295&n)>>>0,s=0!=i;return r&&(n=o+1),i=4294967295&yn(n,32),[o=(4294967295&n)>>>0,s||0!=i]},wn=function(e,t){for(var r=!0,n=0;n<e.length;n++){var i=bn(e[n],~t[n]>>>0,r);e[n]=i[0],r=i[1]}if(!r)throw"noborrow"},_n=function(e,t){for(var r=e.length;r-- >0;){var n=e[r]>>>0,i=t[r]>>>0;if(n<i)return-1;if(n>i)return 1}return 0},En=function(e,t){var r=bn(e[0],t,!1);e[0]=r[0];for(var n=r[1],i=1;n&&i<e.length;){r=bn(e[i],0,n);e[i]=r[0],n=r[1],i+=1}return i};hn={trits_to_words:function(e){if(243!=e.length)throw"Invalid trits length";var t,r=new Uint32Array(12);if(e.slice(0,242).every((function(e){return-1==e})))r=mn(dn),vn(r),En(r,1);else{for(var n=1,i=e.length-1;i-- >0;){for(var o=e[i]+1,s=n,a=0,c=0;c<s;c++){var u=3*r[c]+a;a=yn(u,32),r[c]=(4294967295&u)>>>0}a>0&&(r[s]=a,n+=1),(s=En(r,o))>n&&(n=s)}if(!function(e){for(var t=0;t<e.length;t++)if(0!=e[t])return!1;return!0}(r))if(_n(dn,r)<=0)wn(r,dn);else{var l=mn(dn);wn(l,r),vn(l),En(l,1),r=l}}gn(r);for(i=0;i<r.length;i++)r[i]=(255&(t=r[i]))<<24|(65280&t)<<8|t>>8&65280|t>>24&255;return r},words_to_trits:function(e){if(12!=e.length)throw"Invalid words length";var t=new Int8Array(243),r=new Uint32Array(e);gn(r);var n=!1;if(r[11]>>31==0)!function(e,t){for(var r=!1,n=0;n<e.length;n++){var i=bn(e[n],t[n],r);e[n]=i[0],r=i[1]}}(r,dn);else if(vn(r),_n(r,dn)>0)wn(r,dn),n=!0;else{En(r,1);var i=mn(dn);wn(i,r),r=i}for(var o=0,s=0;s<242;s++){o=0;for(var a=11;a>=0;a--){var c=(0!=o?4294967295*o+o:0)+r[a],u=c/3>>>0,l=c%3>>>0;r[a]=u,o=l}t[s]=o-1}if(n)for(s=0;s<t.length;s++)t[s]=-t[s];return t}};function xn(){this.k=pn.algo.SHA3.create(),this.k.init({outputLength:384})}xn.BIT_HASH_LENGTH=384,xn.HASH_LENGTH=sn.HASH_LENGTH,xn.prototype.initialize=function(e){},xn.prototype.reset=function(){this.k.reset()},xn.prototype.absorb=function(e,t,r){if(r&&r%243!=0)throw new Error("Illegal length provided");do{var n=r<sn.HASH_LENGTH?r:sn.HASH_LENGTH,i=e.slice(t,t+n);t+=n;var o=hn.trits_to_words(i);this.k.update(pn.lib.WordArray.create(o))}while((r-=sn.HASH_LENGTH)>0)},xn.prototype.squeeze=function(e,t,r){if(r&&r%243!=0)throw new Error("Illegal length provided");do{for(var n=this.k.clone().finalize(),i=hn.words_to_trits(n.words),o=0,s=r<sn.HASH_LENGTH?r:sn.HASH_LENGTH;o<s;)e[t++]=i[o++];for(this.reset(),o=0;o<n.words.length;o++)n.words[o]=4294967295^n.words[o];this.k.update(n)}while((r-=sn.HASH_LENGTH)>0)},fn=xn;var Sn={};function An(e,t){var r=e+t;switch(r){case 2:return-1;case-2:return 1;default:return r}}function Rn(e,t){return e===t?e:0}function In(e,t,r){var n=An(e,t),i=function(e,t){var r=e+t;return r>0?1:r<0?-1:0}(Rn(e,t),Rn(n,r));return[An(n,r),i]}function On(){this.bundle=[]}Sn=function(e,t){for(var r=new Array(Math.max(e.length,t.length)),n=0,i=0;i<r.length;i++){var o=In(i<e.length?e[i]:0,i<t.length?t[i]:0,n);r[i]=o[0],n=o[1]}return r},On.prototype.addEntry=function(e,t,r,n,i,o){for(var s=0;s<e;s++){var a=new Object;a.address=t,a.value=0==s?r:0,a.obsoleteTag=n,a.tag=n,a.timestamp=i,this.bundle[this.bundle.length]=a}},On.prototype.addTrytes=function(e){for(var t="",r="999999999999999999999999999999999999999999999999999999999999999999999999999999999",n="9".repeat(27),i="9".repeat(9),o=0;t.length<2187;o++)t+="9";for(var s=0;s<this.bundle.length;s++)this.bundle[s].signatureMessageFragment=e[s]?e[s]:t,this.bundle[s].trunkTransaction=r,this.bundle[s].branchTransaction=r,this.bundle[s].attachmentTimestamp=i,this.bundle[s].attachmentTimestampLowerBound=i,this.bundle[s].attachmentTimestampUpperBound=i,this.bundle[s].nonce=n},On.prototype.finalize=function(){for(var e=!1;!e;){var t=new fn;t.initialize();for(var r=0;r<this.bundle.length;r++){for(var n=rn.trits(this.bundle[r].value);n.length<81;)n[n.length]=0;for(var i=rn.trits(this.bundle[r].timestamp);i.length<27;)i[i.length]=0;for(var o=rn.trits(this.bundle[r].currentIndex=r);o.length<27;)o[o.length]=0;for(var s=rn.trits(this.bundle[r].lastIndex=this.bundle.length-1);s.length<27;)s[s.length]=0;var a=rn.trits(this.bundle[r].address+rn.trytes(n)+this.bundle[r].obsoleteTag+rn.trytes(i)+rn.trytes(o)+rn.trytes(s));t.absorb(a,0,a.length)}var c=[];t.squeeze(c,0,sn.HASH_LENGTH),c=rn.trytes(c);for(r=0;r<this.bundle.length;r++)this.bundle[r].bundle=c;if(-1!=this.normalizedBundle(c).indexOf(13)){var u=Sn(rn.trits(this.bundle[0].obsoleteTag),[1]);this.bundle[0].obsoleteTag=rn.trytes(u)}else e=!0}},On.prototype.normalizedBundle=function(e){for(var t=[],r=0;r<3;r++){for(var n=0,i=0;i<27;i++)n+=t[27*r+i]=rn.value(rn.trits(e.charAt(27*r+i)));if(n>=0){for(;n-- >0;)for(i=0;i<27;i++)if(t[27*r+i]>-13){t[27*r+i]--;break}}else for(;n++<0;)for(i=0;i<27;i++)if(t[27*r+i]<13){t[27*r+i]++;break}}return t},on=On;var $n,Tn={},kn={};kn={toTrytes:function(e){if("string"!=typeof e)return null;for(var t="9ABCDEFGHIJKLMNOPQRSTUVWXYZ",r="",n=0;n<e.length;n++){var i=e[n].charCodeAt(0);if(i>255)return null;var o=i%27;r+=t[o]+t[(i-o)/27]}return r},fromTrytes:function(e){if("string"!=typeof e)return null;if(e.length%2)return null;for(var t="9ABCDEFGHIJKLMNOPQRSTUVWXYZ",r="",n=0;n<e.length;n+=2){var i=e[n]+e[n+1],o=t.indexOf(i[0])+27*t.indexOf(i[1]);r+=String.fromCharCode(o)}return r}};var jn=function(e){if(!Pn(e))return!1;if(90===e.length){if(!Ln(e,90))return!1}else if(!Ln(e,81))return!1;return!0},Ln=function(e,t){t||(t="0,");var r=new RegExp("^[9A-Z]{"+t+"}$");return Pn(e)&&r.test(e)},Nn=function(e){return Number.isInteger(e)},Cn=function(e){return!!Ln(e,81)},Pn=function(e){return"string"==typeof e},Dn=function(e){return e instanceof Array};Tn={isAddress:jn,isTrytes:Ln,isNinesTrytes:function(e){return Pn(e)&&/^[9]+$/.test(e)},isSafeString:function(e){return/^[\x00-\x7F]*$/.test(e)&&kn.fromTrytes(kn.toTrytes(e))===e},isValue:Nn,isHash:Cn,isTransfersArray:function(e){if(!Dn(e))return!1;for(var t=0;t<e.length;t++){var r=e[t],n=r.address;if(!jn(n))return!1;var i=r.value;if(!Nn(i))return!1;var o=r.message;if(!Ln(o,"0,"))return!1;var s=r.tag||r.obsoleteTag;if(!Ln(s,"0,27"))return!1}return!0},isArrayOfHashes:function(e){if(!Dn(e))return!1;for(var t=0;t<e.length;t++){var r=e[t];if(90===r.length){if(!Ln(r,90))return!1}else if(!Ln(r,81))return!1}return!0},isArrayOfTrytes:function(e){if(!Dn(e))return!1;for(var t=0;t<e.length;t++){var r=e[t];if(!Ln(r,2673))return!1}return!0},isArrayOfAttachedTrytes:function(e){if(!Dn(e))return!1;for(var t=0;t<e.length;t++){var r=e[t];if(!Ln(r,2673))return!1;var n=r.slice(2430);if(/^[9]+$/.test(n))return!1}return!0},isArrayOfTxObjects:function(e){if(!Dn(e)||0===e.length)return!1;var t=!0;return e.forEach((function(e){for(var r=[{key:"hash",validator:Cn,args:null},{key:"signatureMessageFragment",validator:Ln,args:2187},{key:"address",validator:Cn,args:null},{key:"value",validator:Nn,args:null},{key:"obsoleteTag",validator:Ln,args:27},{key:"timestamp",validator:Nn,args:null},{key:"currentIndex",validator:Nn,args:null},{key:"lastIndex",validator:Nn,args:null},{key:"bundle",validator:Cn,args:null},{key:"trunkTransaction",validator:Cn,args:null},{key:"branchTransaction",validator:Cn,args:null},{key:"tag",validator:Ln,args:27},{key:"attachmentTimestamp",validator:Nn,args:null},{key:"attachmentTimestampLowerBound",validator:Nn,args:null},{key:"attachmentTimestampUpperBound",validator:Nn,args:null},{key:"nonce",validator:Ln,args:27}],n=0;n<r.length;n++){var i=r[n].key,o=r[n].validator,s=r[n].args;if(!e.hasOwnProperty(i)){t=!1;break}if(!o(e[i],s)){t=!1;break}}})),t},isInputs:function(e){if(!Dn(e))return!1;for(var t=0;t<e.length;t++){var r=e[t];if(!r.hasOwnProperty("security")||!r.hasOwnProperty("keyIndex")||!r.hasOwnProperty("address"))return!1;if(!jn(r.address))return!1;if(!Nn(r.security))return!1;if(!Nn(r.keyIndex))return!1}return!0},isString:Pn,isNum:function(e){return/^(\d+\.?\d{0,15}|\.\d{0,15})$/.test(e)},isArray:Dn,isObject:function(e){return!Array.isArray(e)&&!(null===e)&&"object"==typeof e},isUri:function(e){var t=/^(udp|tcp):\/\/([\[][^\]\.]*[\]]|[^\[\]:]*)[:]{0,1}([0-9]{1,}$|$)/i;return!!t.test(e)&&/((^\s*((([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]))\s*$)|(^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$))|(^\s*((?=.{1,255}$)(?=.*[A-Za-z].*)[0-9A-Za-z](?:(?:[0-9A-Za-z]|\b-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|\b-){0,61}[0-9A-Za-z])?)*)\s*$)/.test(/[\[]{0,1}([^\[\]]*)[\]]{0,1}/.exec(t.exec(e)[1])[1])},isTritArray:function(e,t){return(e instanceof Array||e instanceof Int8Array)&&e.every((function(e){return[-1,0,1].indexOf(e)>-1}))&&("number"!=typeof t||e.length===t)}};var Mn=D;i.register("1uIPZ",(function(t,r){var n=i("3iDrb");!function(e,t){"object"==typeof r?t(r):"function"==typeof define&&define.amd?define(["exports"],t):t(e.async=e.async||{})}(this,(function(r){"use strict";function i(e,t){t|=0;for(var r=Math.max(e.length-t,0),n=Array(r),i=0;i<r;i++)n[i]=e[t+i];return n}var o=function(e){var t=i(arguments,1);return function(){var r=i(arguments);return e.apply(null,t.concat(r))}},s=function(e){return function(){var t=i(arguments),r=t.pop();e.call(this,t,r)}};function a(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var c="function"==typeof setImmediate&&setImmediate,u="object"==typeof n&&"function"==typeof n.nextTick;function l(e){setTimeout(e,0)}function f(e){return function(t){var r=i(arguments,1);e((function(){t.apply(null,r)}))}}var h=f(c?setImmediate:u?n.nextTick:l);function p(e){return s((function(t,r){var n;try{n=e.apply(this,t)}catch(e){return r(e)}a(n)&&"function"==typeof n.then?n.then((function(e){d(r,null,e)}),(function(e){d(r,e.message?e:new Error(e))})):r(null,n)}))}function d(e,t,r){try{e(t,r)}catch(e){h(m,e)}}function m(e){throw e}var g="function"==typeof Symbol;function v(e){return g&&"AsyncFunction"===e[Symbol.toStringTag]}function y(e){return v(e)?p(e):e}function b(e){return function(t){var r=i(arguments,1),n=s((function(r,n){var i=this;return e(t,(function(e,t){y(e).apply(i,r.concat(t))}),n)}));return r.length?n.apply(this,r):n}}var w="object"==typeof e&&e&&e.Object===Object&&e,_="object"==typeof self&&self&&self.Object===Object&&self,E=w||_||Function("return this")(),x=E.Symbol,S=Object.prototype,A=S.hasOwnProperty,R=S.toString,I=x?x.toStringTag:void 0;var O=Object.prototype.toString;var $=x?x.toStringTag:void 0;function T(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":$&&$ in Object(e)?function(e){var t=A.call(e,I),r=e[I];try{e[I]=void 0;var n=!0}catch(e){}var i=R.call(e);return n&&(t?e[I]=r:delete e[I]),i}(e):function(e){return O.call(e)}(e)}function k(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function j(e){return null!=e&&k(e.length)&&!function(e){if(!a(e))return!1;var t=T(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}(e)}var L={};function N(){}function C(e){return function(){if(null!==e){var t=e;e=null,t.apply(this,arguments)}}}var P="function"==typeof Symbol&&Symbol.iterator;function D(e){return null!=e&&"object"==typeof e}function M(e){return D(e)&&"[object Arguments]"==T(e)}var B=Object.prototype,U=B.hasOwnProperty,F=B.propertyIsEnumerable,z=M(function(){return arguments}())?M:function(e){return D(e)&&U.call(e,"callee")&&!F.call(e,"callee")},H=Array.isArray;var q="object"==typeof r&&r&&!r.nodeType&&r,G=q&&t&&!t.nodeType&&t,V=G&&G.exports===q?E.Buffer:void 0,W=(V?V.isBuffer:void 0)||function(){return!1},K=/^(?:0|[1-9]\d*)$/;function X(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&K.test(e))&&e>-1&&e%1==0&&e<t}var Y={};Y["[object Float32Array]"]=Y["[object Float64Array]"]=Y["[object Int8Array]"]=Y["[object Int16Array]"]=Y["[object Int32Array]"]=Y["[object Uint8Array]"]=Y["[object Uint8ClampedArray]"]=Y["[object Uint16Array]"]=Y["[object Uint32Array]"]=!0,Y["[object Arguments]"]=Y["[object Array]"]=Y["[object ArrayBuffer]"]=Y["[object Boolean]"]=Y["[object DataView]"]=Y["[object Date]"]=Y["[object Error]"]=Y["[object Function]"]=Y["[object Map]"]=Y["[object Number]"]=Y["[object Object]"]=Y["[object RegExp]"]=Y["[object Set]"]=Y["[object String]"]=Y["[object WeakMap]"]=!1;var J,Z="object"==typeof r&&r&&!r.nodeType&&r,Q=Z&&t&&!t.nodeType&&t,ee=Q&&Q.exports===Z&&w.process,te=function(){try{var e=Q&&Q.require&&Q.require("util").types;return e||ee&&ee.binding&&ee.binding("util")}catch(e){}}(),re=te&&te.isTypedArray,ne=re?(J=re,function(e){return J(e)}):function(e){return D(e)&&k(e.length)&&!!Y[T(e)]},ie=Object.prototype.hasOwnProperty;function oe(e,t){var r=H(e),n=!r&&z(e),i=!r&&!n&&W(e),o=!r&&!n&&!i&&ne(e),s=r||n||i||o,a=s?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],c=a.length;for(var u in e)!t&&!ie.call(e,u)||s&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||X(u,c))||a.push(u);return a}var se=Object.prototype;var ae=function(e,t){return function(r){return e(t(r))}}(Object.keys,Object),ce=Object.prototype.hasOwnProperty;function ue(e){if(r=(t=e)&&t.constructor,t!==("function"==typeof r&&r.prototype||se))return ae(e);var t,r,n=[];for(var i in Object(e))ce.call(e,i)&&"constructor"!=i&&n.push(i);return n}function le(e){return j(e)?oe(e):ue(e)}function fe(e){if(j(e))return function(e){var t=-1,r=e.length;return function(){return++t<r?{value:e[t],key:t}:null}}(e);var t,r,n,i,o=function(e){return P&&e[P]&&e[P]()}(e);return o?function(e){var t=-1;return function(){var r=e.next();return r.done?null:(t++,{value:r.value,key:t})}}(o):(r=le(t=e),n=-1,i=r.length,function(){var e=r[++n];return n<i?{value:t[e],key:e}:null})}function he(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}}function pe(e){return function(t,r,n){if(n=C(n||N),e<=0||!t)return n(null);var i=fe(t),o=!1,s=0,a=!1;function c(e,t){if(s-=1,e)o=!0,n(e);else{if(t===L||o&&s<=0)return o=!0,n(null);a||u()}}function u(){for(a=!0;s<e&&!o;){var t=i();if(null===t)return o=!0,void(s<=0&&n(null));s+=1,r(t.value,t.key,he(c))}a=!1}u()}}function de(e,t,r,n){pe(t)(e,y(r),n)}function me(e,t){return function(r,n,i){return e(r,t,n,i)}}function ge(e,t,r){r=C(r||N);var n=0,i=0,o=e.length;function s(e,t){e?r(e):++i!==o&&t!==L||r(null)}for(0===o&&r(null);n<o;n++)t(e[n],n,he(s))}var ve=me(de,1/0),ye=function(e,t,r){(j(e)?ge:ve)(e,y(t),r)};function be(e){return function(t,r,n){return e(ye,t,y(r),n)}}function we(e,t,r,n){n=n||N,t=t||[];var i=[],o=0,s=y(r);e(t,(function(e,t,r){var n=o++;s(e,(function(e,t){i[n]=t,r(e)}))}),(function(e){n(e,i)}))}var _e=be(we),Ee=b(_e);function xe(e){return function(t,r,n,i){return e(pe(r),t,y(n),i)}}var Se=xe(we),Ae=me(Se,1),Re=b(Ae);function Ie(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}var Oe,$e=function(e,t,r){for(var n=-1,i=Object(e),o=r(e),s=o.length;s--;){var a=o[Oe?s:++n];if(!1===t(i[a],a,i))break}return e};function Te(e,t){return e&&$e(e,t,le)}function ke(e){return e!=e}function je(e,t,r){return t==t?function(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}(e,t,r):function(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}(e,ke,r)}var Le=function(e,t,r){"function"==typeof t&&(r=t,t=null),r=C(r||N);var n=le(e).length;if(!n)return r(null);t||(t=n);var o={},s=0,a=!1,c=Object.create(null),u=[],l=[],f={};function h(e,t){u.push((function(){!function(e,t){if(a)return;var n=he((function(t,n){if(s--,arguments.length>2&&(n=i(arguments,1)),t){var u={};Te(o,(function(e,t){u[t]=e})),u[e]=n,a=!0,c=Object.create(null),r(t,u)}else o[e]=n,d(e)}));s++;var u=y(t[t.length-1]);t.length>1?u(o,n):u(n)}(e,t)}))}function p(){if(0===u.length&&0===s)return r(null,o);for(;u.length&&s<t;){u.shift()()}}function d(e){Ie(c[e]||[],(function(e){e()})),p()}function m(t){var r=[];return Te(e,(function(e,n){H(e)&&je(e,t,0)>=0&&r.push(n)})),r}Te(e,(function(t,r){if(!H(t))return h(r,[t]),void l.push(r);var n=t.slice(0,t.length-1),i=n.length;if(0===i)return h(r,t),void l.push(r);f[r]=i,Ie(n,(function(o){if(!e[o])throw new Error("async.auto task `"+r+"` has a non-existent dependency `"+o+"` in "+n.join(", "));!function(e,t){var r=c[e];r||(r=c[e]=[]);r.push(t)}(o,(function(){0===--i&&h(r,t)}))}))})),function(){var e,t=0;for(;l.length;)e=l.pop(),t++,Ie(m(e),(function(e){0==--f[e]&&l.push(e)}));if(t!==n)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),p()};function Ne(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var Ce=x?x.prototype:void 0,Pe=Ce?Ce.toString:void 0;function De(e){if("string"==typeof e)return e;if(H(e))return Ne(e,De)+"";if(function(e){return"symbol"==typeof e||D(e)&&"[object Symbol]"==T(e)}(e))return Pe?Pe.call(e):"";var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}function Me(e,t,r){var n=e.length;return r=void 0===r?n:r,!t&&r>=n?e:function(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(i);++n<i;)o[n]=e[n+t];return o}(e,t,r)}var Be=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var Ue="[\\ud800-\\udfff]",Fe="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",ze="\\ud83c[\\udffb-\\udfff]",He="[^\\ud800-\\udfff]",qe="(?:\\ud83c[\\udde6-\\uddff]){2}",Ge="[\\ud800-\\udbff][\\udc00-\\udfff]",Ve="(?:"+Fe+"|"+ze+")"+"?",We="[\\ufe0e\\ufe0f]?",Ke=We+Ve+("(?:\\u200d(?:"+[He,qe,Ge].join("|")+")"+We+Ve+")*"),Xe="(?:"+[He+Fe+"?",Fe,qe,Ge,Ue].join("|")+")",Ye=RegExp(ze+"(?="+ze+")|"+Xe+Ke,"g");function Je(e){return function(e){return Be.test(e)}(e)?function(e){return e.match(Ye)||[]}(e):function(e){return e.split("")}(e)}var Ze=/^\s+|\s+$/g;function Qe(e,t,r){var n;if((e=null==(n=e)?"":De(n))&&(r||void 0===t))return e.replace(Ze,"");if(!e||!(t=De(t)))return e;var i=Je(e),o=Je(t);return Me(i,function(e,t){for(var r=-1,n=e.length;++r<n&&je(t,e[r],0)>-1;);return r}(i,o),function(e,t){for(var r=e.length;r--&&je(t,e[r],0)>-1;);return r}(i,o)+1).join("")}var et=/^(?:async\s+)?(function)?\s*[^\(]*\(\s*([^\)]*)\)/m,tt=/,/,rt=/(=.+)?(\s*)$/,nt=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;function it(e,t){var r={};Te(e,(function(e,t){var n,i=v(e),o=!i&&1===e.length||i&&0===e.length;if(H(e))n=e.slice(0,-1),e=e[e.length-1],r[t]=n.concat(n.length>0?s:e);else if(o)r[t]=e;else{if(n=function(e){return(e=(e=(e=e.toString().replace(nt,"")).match(et)[2].replace(" ",""))?e.split(tt):[]).map((function(e){return Qe(e.replace(rt,""))}))}(e),0===e.length&&!i&&0===n.length)throw new Error("autoInject task functions require explicit parameters.");i||n.pop(),r[t]=n.concat(s)}function s(t,r){var i=Ne(n,(function(e){return t[e]}));i.push(r),y(e).apply(null,i)}})),Le(r,t)}function ot(){this.head=this.tail=null,this.length=0}function st(e,t){e.length=1,e.head=e.tail=t}function at(e,t,r){if(null==t)t=1;else if(0===t)throw new Error("Concurrency must not be zero");var n=y(e),i=0,o=[],s=!1;function a(e,t,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");if(l.started=!0,H(e)||(e=[e]),0===e.length&&l.idle())return h((function(){l.drain()}));for(var n=0,i=e.length;n<i;n++){var o={data:e[n],callback:r||N};t?l._tasks.unshift(o):l._tasks.push(o)}s||(s=!0,h((function(){s=!1,l.process()})))}function c(e){return function(t){i-=1;for(var r=0,n=e.length;r<n;r++){var s=e[r],a=je(o,s,0);0===a?o.shift():a>0&&o.splice(a,1),s.callback.apply(s,arguments),null!=t&&l.error(t,s.data)}i<=l.concurrency-l.buffer&&l.unsaturated(),l.idle()&&l.drain(),l.process()}}var u=!1,l={_tasks:new ot,concurrency:t,payload:r,saturated:N,unsaturated:N,buffer:t/4,empty:N,drain:N,error:N,started:!1,paused:!1,push:function(e,t){a(e,!1,t)},kill:function(){l.drain=N,l._tasks.empty()},unshift:function(e,t){a(e,!0,t)},remove:function(e){l._tasks.remove(e)},process:function(){if(!u){for(u=!0;!l.paused&&i<l.concurrency&&l._tasks.length;){var e=[],t=[],r=l._tasks.length;l.payload&&(r=Math.min(r,l.payload));for(var s=0;s<r;s++){var a=l._tasks.shift();e.push(a),o.push(a),t.push(a.data)}i+=1,0===l._tasks.length&&l.empty(),i===l.concurrency&&l.saturated();var f=he(c(e));n(t,f)}u=!1}},length:function(){return l._tasks.length},running:function(){return i},workersList:function(){return o},idle:function(){return l._tasks.length+i===0},pause:function(){l.paused=!0},resume:function(){!1!==l.paused&&(l.paused=!1,h(l.process))}};return l}function ct(e,t){return at(e,1,t)}ot.prototype.removeLink=function(e){return e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,e.prev=e.next=null,this.length-=1,e},ot.prototype.empty=function(){for(;this.head;)this.shift();return this},ot.prototype.insertAfter=function(e,t){t.prev=e,t.next=e.next,e.next?e.next.prev=t:this.tail=t,e.next=t,this.length+=1},ot.prototype.insertBefore=function(e,t){t.prev=e.prev,t.next=e,e.prev?e.prev.next=t:this.head=t,e.prev=t,this.length+=1},ot.prototype.unshift=function(e){this.head?this.insertBefore(this.head,e):st(this,e)},ot.prototype.push=function(e){this.tail?this.insertAfter(this.tail,e):st(this,e)},ot.prototype.shift=function(){return this.head&&this.removeLink(this.head)},ot.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)},ot.prototype.toArray=function(){for(var e=Array(this.length),t=this.head,r=0;r<this.length;r++)e[r]=t.data,t=t.next;return e},ot.prototype.remove=function(e){for(var t=this.head;t;){var r=t.next;e(t)&&this.removeLink(t),t=r}return this};var ut=me(de,1);function lt(e,t,r,n){n=C(n||N);var i=y(r);ut(e,(function(e,r,n){i(t,e,(function(e,r){t=r,n(e)}))}),(function(e){n(e,t)}))}function ft(){var e=Ne(arguments,y);return function(){var t=i(arguments),r=this,n=t[t.length-1];"function"==typeof n?t.pop():n=N,lt(e,t,(function(e,t,n){t.apply(r,e.concat((function(e){var t=i(arguments,1);n(e,t)})))}),(function(e,t){n.apply(r,[e].concat(t))}))}}var ht=function(){return ft.apply(null,i(arguments).reverse())},pt=Array.prototype.concat,dt=function(e,t,r,n){n=n||N;var o=y(r);Se(e,t,(function(e,t){o(e,(function(e){return e?t(e):t(null,i(arguments,1))}))}),(function(e,t){for(var r=[],i=0;i<t.length;i++)t[i]&&(r=pt.apply(r,t[i]));return n(e,r)}))},mt=me(dt,1/0),gt=me(dt,1),vt=function(){var e=i(arguments),t=[null].concat(e);return function(){var e=arguments[arguments.length-1];return e.apply(this,t)}};function yt(e){return e}function bt(e,t){return function(r,n,i,o){o=o||N;var s,a=!1;r(n,(function(r,n,o){i(r,(function(n,i){n?o(n):e(i)&&!s?(a=!0,s=t(!0,r),o(null,L)):o()}))}),(function(e){e?o(e):o(null,a?s:t(!1))}))}}function wt(e,t){return t}var _t=be(bt(yt,wt)),Et=xe(bt(yt,wt)),xt=me(Et,1);function St(e){return function(t){var r=i(arguments,1);r.push((function(t){var r=i(arguments,1);"object"==typeof console&&(t?console.error&&console.error(t):console[e]&&Ie(r,(function(t){console[e](t)})))})),y(t).apply(null,r)}}var At=St("dir");function Rt(e,t,r){r=he(r||N);var n=y(e),o=y(t);function s(e){if(e)return r(e);var t=i(arguments,1);t.push(a),o.apply(this,t)}function a(e,t){return e?r(e):t?void n(s):r(null)}a(null,!0)}function It(e,t,r){r=he(r||N);var n=y(e),o=function(e){if(e)return r(e);var s=i(arguments,1);if(t.apply(this,s))return n(o);r.apply(null,[null].concat(s))};n(o)}function Ot(e,t,r){It(e,(function(){return!t.apply(this,arguments)}),r)}function $t(e,t,r){r=he(r||N);var n=y(t),i=y(e);function o(e){if(e)return r(e);i(s)}function s(e,t){return e?r(e):t?void n(o):r(null)}i(s)}function Tt(e){return function(t,r,n){return e(t,n)}}function kt(e,t,r){ye(e,Tt(y(t)),r)}function jt(e,t,r,n){pe(t)(e,Tt(y(r)),n)}var Lt=me(jt,1);function Nt(e){return v(e)?e:s((function(t,r){var n=!0;t.push((function(){var e=arguments;n?h((function(){r.apply(null,e)})):r.apply(null,e)})),e.apply(this,t),n=!1}))}function Ct(e){return!e}var Pt=be(bt(Ct,Ct)),Dt=xe(bt(Ct,Ct)),Mt=me(Dt,1);function Bt(e){return function(t){return null==t?void 0:t[e]}}function Ut(e,t,r,n){var i=new Array(t.length);e(t,(function(e,t,n){r(e,(function(e,r){i[t]=!!r,n(e)}))}),(function(e){if(e)return n(e);for(var r=[],o=0;o<t.length;o++)i[o]&&r.push(t[o]);n(null,r)}))}function Ft(e,t,r,n){var i=[];e(t,(function(e,t,n){r(e,(function(r,o){r?n(r):(o&&i.push({index:t,value:e}),n())}))}),(function(e){e?n(e):n(null,Ne(i.sort((function(e,t){return e.index-t.index})),Bt("value")))}))}function zt(e,t,r,n){(j(t)?Ut:Ft)(e,t,y(r),n||N)}var Ht=be(zt),qt=xe(zt),Gt=me(qt,1);function Vt(e,t){var r=he(t||N),n=y(Nt(e));!function e(t){if(t)return r(t);n(e)}()}var Wt=function(e,t,r,n){n=n||N;var i=y(r);Se(e,t,(function(e,t){i(e,(function(r,n){return r?t(r):t(null,{key:n,val:e})}))}),(function(e,t){for(var r={},i=Object.prototype.hasOwnProperty,o=0;o<t.length;o++)if(t[o]){var s=t[o].key,a=t[o].val;i.call(r,s)?r[s].push(a):r[s]=[a]}return n(e,r)}))},Kt=me(Wt,1/0),Xt=me(Wt,1),Yt=St("log");function Jt(e,t,r,n){n=C(n||N);var i={},o=y(r);de(e,t,(function(e,t,r){o(e,t,(function(e,n){if(e)return r(e);i[t]=n,r()}))}),(function(e){n(e,i)}))}var Zt=me(Jt,1/0),Qt=me(Jt,1);function er(e,t){return t in e}function tr(e,t){var r=Object.create(null),n=Object.create(null);t=t||yt;var o=y(e),a=s((function(e,s){var a=t.apply(null,e);er(r,a)?h((function(){s.apply(null,r[a])})):er(n,a)?n[a].push(s):(n[a]=[s],o.apply(null,e.concat((function(){var e=i(arguments);r[a]=e;var t=n[a];delete n[a];for(var o=0,s=t.length;o<s;o++)t[o].apply(null,e)}))))}));return a.memo=r,a.unmemoized=e,a}var rr=f(u?n.nextTick:c?setImmediate:l);function nr(e,t,r){r=r||N;var n=j(t)?[]:{};e(t,(function(e,t,r){y(e)((function(e,o){arguments.length>2&&(o=i(arguments,1)),n[t]=o,r(e)}))}),(function(e){r(e,n)}))}function ir(e,t){nr(ye,e,t)}function or(e,t,r){nr(pe(t),e,r)}var sr=function(e,t){var r=y(e);return at((function(e,t){r(e[0],t)}),t,1)},ar=function(e,t){var r=sr(e,t);return r.push=function(e,t,n){if(null==n&&(n=N),"function"!=typeof n)throw new Error("task callback must be a function");if(r.started=!0,H(e)||(e=[e]),0===e.length)return h((function(){r.drain()}));t=t||0;for(var i=r._tasks.head;i&&t>=i.priority;)i=i.next;for(var o=0,s=e.length;o<s;o++){var a={data:e[o],priority:t,callback:n};i?r._tasks.insertBefore(i,a):r._tasks.push(a)}h(r.process)},delete r.unshift,r};function cr(e,t){if(t=C(t||N),!H(e))return t(new TypeError("First argument to race must be an array of functions"));if(!e.length)return t();for(var r=0,n=e.length;r<n;r++)y(e[r])(t)}function ur(e,t,r,n){lt(i(e).reverse(),t,r,n)}function lr(e){var t=y(e);return s((function(e,r){return e.push((function(e,t){var n;e?r(null,{error:e}):(n=arguments.length<=2?t:i(arguments,1),r(null,{value:n}))})),t.apply(this,e)}))}function fr(e){var t;return H(e)?t=Ne(e,lr):(t={},Te(e,(function(e,r){t[r]=lr.call(this,e)}))),t}function hr(e,t,r,n){zt(e,t,(function(e,t){r(e,(function(e,r){t(e,!r)}))}),n)}var pr=be(hr),dr=xe(hr),mr=me(dr,1);function gr(e){return function(){return e}}function vr(e,t,r){var n=5,i=0,o={times:n,intervalFunc:gr(i)};function s(e,t){if("object"==typeof t)e.times=+t.times||n,e.intervalFunc="function"==typeof t.interval?t.interval:gr(+t.interval||i),e.errorFilter=t.errorFilter;else{if("number"!=typeof t&&"string"!=typeof t)throw new Error("Invalid arguments for async.retry");e.times=+t||n}}if(arguments.length<3&&"function"==typeof e?(r=t||N,t=e):(s(o,e),r=r||N),"function"!=typeof t)throw new Error("Invalid arguments for async.retry");var a=y(t),c=1;function u(){a((function(e){e&&c++<o.times&&("function"!=typeof o.errorFilter||o.errorFilter(e))?setTimeout(u,o.intervalFunc(c)):r.apply(null,arguments)}))}u()}var yr=function(e,t){t||(t=e,e=null);var r=y(t);return s((function(t,n){function i(e){r.apply(null,t.concat(e))}e?vr(e,i,n):vr(i,n)}))};function br(e,t){nr(ut,e,t)}var wr=be(bt(Boolean,yt)),_r=xe(bt(Boolean,yt)),Er=me(_r,1);function xr(e,t,r){var n=y(t);function i(e,t){var r=e.criteria,n=t.criteria;return r<n?-1:r>n?1:0}_e(e,(function(e,t){n(e,(function(r,n){if(r)return t(r);t(null,{value:e,criteria:n})}))}),(function(e,t){if(e)return r(e);r(null,Ne(t.sort(i),Bt("value")))}))}function Sr(e,t,r){var n=y(e);return s((function(i,o){var s,a=!1;i.push((function(){a||(o.apply(null,arguments),clearTimeout(s))})),s=setTimeout((function(){var t=e.name||"anonymous",n=new Error('Callback function "'+t+'" timed out.');n.code="ETIMEDOUT",r&&(n.info=r),a=!0,o(n)}),t),n.apply(null,i)}))}var Ar=Math.ceil,Rr=Math.max;function Ir(e,t,r,n){var i=y(r);Se(function(e,t,r,n){for(var i=-1,o=Rr(Ar((t-e)/(r||1)),0),s=Array(o);o--;)s[n?o:++i]=e,e+=r;return s}(0,e,1),t,i,n)}var Or=me(Ir,1/0),$r=me(Ir,1);function Tr(e,t,r,n){arguments.length<=3&&(n=r,r=t,t=H(e)?[]:{}),n=C(n||N);var i=y(r);ye(e,(function(e,r,n){i(t,e,r,n)}),(function(e){n(e,t)}))}function kr(e,t){var r,n=null;t=t||N,Lt(e,(function(e,t){y(e)((function(e,o){r=arguments.length>2?i(arguments,1):o,n=e,t(!e)}))}),(function(){t(n,r)}))}function jr(e){return function(){return(e.unmemoized||e).apply(null,arguments)}}function Lr(e,t,r){r=he(r||N);var n=y(t);if(!e())return r(null);var o=function(t){if(t)return r(t);if(e())return n(o);var s=i(arguments,1);r.apply(null,[null].concat(s))};n(o)}function Nr(e,t,r){Lr((function(){return!e.apply(this,arguments)}),t,r)}var Cr=function(e,t){if(t=C(t||N),!H(e))return t(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return t();var r=0;function n(t){var n=y(e[r++]);t.push(he(o)),n.apply(null,t)}function o(o){if(o||r===e.length)return t.apply(null,arguments);n(i(arguments,1))}n([])},Pr={apply:o,applyEach:Ee,applyEachSeries:Re,asyncify:p,auto:Le,autoInject:it,cargo:ct,compose:ht,concat:mt,concatLimit:dt,concatSeries:gt,constant:vt,detect:_t,detectLimit:Et,detectSeries:xt,dir:At,doDuring:Rt,doUntil:Ot,doWhilst:It,during:$t,each:kt,eachLimit:jt,eachOf:ye,eachOfLimit:de,eachOfSeries:ut,eachSeries:Lt,ensureAsync:Nt,every:Pt,everyLimit:Dt,everySeries:Mt,filter:Ht,filterLimit:qt,filterSeries:Gt,forever:Vt,groupBy:Kt,groupByLimit:Wt,groupBySeries:Xt,log:Yt,map:_e,mapLimit:Se,mapSeries:Ae,mapValues:Zt,mapValuesLimit:Jt,mapValuesSeries:Qt,memoize:tr,nextTick:rr,parallel:ir,parallelLimit:or,priorityQueue:ar,queue:sr,race:cr,reduce:lt,reduceRight:ur,reflect:lr,reflectAll:fr,reject:pr,rejectLimit:dr,rejectSeries:mr,retry:vr,retryable:yr,seq:ft,series:br,setImmediate:h,some:wr,someLimit:_r,someSeries:Er,sortBy:xr,timeout:Sr,times:Or,timesLimit:Ir,timesSeries:$r,transform:Tr,tryEach:kr,unmemoize:jr,until:Nr,waterfall:Cr,whilst:Lr,all:Pt,allLimit:Dt,allSeries:Mt,any:wr,anyLimit:_r,anySeries:Er,find:_t,findLimit:Et,findSeries:xt,forEach:kt,forEachSeries:Lt,forEachLimit:jt,forEachOf:ye,forEachOfSeries:ut,forEachOfLimit:de,inject:lt,foldl:lt,foldr:ur,select:Ht,selectLimit:qt,selectSeries:Gt,wrapSync:p};r.default=Pr,r.apply=o,r.applyEach=Ee,r.applyEachSeries=Re,r.asyncify=p,r.auto=Le,r.autoInject=it,r.cargo=ct,r.compose=ht,r.concat=mt,r.concatLimit=dt,r.concatSeries=gt,r.constant=vt,r.detect=_t,r.detectLimit=Et,r.detectSeries=xt,r.dir=At,r.doDuring=Rt,r.doUntil=Ot,r.doWhilst=It,r.during=$t,r.each=kt,r.eachLimit=jt,r.eachOf=ye,r.eachOfLimit=de,r.eachOfSeries=ut,r.eachSeries=Lt,r.ensureAsync=Nt,r.every=Pt,r.everyLimit=Dt,r.everySeries=Mt,r.filter=Ht,r.filterLimit=qt,r.filterSeries=Gt,r.forever=Vt,r.groupBy=Kt,r.groupByLimit=Wt,r.groupBySeries=Xt,r.log=Yt,r.map=_e,r.mapLimit=Se,r.mapSeries=Ae,r.mapValues=Zt,r.mapValuesLimit=Jt,r.mapValuesSeries=Qt,r.memoize=tr,r.nextTick=rr,r.parallel=ir,r.parallelLimit=or,r.priorityQueue=ar,r.queue=sr,r.race=cr,r.reduce=lt,r.reduceRight=ur,r.reflect=lr,r.reflectAll=fr,r.reject=pr,r.rejectLimit=dr,r.rejectSeries=mr,r.retry=vr,r.retryable=yr,r.seq=ft,r.series=br,r.setImmediate=h,r.some=wr,r.someLimit=_r,r.someSeries=Er,r.sortBy=xr,r.timeout=Sr,r.times=Or,r.timesLimit=Ir,r.timesSeries=$r,r.transform=Tr,r.tryEach=kr,r.unmemoize=jr,r.until=Nr,r.waterfall=Cr,r.whilst=Lr,r.all=Pt,r.allLimit=Dt,r.allSeries=Mt,r.any=wr,r.anyLimit=_r,r.anySeries=Er,r.find=_t,r.findLimit=Et,r.findSeries=xt,r.forEach=kt,r.forEachSeries=Lt,r.forEachLimit=jt,r.forEachOf=ye,r.forEachOfSeries=ut,r.forEachOfLimit=de,r.inject=lt,r.foldl=lt,r.foldr=ur,r.select=Ht,r.selectLimit=qt,r.selectSeries=Gt,r.wrapSync=p,Object.defineProperty(r,"__esModule",{value:!0})}))}));var Bn,Un=i("1uIPZ");function Fn(){if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;pretendingNotToRequire=void 0;return new(0,pretendingNotToRequire("xmlhttprequest").XMLHttpRequest)}function zn(e,t,r){this.provider=e||"http://localhost:14265",this.tokenOrUsername=t,this.password=r||!1,this.timeout=-1}Bn={invalidResponse:function(e){return new Error("Invalid Response: "+e)},noConnection:function(e){return new Error("No connection to host: "+e)},requestError:function(e){return new Error("Request Error: "+e)}},zn.prototype.setApiTimeout=function(e){this.timeout=e},zn.prototype.setProvider=function(e){this.provider=e||"http://localhost:14265"},zn.prototype.open=function(){var e=Fn();return e.open("POST",this.provider,!0),e.setRequestHeader("Content-Type","application/json"),e.setRequestHeader("X-IOTA-API-Version","1"),this.password?e.setRequestHeader("Authorization","Basic "+Mn.from(this.tokenOrUsername+":"+this.password).toString("base64")):this.tokenOrUsername&&e.setRequestHeader("Authorization","token "+this.tokenOrUsername),e},zn.prototype.send=function(e,t){var r,n=this,i=this.open(),o=this.timeout,s=!1,a=!1,c=JSON.stringify({error:"Request timed out."});o>0&&(void 0===i.timeout?r=setTimeout((function(){4!==i.readyState&&(a=!0,i.abort())}),o):i.timeout=o),i.onreadystatechange=function(){if(4===i.readyState){if(s)return;if(!a)return r&&clearTimeout(r),n.prepareResult(i.responseText.length?i.responseText:c,e.command,t);s=!0,n.prepareResult(c,e.command,t)}};try{i.send(JSON.stringify(e))}catch(e){return t(Bn.invalidResponse(e))}},zn.prototype.batchedSend=function(e,t,r,n){var i=this,o=[];t.forEach((function(n){for(var i=e[n].slice();i.length;){var s=i.splice(0,r),a={};Object.keys(e).forEach((function(r){r!==n&&-1!==t.indexOf(r)||(a[r]=r===n?s:e[r])})),o.push(a)}})),Un.mapSeries(o,(function(e,t){i.send(e,(function(e,r){if(e)return t(e);t(null,r)}))}),(function(r,i){if(r)return n(r);switch(e.command){case"getBalances":var s=i.reduce((function(e,t){return e.concat(t.balances)}),[]);(i=i.sort((function(e,t){return e.milestoneIndex-t.milestoneIndex})).shift()).balances=s,n(null,i);break;case"findTransactions":var a=new Set;if(1===t.length)return n(null,i.reduce((function(e,t){return e.concat(t)}),[]).filter((function(e){return!a.has(e)&&(a.add(e),!0)})));var c={bundles:"bundle",addresses:"address",hashes:"hash",tags:"tag"};n(null,i.map((function(e){return e.filter((function(e){return t.every((function(t){return o.some((function(r){return r.hasOwnProperty(t)&&-1!==r[t].findIndex((function(r){return r===e[c[t]]}))}))}))}))})).reduce((function(e,t){return e.concat(t)}),[]).filter((function(e){return!a.has(e.hash)&&(a.add(e.hash),!0)})));break;default:n(null,i.reduce((function(e,t){return e.concat(t)}),[]))}}))},zn.prototype.sandboxSend=function(e,t){var r=setInterval((function(){var n=Fn();n.onreadystatechange=function(){if(4===n.readyState){var e;try{e=JSON.parse(n.responseText)}catch(e){return t(Bn.invalidResponse(e))}if("FINISHED"===e.status){var i=e.attachToTangleResponse.trytes;return clearInterval(r),t(null,i)}if("FAILED"===e.status)return clearInterval(r),t(new Error("Sandbox transaction processing failed. Please retry."))}};try{n.open("GET",e,!0),n.send(JSON.stringify())}catch(r){return t(new Error("No connection to Sandbox, failed with job: ",e))}}),5e3)},zn.prototype.prepareResult=function(e,t,r){var n,i={getNeighbors:"neighbors",addNeighbors:"addedNeighbors",removeNeighbors:"removedNeighbors",getTips:"hashes",findTransactions:"hashes",getTrytes:"trytes",getInclusionStates:"states",attachToTangle:"trytes",wereAddressesSpentFrom:"states"};try{e=JSON.parse(e)}catch(t){n=Bn.invalidResponse(e),e=null}return!n&&e.error&&(n=Bn.requestError(e.error),e=null),!n&&e.exception&&(n=Bn.requestError(e.exception),e=null),e&&i.hasOwnProperty(t)&&("attachToTangle"===t&&e.hasOwnProperty("id")||(e=e[i[t]])),r(n,e)};var Hn={},qn=function(e,t){var r=[],n=new sn;n.initialize();for(var i=0;i<27;i++){r=t.slice(243*i,243*(i+1));for(var o=e[i]+13;o-- >0;){var s=new sn;s.initialize(),s.absorb(r,0,r.length),s.squeeze(r,0,sn.HASH_LENGTH)}n.absorb(r,0,r.length)}return n.squeeze(r,0,sn.HASH_LENGTH),r};var Gn;Gn={invalidAddress:function(){return new Error("Invalid address provided")},invalidTrytes:function(){return new Error("Invalid Trytes provided")},invalidSeed:function(){return new Error("Invalid Seed provided")},invalidIndex:function(){return new Error("Invalid Index option provided")},invalidSecurity:function(){return new Error("Invalid Security option provided")},invalidChecksum:function(e){return new Error("Invalid Checksum supplied for address: "+e)},invalidAttachedTrytes:function(){return new Error("Invalid attached Trytes provided")},invalidTransfers:function(){return new Error("Invalid transfers object")},invalidKey:function(){return new Error("You have provided an invalid key value")},invalidTrunkOrBranch:function(e){return new Error("You have provided an invalid hash as a trunk/branch: "+e)},invalidUri:function(e){return new Error("You have provided an invalid URI for your Neighbor: "+e)},notInt:function(){return new Error("One of your inputs is not an integer")},invalidInputs:function(){return new Error("Invalid inputs provided")},inconsistentSubtangle:function(e){return new Error("Inconsistent subtangle: "+e)},invalidBundleHash:function(){return new Error("Missing bundle hash")}};var Vn=function(e,t){var r=[],n=new fn;n.initialize();for(var i=0;i<27;i++){r=t.slice(243*i,243*(i+1));for(var o=e[i]+13;o-- >0;){var s=new fn;s.initialize(),s.absorb(r,0,r.length),s.squeeze(r,0,sn.HASH_LENGTH)}n.absorb(r,0,r.length)}return n.squeeze(r,0,sn.HASH_LENGTH),r};Hn={key:function(e,t,r){for(;e.length%243!=0;)e.push(0);var n=rn.fromValue(t),i=Sn(e.slice(),n),o=new fn;o.initialize(),o.absorb(i,0,i.length),o.squeeze(i,0,i.length),o.reset(),o.absorb(i,0,i.length);for(var s=[],a=0,c=[];r-- >0;)for(var u=0;u<27;u++){o.squeeze(c,0,i.length);for(var l=0;l<243;l++)s[a++]=c[l]}return s},digests:function(e){for(var t=[],r=[],n=0;n<Math.floor(e.length/6561);n++){for(var i=e.slice(6561*n,6561*(n+1)),o=0;o<27;o++){r=i.slice(243*o,243*(o+1));for(var s=0;s<26;s++){var a=new fn;a.initialize(),a.absorb(r,0,r.length),a.squeeze(r,0,sn.HASH_LENGTH)}for(s=0;s<243;s++)i[243*o+s]=r[s]}var c=new fn;c.initialize(),c.absorb(i,0,i.length),c.squeeze(r,0,sn.HASH_LENGTH);for(o=0;o<243;o++)t[243*n+o]=r[o]}return t},address:function(e){var t=[],r=new fn;return r.initialize(),r.absorb(e,0,e.length),r.squeeze(t,0,sn.HASH_LENGTH),t},digest:Vn,signatureFragment:function(e,t){for(var r=t.slice(),n=[],i=new fn,o=0;o<27;o++){n=r.slice(243*o,243*(o+1));for(var s=0;s<13-e[o];s++)i.initialize(),i.reset(),i.absorb(n,0,n.length),i.squeeze(n,0,sn.HASH_LENGTH);for(s=0;s<243;s++)r[243*o+s]=n[s]}return r},validateSignatures:function(e,t,r){if(!r)throw Gn.invalidBundleHash();for(var n=[],i=(new on).normalizedBundle(r),o=0;o<3;o++)n[o]=i.slice(27*o,27*(o+1));var s=[];for(o=0;o<t.length;o++)for(var a=Vn(n[o%3],rn.trits(t[o])),c=0;c<243;c++)s[243*o+c]=a[c];return e===rn.trytes(this.address(s))}},i("luoq9");var Wn;Wn=function(e){if(!Tn.isArray(e)||void 0===e[0])return null;if("OD"!==e[0].signatureMessageFragment[0]+e[0].signatureMessageFragment[1])return null;for(var t=0,r=!0,n="",i=0,o=!1,s="";t<e.length&&r;){for(var a=e[t].signatureMessageFragment,c=0;c<a.length;c+=9){for(var u=(n+=a.slice(c,c+9)).length-n.length%2,l=n.slice(i,u),f=0;f<l.length;f+=2){var h=l[f]+l[f+1];if(o&&"99"===h){r=!1;break}s+=kn.fromTrytes(h),"QD"===h&&(o=!0)}if(!r)break;i+=l.length}t+=1}return r?null:s};var Kn={};!function(e){var t,r=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,n=Math.ceil,i=Math.floor,o=" not a boolean or binary digit",s="rounding mode",a="number type has more than 15 significant digits",c="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",u=1e14,l=14,f=9007199254740991,h=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],p=1e7,d=1e9;function m(e){var t=0|e;return e>0||e===t?t:t-1}function g(e){for(var t,r,n=1,i=e.length,o=e[0]+"";n<i;){for(t=e[n++]+"",r=l-t.length;r--;t="0"+t);o+=t}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function v(e,t){var r,n,i=e.c,o=t.c,s=e.s,a=t.s,c=e.e,u=t.e;if(!s||!a)return null;if(r=i&&!i[0],n=o&&!o[0],r||n)return r?n?0:-a:s;if(s!=a)return s;if(r=s<0,n=c==u,!i||!o)return n?0:!i^r?1:-1;if(!n)return c>u^r?1:-1;for(a=(c=i.length)<(u=o.length)?c:u,s=0;s<a;s++)if(i[s]!=o[s])return i[s]>o[s]^r?1:-1;return c==u?0:c>u^r?1:-1}function y(e,t,r){return(e=x(e))>=t&&e<=r}function b(e){return"[object Array]"==Object.prototype.toString.call(e)}function w(e,t,r){for(var n,i,o=[0],s=0,a=e.length;s<a;){for(i=o.length;i--;o[i]*=t);for(o[n=0]+=c.indexOf(e.charAt(s++));n<o.length;n++)o[n]>r-1&&(null==o[n+1]&&(o[n+1]=0),o[n+1]+=o[n]/r|0,o[n]%=r)}return o.reverse()}function _(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function E(e,t){var r,n;if(t<0){for(n="0.";++t;n+="0");e=n+e}else if(++t>(r=e.length)){for(n="0",t-=r;--t;n+="0");e+=n}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}function x(e){return(e=parseFloat(e))<0?n(e):i(e)}(t=function e(t){var S,A,R,I,O,$,T,k,j,L=0,N=K.prototype,C=new K(1),P=20,D=4,M=-7,B=21,U=-1e7,F=1e7,z=!0,H=Z,q=!1,G=1,V=0,W={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:"",fractionGroupSize:0};function K(e,t){var n,o,s,u,h,p,d=this;if(!(d instanceof K))return z&&ee(26,"constructor call without new",e),new K(e,t);if(null!=t&&H(t,2,64,L,"base")){if(p=e+"",10==(t|=0))return te(d=new K(e instanceof K?e:p),P+d.e+1,D);if((u="number"==typeof e)&&0*e!=0||!new RegExp("^-?"+(n="["+c.slice(0,t)+"]+")+"(?:\\."+n+")?$",t<37?"i":"").test(p))return A(d,p,u,t);u?(d.s=1/e<0?(p=p.slice(1),-1):1,z&&p.replace(/^0\.0*|\./,"").length>15&&ee(L,a,e),u=!1):d.s=45===p.charCodeAt(0)?(p=p.slice(1),-1):1,p=X(p,10,t,d.s)}else{if(e instanceof K)return d.s=e.s,d.e=e.e,d.c=(e=e.c)?e.slice():e,void(L=0);if((u="number"==typeof e)&&0*e==0){if(d.s=1/e<0?(e=-e,-1):1,e===~~e){for(o=0,s=e;s>=10;s/=10,o++);return d.e=o,d.c=[e],void(L=0)}p=e+""}else{if(!r.test(p=e+""))return A(d,p,u);d.s=45===p.charCodeAt(0)?(p=p.slice(1),-1):1}}for((o=p.indexOf("."))>-1&&(p=p.replace(".","")),(s=p.search(/e/i))>0?(o<0&&(o=s),o+=+p.slice(s+1),p=p.substring(0,s)):o<0&&(o=p.length),s=0;48===p.charCodeAt(s);s++);for(h=p.length;48===p.charCodeAt(--h););if(p=p.slice(s,h+1))if(h=p.length,u&&z&&h>15&&(e>f||e!==i(e))&&ee(L,a,d.s*e),(o=o-s-1)>F)d.c=d.e=null;else if(o<U)d.c=[d.e=0];else{if(d.e=o,d.c=[],s=(o+1)%l,o<0&&(s+=l),s<h){for(s&&d.c.push(+p.slice(0,s)),h-=l;s<h;)d.c.push(+p.slice(s,s+=l));p=p.slice(s),s=l-p.length}else s-=h;for(;s--;p+="0");d.c.push(+p)}else d.c=[d.e=0];L=0}function X(e,t,r,n){var i,o,s,a,u,l,f,h=e.indexOf("."),p=P,d=D;for(r<37&&(e=e.toLowerCase()),h>=0&&(s=V,V=0,e=e.replace(".",""),u=(f=new K(r)).pow(e.length-h),V=s,f.c=w(E(g(u.c),u.e),10,t),f.e=f.c.length),o=s=(l=w(e,r,t)).length;0==l[--s];l.pop());if(!l[0])return"0";if(h<0?--o:(u.c=l,u.e=o,u.s=n,l=(u=S(u,f,p,d,t)).c,a=u.r,o=u.e),h=l[i=o+p+1],s=t/2,a=a||i<0||null!=l[i+1],a=d<4?(null!=h||a)&&(0==d||d==(u.s<0?3:2)):h>s||h==s&&(4==d||a||6==d&&1&l[i-1]||d==(u.s<0?8:7)),i<1||!l[0])e=a?E("1",-p):"0";else{if(l.length=i,a)for(--t;++l[--i]>t;)l[i]=0,i||(++o,l=[1].concat(l));for(s=l.length;!l[--s];);for(h=0,e="";h<=s;e+=c.charAt(l[h++]));e=E(e,o)}return e}function Y(e,t,r,n){var i,o,a,c,u;if(r=null!=r&&H(r,0,8,n,s)?0|r:D,!e.c)return e.toString();if(i=e.c[0],a=e.e,null==t)u=g(e.c),u=19==n||24==n&&a<=M?_(u,a):E(u,a);else if(o=(e=te(new K(e),t,r)).e,c=(u=g(e.c)).length,19==n||24==n&&(t<=o||o<=M)){for(;c<t;u+="0",c++);u=_(u,o)}else if(t-=a,u=E(u,o),o+1>c){if(--t>0)for(u+=".";t--;u+="0");}else if((t+=o-c)>0)for(o+1==c&&(u+=".");t--;u+="0");return e.s<0&&i?"-"+u:u}function J(e,t){var r,n,i=0;for(b(e[0])&&(e=e[0]),r=new K(e[0]);++i<e.length;){if(!(n=new K(e[i])).s){r=n;break}t.call(r,n)&&(r=n)}return r}function Z(e,t,r,n,i){return(e<t||e>r||e!=x(e))&&ee(n,(i||"decimal places")+(e<t||e>r?" out of range":" not an integer"),e),!0}function Q(e,t,r){for(var n=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,n++);return(r=n+r*l-1)>F?e.c=e.e=null:r<U?e.c=[e.e=0]:(e.e=r,e.c=t),e}function ee(e,t,r){var n=new Error(["new BigNumber","cmp","config","div","divToInt","eq","gt","gte","lt","lte","minus","mod","plus","precision","random","round","shift","times","toDigits","toExponential","toFixed","toFormat","toFraction","pow","toPrecision","toString","BigNumber"][e]+"() "+t+": "+r);throw n.name="BigNumber Error",L=0,n}function te(e,t,r,o){var s,a,c,f,p,d,m,g=e.c,v=h;if(g){e:{for(s=1,f=g[0];f>=10;f/=10,s++);if((a=t-s)<0)a+=l,c=t,m=(p=g[d=0])/v[s-c-1]%10|0;else if((d=n((a+1)/l))>=g.length){if(!o)break e;for(;g.length<=d;g.push(0));p=m=0,s=1,c=(a%=l)-l+1}else{for(p=f=g[d],s=1;f>=10;f/=10,s++);m=(c=(a%=l)-l+s)<0?0:p/v[s-c-1]%10|0}if(o=o||t<0||null!=g[d+1]||(c<0?p:p%v[s-c-1]),o=r<4?(m||o)&&(0==r||r==(e.s<0?3:2)):m>5||5==m&&(4==r||o||6==r&&(a>0?c>0?p/v[s-c]:0:g[d-1])%10&1||r==(e.s<0?8:7)),t<1||!g[0])return g.length=0,o?(t-=e.e+1,g[0]=v[(l-t%l)%l],e.e=-t||0):g[0]=e.e=0,e;if(0==a?(g.length=d,f=1,d--):(g.length=d+1,f=v[l-a],g[d]=c>0?i(p/v[s-c]%v[c])*f:0),o)for(;;){if(0==d){for(a=1,c=g[0];c>=10;c/=10,a++);for(c=g[0]+=f,f=1;c>=10;c/=10,f++);a!=f&&(e.e++,g[0]==u&&(g[0]=1));break}if(g[d]+=f,g[d]!=u)break;g[d--]=0,f=1}for(a=g.length;0===g[--a];g.pop());}e.e>F?e.c=e.e=null:e.e<U&&(e.c=[e.e=0])}return e}return K.another=e,K.ROUND_UP=0,K.ROUND_DOWN=1,K.ROUND_CEIL=2,K.ROUND_FLOOR=3,K.ROUND_HALF_UP=4,K.ROUND_HALF_DOWN=5,K.ROUND_HALF_EVEN=6,K.ROUND_HALF_CEIL=7,K.ROUND_HALF_FLOOR=8,K.EUCLID=9,K.config=K.set=function(){var e,t,r=0,n={},i=arguments,s=i[0],a=s&&"object"==typeof s?function(){if(s.hasOwnProperty(t))return null!=(e=s[t])}:function(){if(i.length>r)return null!=(e=i[r++])};return a(t="DECIMAL_PLACES")&&H(e,0,d,2,t)&&(P=0|e),n[t]=P,a(t="ROUNDING_MODE")&&H(e,0,8,2,t)&&(D=0|e),n[t]=D,a(t="EXPONENTIAL_AT")&&(b(e)?H(e[0],-d,0,2,t)&&H(e[1],0,d,2,t)&&(M=0|e[0],B=0|e[1]):H(e,-d,d,2,t)&&(M=-(B=0|(e<0?-e:e)))),n[t]=[M,B],a(t="RANGE")&&(b(e)?H(e[0],-d,-1,2,t)&&H(e[1],1,d,2,t)&&(U=0|e[0],F=0|e[1]):H(e,-d,d,2,t)&&(0|e?U=-(F=0|(e<0?-e:e)):z&&ee(2,t+" cannot be zero",e))),n[t]=[U,F],a(t="ERRORS")&&(e===!!e||1===e||0===e?(L=0,H=(z=!!e)?Z:y):z&&ee(2,t+o,e)),n[t]=z,a(t="CRYPTO")&&(!0===e||!1===e||1===e||0===e?e?!(e="undefined"==typeof crypto)&&crypto&&(crypto.getRandomValues||crypto.randomBytes)?q=!0:z?ee(2,"crypto unavailable",e?void 0:crypto):q=!1:q=!1:z&&ee(2,t+o,e)),n[t]=q,a(t="MODULO_MODE")&&H(e,0,9,2,t)&&(G=0|e),n[t]=G,a(t="POW_PRECISION")&&H(e,0,d,2,t)&&(V=0|e),n[t]=V,a(t="FORMAT")&&("object"==typeof e?W=e:z&&ee(2,t+" not an object",e)),n[t]=W,n},K.max=function(){return J(arguments,N.lt)},K.min=function(){return J(arguments,N.gt)},K.random=(R=9007199254740992,I=Math.random()*R&2097151?function(){return i(Math.random()*R)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,r,o,s,a,c=0,u=[],f=new K(C);if(e=null!=e&&H(e,0,d,14)?0|e:P,s=n(e/l),q)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(s*=2));c<s;)(a=131072*t[c]+(t[c+1]>>>11))>=9e15?(r=crypto.getRandomValues(new Uint32Array(2)),t[c]=r[0],t[c+1]=r[1]):(u.push(a%1e14),c+=2);c=s/2}else if(crypto.randomBytes){for(t=crypto.randomBytes(s*=7);c<s;)(a=281474976710656*(31&t[c])+1099511627776*t[c+1]+4294967296*t[c+2]+16777216*t[c+3]+(t[c+4]<<16)+(t[c+5]<<8)+t[c+6])>=9e15?crypto.randomBytes(7).copy(t,c):(u.push(a%1e14),c+=7);c=s/7}else q=!1,z&&ee(14,"crypto unavailable",crypto);if(!q)for(;c<s;)(a=I())<9e15&&(u[c++]=a%1e14);for(s=u[--c],e%=l,s&&e&&(a=h[l-e],u[c]=i(s/a)*a);0===u[c];u.pop(),c--);if(c<0)u=[o=0];else{for(o=-1;0===u[0];u.splice(0,1),o-=l);for(c=1,a=u[0];a>=10;a/=10,c++);c<l&&(o-=l-c)}return f.e=o,f.c=u,f}),S=function(){function e(e,t,r){var n,i,o,s,a=0,c=e.length,u=t%p,l=t/p|0;for(e=e.slice();c--;)a=((i=u*(o=e[c]%p)+(n=l*o+(s=e[c]/p|0)*u)%p*p+a)/r|0)+(n/p|0)+l*s,e[c]=i%r;return a&&(e=[a].concat(e)),e}function t(e,t,r,n){var i,o;if(r!=n)o=r>n?1:-1;else for(i=o=0;i<r;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function r(e,t,r,n){for(var i=0;r--;)e[r]-=i,i=e[r]<t[r]?1:0,e[r]=i*n+e[r]-t[r];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(n,o,s,a,c){var f,h,p,d,g,v,y,b,w,_,E,x,S,A,R,I,O,$=n.s==o.s?1:-1,T=n.c,k=o.c;if(!(T&&T[0]&&k&&k[0]))return new K(n.s&&o.s&&(T?!k||T[0]!=k[0]:k)?T&&0==T[0]||!k?0*$:$/0:NaN);for(w=(b=new K($)).c=[],$=s+(h=n.e-o.e)+1,c||(c=u,h=m(n.e/l)-m(o.e/l),$=$/l|0),p=0;k[p]==(T[p]||0);p++);if(k[p]>(T[p]||0)&&h--,$<0)w.push(1),d=!0;else{for(A=T.length,I=k.length,p=0,$+=2,(g=i(c/(k[0]+1)))>1&&(k=e(k,g,c),T=e(T,g,c),I=k.length,A=T.length),S=I,E=(_=T.slice(0,I)).length;E<I;_[E++]=0);O=k.slice(),O=[0].concat(O),R=k[0],k[1]>=c/2&&R++;do{if(g=0,(f=t(k,_,I,E))<0){if(x=_[0],I!=E&&(x=x*c+(_[1]||0)),(g=i(x/R))>1)for(g>=c&&(g=c-1),y=(v=e(k,g,c)).length,E=_.length;1==t(v,_,y,E);)g--,r(v,I<y?O:k,y,c),y=v.length,f=1;else 0==g&&(f=g=1),y=(v=k.slice()).length;if(y<E&&(v=[0].concat(v)),r(_,v,E,c),E=_.length,-1==f)for(;t(k,_,I,E)<1;)g++,r(_,I<E?O:k,E,c),E=_.length}else 0===f&&(g++,_=[0]);w[p++]=g,_[0]?_[E++]=T[S]||0:(_=[T[S]],E=1)}while((S++<A||null!=_[0])&&$--);d=null!=_[0],w[0]||w.splice(0,1)}if(c==u){for(p=1,$=w[0];$>=10;$/=10,p++);te(b,s+(b.e=p+h*l-1)+1,a,d)}else b.e=h,b.r=+d;return b}}(),O=/^(-?)0([xbo])(?=\w[\w.]*$)/i,$=/^([^.]+)\.$/,T=/^\.([^.]+)$/,k=/^-?(Infinity|NaN)$/,j=/^\s*\+(?=[\w.])|^\s+|\s+$/g,A=function(e,t,r,n){var i,o=r?t:t.replace(j,"");if(k.test(o))e.s=isNaN(o)?null:o<0?-1:1;else{if(!r&&(o=o.replace(O,(function(e,t,r){return i="x"==(r=r.toLowerCase())?16:"b"==r?2:8,n&&n!=i?e:t})),n&&(i=n,o=o.replace($,"$1").replace(T,"0.$1")),t!=o))return new K(o,i);z&&ee(L,"not a"+(n?" base "+n:"")+" number",t),e.s=null}e.c=e.e=null,L=0},N.absoluteValue=N.abs=function(){var e=new K(this);return e.s<0&&(e.s=1),e},N.ceil=function(){return te(new K(this),this.e+1,2)},N.comparedTo=N.cmp=function(e,t){return L=1,v(this,new K(e,t))},N.decimalPlaces=N.dp=function(){var e,t,r=this.c;if(!r)return null;if(e=((t=r.length-1)-m(this.e/l))*l,t=r[t])for(;t%10==0;t/=10,e--);return e<0&&(e=0),e},N.dividedBy=N.div=function(e,t){return L=3,S(this,new K(e,t),P,D)},N.dividedToIntegerBy=N.divToInt=function(e,t){return L=4,S(this,new K(e,t),0,1)},N.equals=N.eq=function(e,t){return L=5,0===v(this,new K(e,t))},N.floor=function(){return te(new K(this),this.e+1,3)},N.greaterThan=N.gt=function(e,t){return L=6,v(this,new K(e,t))>0},N.greaterThanOrEqualTo=N.gte=function(e,t){return L=7,1===(t=v(this,new K(e,t)))||0===t},N.isFinite=function(){return!!this.c},N.isInteger=N.isInt=function(){return!!this.c&&m(this.e/l)>this.c.length-2},N.isNaN=function(){return!this.s},N.isNegative=N.isNeg=function(){return this.s<0},N.isZero=function(){return!!this.c&&0==this.c[0]},N.lessThan=N.lt=function(e,t){return L=8,v(this,new K(e,t))<0},N.lessThanOrEqualTo=N.lte=function(e,t){return L=9,-1===(t=v(this,new K(e,t)))||0===t},N.minus=N.sub=function(e,t){var r,n,i,o,s=this,a=s.s;if(L=10,t=(e=new K(e,t)).s,!a||!t)return new K(NaN);if(a!=t)return e.s=-t,s.plus(e);var c=s.e/l,f=e.e/l,h=s.c,p=e.c;if(!c||!f){if(!h||!p)return h?(e.s=-t,e):new K(p?s:NaN);if(!h[0]||!p[0])return p[0]?(e.s=-t,e):new K(h[0]?s:3==D?-0:0)}if(c=m(c),f=m(f),h=h.slice(),a=c-f){for((o=a<0)?(a=-a,i=h):(f=c,i=p),i.reverse(),t=a;t--;i.push(0));i.reverse()}else for(n=(o=(a=h.length)<(t=p.length))?a:t,a=t=0;t<n;t++)if(h[t]!=p[t]){o=h[t]<p[t];break}if(o&&(i=h,h=p,p=i,e.s=-e.s),(t=(n=p.length)-(r=h.length))>0)for(;t--;h[r++]=0);for(t=u-1;n>a;){if(h[--n]<p[n]){for(r=n;r&&!h[--r];h[r]=t);--h[r],h[n]+=u}h[n]-=p[n]}for(;0==h[0];h.splice(0,1),--f);return h[0]?Q(e,h,f):(e.s=3==D?-1:1,e.c=[e.e=0],e)},N.modulo=N.mod=function(e,t){var r,n,i=this;return L=11,e=new K(e,t),!i.c||!e.s||e.c&&!e.c[0]?new K(NaN):!e.c||i.c&&!i.c[0]?new K(i):(9==G?(n=e.s,e.s=1,r=S(i,e,0,3),e.s=n,r.s*=n):r=S(i,e,0,G),i.minus(r.times(e)))},N.negated=N.neg=function(){var e=new K(this);return e.s=-e.s||null,e},N.plus=N.add=function(e,t){var r,n=this,i=n.s;if(L=12,t=(e=new K(e,t)).s,!i||!t)return new K(NaN);if(i!=t)return e.s=-t,n.minus(e);var o=n.e/l,s=e.e/l,a=n.c,c=e.c;if(!o||!s){if(!a||!c)return new K(i/0);if(!a[0]||!c[0])return c[0]?e:new K(a[0]?n:0*i)}if(o=m(o),s=m(s),a=a.slice(),i=o-s){for(i>0?(s=o,r=c):(i=-i,r=a),r.reverse();i--;r.push(0));r.reverse()}for((i=a.length)-(t=c.length)<0&&(r=c,c=a,a=r,t=i),i=0;t;)i=(a[--t]=a[t]+c[t]+i)/u|0,a[t]=u===a[t]?0:a[t]%u;return i&&(a=[i].concat(a),++s),Q(e,a,s)},N.precision=N.sd=function(e){var t,r,n=this,i=n.c;if(null!=e&&e!==!!e&&1!==e&&0!==e&&(z&&ee(13,"argument"+o,e),e!=!!e&&(e=null)),!i)return null;if(t=(r=i.length-1)*l+1,r=i[r]){for(;r%10==0;r/=10,t--);for(r=i[0];r>=10;r/=10,t++);}return e&&n.e+1>t&&(t=n.e+1),t},N.round=function(e,t){var r=new K(this);return(null==e||H(e,0,d,15))&&te(r,~~e+this.e+1,null!=t&&H(t,0,8,15,s)?0|t:D),r},N.shift=function(e){var t=this;return H(e,-9007199254740991,f,16,"argument")?t.times("1e"+x(e)):new K(t.c&&t.c[0]&&(e<-9007199254740991||e>f)?t.s*(e<0?0:1/0):t)},N.squareRoot=N.sqrt=function(){var e,t,r,n,i,o=this,s=o.c,a=o.s,c=o.e,u=P+4,l=new K("0.5");if(1!==a||!s||!s[0])return new K(!a||a<0&&(!s||s[0])?NaN:s?o:1/0);if(0==(a=Math.sqrt(+o))||a==1/0?(((t=g(s)).length+c)%2==0&&(t+="0"),a=Math.sqrt(t),c=m((c+1)/2)-(c<0||c%2),r=new K(t=a==1/0?"1e"+c:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+c)):r=new K(a+""),r.c[0])for((a=(c=r.e)+u)<3&&(a=0);;)if(i=r,r=l.times(i.plus(S(o,i,u,1))),g(i.c).slice(0,a)===(t=g(r.c)).slice(0,a)){if(r.e<c&&--a,"9999"!=(t=t.slice(a-3,a+1))&&(n||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(te(r,r.e+P+2,1),e=!r.times(r).eq(o));break}if(!n&&(te(i,i.e+P+2,0),i.times(i).eq(o))){r=i;break}u+=4,a+=4,n=1}return te(r,r.e+P+1,D,e)},N.times=N.mul=function(e,t){var r,n,i,o,s,a,c,f,h,d,g,v,y,b,w,_=this,E=_.c,x=(L=17,e=new K(e,t)).c;if(!(E&&x&&E[0]&&x[0]))return!_.s||!e.s||E&&!E[0]&&!x||x&&!x[0]&&!E?e.c=e.e=e.s=null:(e.s*=_.s,E&&x?(e.c=[0],e.e=0):e.c=e.e=null),e;for(n=m(_.e/l)+m(e.e/l),e.s*=_.s,(c=E.length)<(d=x.length)&&(y=E,E=x,x=y,i=c,c=d,d=i),i=c+d,y=[];i--;y.push(0));for(b=u,w=p,i=d;--i>=0;){for(r=0,g=x[i]%w,v=x[i]/w|0,o=i+(s=c);o>i;)r=((f=g*(f=E[--s]%w)+(a=v*f+(h=E[s]/w|0)*g)%w*w+y[o]+r)/b|0)+(a/w|0)+v*h,y[o--]=f%b;y[o]=r}return r?++n:y.splice(0,1),Q(e,y,n)},N.toDigits=function(e,t){var r=new K(this);return e=null!=e&&H(e,1,d,18,"precision")?0|e:null,t=null!=t&&H(t,0,8,18,s)?0|t:D,e?te(r,e,t):r},N.toExponential=function(e,t){return Y(this,null!=e&&H(e,0,d,19)?1+~~e:null,t,19)},N.toFixed=function(e,t){return Y(this,null!=e&&H(e,0,d,20)?~~e+this.e+1:null,t,20)},N.toFormat=function(e,t){var r=Y(this,null!=e&&H(e,0,d,21)?~~e+this.e+1:null,t,21);if(this.c){var n,i=r.split("."),o=+W.groupSize,s=+W.secondaryGroupSize,a=W.groupSeparator,c=i[0],u=i[1],l=this.s<0,f=l?c.slice(1):c,h=f.length;if(s&&(n=o,o=s,s=n,h-=n),o>0&&h>0){for(n=h%o||o,c=f.substr(0,n);n<h;n+=o)c+=a+f.substr(n,o);s>0&&(c+=a+f.slice(n)),l&&(c="-"+c)}r=u?c+W.decimalSeparator+((s=+W.fractionGroupSize)?u.replace(new RegExp("\\d{"+s+"}\\B","g"),"$&"+W.fractionGroupSeparator):u):c}return r},N.toFraction=function(e){var t,r,n,i,o,s,a,c,u,f=z,p=this,d=p.c,m=new K(C),v=r=new K(C),y=a=new K(C);if(null!=e&&(z=!1,s=new K(e),z=f,(f=s.isInt())&&!s.lt(C)||(z&&ee(22,"max denominator "+(f?"out of range":"not an integer"),e),e=!f&&s.c&&te(s,s.e+1,1).gte(C)?s:null)),!d)return p.toString();for(u=g(d),i=m.e=u.length-p.e-1,m.c[0]=h[(o=i%l)<0?l+o:o],e=!e||s.cmp(m)>0?i>0?m:v:s,o=F,F=1/0,s=new K(u),a.c[0]=0;c=S(s,m,0,1),1!=(n=r.plus(c.times(y))).cmp(e);)r=y,y=n,v=a.plus(c.times(n=v)),a=n,m=s.minus(c.times(n=m)),s=n;return n=S(e.minus(r),y,0,1),a=a.plus(n.times(v)),r=r.plus(n.times(y)),a.s=v.s=p.s,t=S(v,y,i*=2,D).minus(p).abs().cmp(S(a,r,i,D).minus(p).abs())<1?[v.toString(),y.toString()]:[a.toString(),r.toString()],F=o,t},N.toNumber=function(){return+this},N.toPower=N.pow=function(e,t){var r,o,s,a=i(e<0?-e:+e),c=this;if(null!=t&&(L=23,t=new K(t)),!H(e,-9007199254740991,f,23,"exponent")&&(!isFinite(e)||a>f&&(e/=0)||parseFloat(e)!=e&&(e=NaN,1))||0==e)return r=Math.pow(+c,e),new K(t?r%t:r);for(t?e>1&&c.gt(C)&&c.isInt()&&t.gt(C)&&t.isInt()?c=c.mod(t):(s=t,t=null):V&&(r=n(V/l+2)),o=new K(C);;){if(a%2){if(!(o=o.times(c)).c)break;r?o.c.length>r&&(o.c.length=r):t&&(o=o.mod(t))}if(!(a=i(a/2)))break;c=c.times(c),r?c.c&&c.c.length>r&&(c.c.length=r):t&&(c=c.mod(t))}return t?o:(e<0&&(o=C.div(o)),s?o.mod(s):r?te(o,V,D):o)},N.toPrecision=function(e,t){return Y(this,null!=e&&H(e,1,d,24,"precision")?0|e:null,t,24)},N.toString=function(e){var t,r=this,n=r.s,i=r.e;return null===i?n?(t="Infinity",n<0&&(t="-"+t)):t="NaN":(t=g(r.c),t=null!=e&&H(e,2,64,25,"base")?X(E(t,i),0|e,10,n):i<=M||i>=B?_(t,i):E(t,i),n<0&&r.c[0]&&(t="-"+t)),t},N.truncated=N.trunc=function(){return te(new K(this),this.e+1,1)},N.valueOf=N.toJSON=function(){var e,t=this,r=t.e;return null===r?t.toString():(e=g(t.c),e=r<=M||r>=B?_(e,r):E(e,r),t.s<0?"-"+e:e)},N.isBigNumber=!0,null!=t&&K.config(t),K}()).default=t.BigNumber=t,"function"==typeof define&&define.amd?define((function(){return t})):Kn?Kn=t:(e||(e="undefined"!=typeof self?self:Function("return this")()),e.BigNumber=t)}(Kn);var Xn={i:{val:new Kn(10).pow(0),dp:0},Ki:{val:new Kn(10).pow(3),dp:3},Mi:{val:new Kn(10).pow(6),dp:6},Gi:{val:new Kn(10).pow(9),dp:9},Ti:{val:new Kn(10).pow(12),dp:12},Pi:{val:new Kn(10).pow(15),dp:15}},Yn=function(e,t,r){var n=Tn.isString(e),i=Tn.isArray(e);if(!n&&!i)throw new Error("Invalid input");var o=!1!==r,s=Tn.isTritArray(e,o?sn.HASH_LENGTH:null),a=n||s,c=function(e){var t=new fn;t.initialize();var r=[];return t.absorb(e,0,e.length),t.squeeze(r,0,sn.HASH_LENGTH),r.slice(-sn.HASH_LENGTH/9)},u=(a?[e]:e).map((function(e){var r=Tn.isTrytes(e,o?81:null),n=s||Tn.isTritArray(e,o?sn.HASH_LENGTH:null);if(!r&&!n)throw new Error("Invalid input");var i=n?c(e):rn.trytes(c(rn.trits(e))),a=t||(r?9:27);return e.concat(i.slice(-a))}));return a?u[0]:u},Jn=function(e){var t=Tn.isString(e);if(t&&81===e.length)return e;t&&(e=new Array(e));var r=[];return e.forEach((function(e){r.push(e.slice(0,81))})),t?r[0]:r},Zn=function(e){if(!Tn.isTritArray(e,8019))throw new Error("Invalid transaction trits");var t=[],r=new sn;return r.initialize(),r.absorb(e,0,e.length),r.squeeze(t,0,243),t},Qn=function(e){for(var t=rn.trits(e.value);t.length<81;)t[t.length]=0;for(var r=rn.trits(e.timestamp);r.length<27;)r[r.length]=0;for(var n=rn.trits(e.currentIndex);n.length<27;)n[n.length]=0;for(var i=rn.trits(e.lastIndex);i.length<27;)i[i.length]=0;for(var o=rn.trits(e.attachmentTimestamp||0);o.length<27;)o[o.length]=0;for(var s=rn.trits(e.attachmentTimestampLowerBound||0);s.length<27;)s[s.length]=0;for(var a=rn.trits(e.attachmentTimestampUpperBound||0);a.length<27;)a[a.length]=0;return e.tag=e.tag||e.obsoleteTag,e.signatureMessageFragment+e.address+rn.trytes(t)+e.obsoleteTag+rn.trytes(r)+rn.trytes(n)+rn.trytes(i)+e.bundle+e.trunkTransaction+e.branchTransaction+e.tag+rn.trytes(o)+rn.trytes(s)+rn.trytes(a)+e.nonce};$n={convertUnits:function(e,t,r){if(void 0===Xn[t]||void 0===Xn[r])throw new Error("Invalid unit provided");var n=new Kn(e);if(n.dp()>Xn[t].dp)throw new Error("Input value exceeded max fromUnit precision.");return n.times(Xn[t].val).dividedBy(Xn[r].val).toNumber()},addChecksum:Yn,noChecksum:Jn,isValidChecksum:function(e){var t=Jn(e);return Yn(t)===e},transactionHash:Zn,transactionObject:function(e,t){if(e){for(var r=2279;r<2295;r++)if("9"!==e.charAt(r))return null;var n={},i=rn.trits(e);return Tn.isHash(t)?n.hash=t:n.hash=rn.trytes(Zn(i)),n.signatureMessageFragment=e.slice(0,2187),n.address=e.slice(2187,2268),n.value=rn.value(i.slice(6804,6885)),n.obsoleteTag=e.slice(2295,2322),n.timestamp=rn.value(i.slice(6966,6993)),n.currentIndex=rn.value(i.slice(6993,7020)),n.lastIndex=rn.value(i.slice(7020,7047)),n.bundle=e.slice(2349,2430),n.trunkTransaction=e.slice(2430,2511),n.branchTransaction=e.slice(2511,2592),n.tag=e.slice(2592,2619),n.attachmentTimestamp=rn.value(i.slice(7857,7884)),n.attachmentTimestampLowerBound=rn.value(i.slice(7884,7911)),n.attachmentTimestampUpperBound=rn.value(i.slice(7911,7938)),n.nonce=e.slice(2646,2673),n}},transactionTrytes:Qn,isTransactionHash:function(e,t){var r=Tn.isArrayOfTxObjects([e]);return(!t||rn.trits(r?e.hash:e).slice(-t).every((function(e){return 0===e})))&&(r?e.hash===rn.trytes(Zn(rn.trits(Qn(e)))):Tn.isHash(e))},categorizeTransfers:function(e,t){var r={sent:[],received:[]};return e.forEach((function(e){var n=!1;e.forEach((function(i,o){if(t.indexOf(i.address)>-1){var s=i.currentIndex===i.lastIndex&&0!==i.lastIndex;i.value<0&&!n&&!s?(r.sent.push(e),n=!0):i.value>=0&&!n&&!s&&r.received.push(e)}}))})),r},toTrytes:kn.toTrytes,fromTrytes:kn.fromTrytes,extractJson:Wn,validateSignatures:function(e,t){for(var r,n=[],i=0;i<e.length;i++)if(e[i].address===t){if(r=e[i].bundle,Tn.isNinesTrytes(e[i].signatureMessageFragment))break;n.push(e[i].signatureMessageFragment)}return!!r&&Hn.validateSignatures(t,n,r)},isBundle:function(e){if(!Tn.isArrayOfTxObjects(e))return!1;var t=0,r=e[0].bundle,n=[],i=new fn;i.initialize();var o=[];if(e.forEach((function(r,n){if(t+=r.value,r.currentIndex!==n)return!1;var s=Qn(r),a=rn.trits(s.slice(2187,2349));if(i.absorb(a,0,a.length),r.value<0){for(var c=r.address,u={address:c,signatureFragments:Array(r.signatureMessageFragment)},l=n;l<e.length-1;l++){var f=e[l+1];f.address===c&&0===f.value&&u.signatureFragments.push(f.signatureMessageFragment)}o.push(u)}})),0!==t)return!1;if(i.squeeze(n,0,sn.HASH_LENGTH),(n=rn.trytes(n))!==r)return!1;if(e[e.length-1].currentIndex!==e[e.length-1].lastIndex)return!1;for(var s=0;s<o.length;s++){if(!Hn.validateSignatures(o[s].address,o[s].signatureFragments,r))return!1}return!0}};var ei;const ti=2147483648;var ri=function(e){if(!Array.isArray(e))throw new Error("Input must be an Array");if(0===e.length)throw new Error("Path must contain at least one level");for(var t=0;t<e.length;t++)if("number"!=typeof e[t])throw new Error("Path element is not a number");this.path=e};ri.validatePathArray=function(e){try{return ri.fromPathArray(e),!0}catch(e){return!1}},ri.validateString=function(e,t){try{return ri.fromString(e,t),!0}catch(e){return!1}},ri.fromPathArray=function(e){return new ri(e)},ri.fromString=function(e,t){if(/^m\//i.test(e))e=e.slice(2);else if(t)throw new Error("Root element is required");for(var r=e.split("/"),n=new Array(r.length),i=0;i<r.length;i++){var o=/(\d+)([hH\']?)/.exec(r[i]);if(null===o)throw new Error("Invalid input");if(n[i]=parseInt(o[1],10),n[i]>=ti)throw new Error("Invalid child index");if("h"===o[2]||"H"===o[2]||"'"===o[2])n[i]+=ti;else if(0!=o[2].length)throw new Error("Invalid modifier")}return new ri(n)},ri.prototype.toPathArray=function(){return this.path},ri.prototype.toString=function(e,t){for(var r=new Array(this.path.length),n=0;n<this.path.length;n++){var i=this.path[n];r[n]=i&ti?(2147483647&i)+(t?"h":"'"):i}return(e?"":"m/")+r.join("/")},ri.prototype.inspect=function(){return"BIPPath <"+this.toString()+">"},ei=ri;var ni;i.register("abrKH",(function(e,t){var r=i("8NTOL").MAX_SAFE_COMPONENT_LENGTH,n=i("kutcg");const o=(t=e.exports={}).re=[],s=t.src=[],a=t.t={};let c=0;const u=(e,t,r)=>{const i=c++;n(i,t),a[e]=i,s[i]=t,o[i]=new RegExp(t,r?"g":void 0)};u("NUMERICIDENTIFIER","0|[1-9]\\d*"),u("NUMERICIDENTIFIERLOOSE","[0-9]+"),u("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),u("MAINVERSION",`(${s[a.NUMERICIDENTIFIER]})\\.(${s[a.NUMERICIDENTIFIER]})\\.(${s[a.NUMERICIDENTIFIER]})`),u("MAINVERSIONLOOSE",`(${s[a.NUMERICIDENTIFIERLOOSE]})\\.(${s[a.NUMERICIDENTIFIERLOOSE]})\\.(${s[a.NUMERICIDENTIFIERLOOSE]})`),u("PRERELEASEIDENTIFIER",`(?:${s[a.NUMERICIDENTIFIER]}|${s[a.NONNUMERICIDENTIFIER]})`),u("PRERELEASEIDENTIFIERLOOSE",`(?:${s[a.NUMERICIDENTIFIERLOOSE]}|${s[a.NONNUMERICIDENTIFIER]})`),u("PRERELEASE",`(?:-(${s[a.PRERELEASEIDENTIFIER]}(?:\\.${s[a.PRERELEASEIDENTIFIER]})*))`),u("PRERELEASELOOSE",`(?:-?(${s[a.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${s[a.PRERELEASEIDENTIFIERLOOSE]})*))`),u("BUILDIDENTIFIER","[0-9A-Za-z-]+"),u("BUILD",`(?:\\+(${s[a.BUILDIDENTIFIER]}(?:\\.${s[a.BUILDIDENTIFIER]})*))`),u("FULLPLAIN",`v?${s[a.MAINVERSION]}${s[a.PRERELEASE]}?${s[a.BUILD]}?`),u("FULL",`^${s[a.FULLPLAIN]}$`),u("LOOSEPLAIN",`[v=\\s]*${s[a.MAINVERSIONLOOSE]}${s[a.PRERELEASELOOSE]}?${s[a.BUILD]}?`),u("LOOSE",`^${s[a.LOOSEPLAIN]}$`),u("GTLT","((?:<|>)?=?)"),u("XRANGEIDENTIFIERLOOSE",`${s[a.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),u("XRANGEIDENTIFIER",`${s[a.NUMERICIDENTIFIER]}|x|X|\\*`),u("XRANGEPLAIN",`[v=\\s]*(${s[a.XRANGEIDENTIFIER]})(?:\\.(${s[a.XRANGEIDENTIFIER]})(?:\\.(${s[a.XRANGEIDENTIFIER]})(?:${s[a.PRERELEASE]})?${s[a.BUILD]}?)?)?`),u("XRANGEPLAINLOOSE",`[v=\\s]*(${s[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[a.XRANGEIDENTIFIERLOOSE]})(?:${s[a.PRERELEASELOOSE]})?${s[a.BUILD]}?)?)?`),u("XRANGE",`^${s[a.GTLT]}\\s*${s[a.XRANGEPLAIN]}$`),u("XRANGELOOSE",`^${s[a.GTLT]}\\s*${s[a.XRANGEPLAINLOOSE]}$`),u("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),u("COERCERTL",s[a.COERCE],!0),u("LONETILDE","(?:~>?)"),u("TILDETRIM",`(\\s*)${s[a.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",u("TILDE",`^${s[a.LONETILDE]}${s[a.XRANGEPLAIN]}$`),u("TILDELOOSE",`^${s[a.LONETILDE]}${s[a.XRANGEPLAINLOOSE]}$`),u("LONECARET","(?:\\^)"),u("CARETTRIM",`(\\s*)${s[a.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",u("CARET",`^${s[a.LONECARET]}${s[a.XRANGEPLAIN]}$`),u("CARETLOOSE",`^${s[a.LONECARET]}${s[a.XRANGEPLAINLOOSE]}$`),u("COMPARATORLOOSE",`^${s[a.GTLT]}\\s*(${s[a.LOOSEPLAIN]})$|^$`),u("COMPARATOR",`^${s[a.GTLT]}\\s*(${s[a.FULLPLAIN]})$|^$`),u("COMPARATORTRIM",`(\\s*)${s[a.GTLT]}\\s*(${s[a.LOOSEPLAIN]}|${s[a.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",u("HYPHENRANGE",`^\\s*(${s[a.XRANGEPLAIN]})\\s+-\\s+(${s[a.XRANGEPLAIN]})\\s*$`),u("HYPHENRANGELOOSE",`^\\s*(${s[a.XRANGEPLAINLOOSE]})\\s+-\\s+(${s[a.XRANGEPLAINLOOSE]})\\s*$`),u("STAR","(<|>)?=?\\s*\\*"),u("GTE0","^\\s*>=\\s*0.0.0\\s*$"),u("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")})),i.register("8NTOL",(function(e,t){const r=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:r,MAX_SAFE_COMPONENT_LENGTH:16}})),i.register("kutcg",(function(e,t){var r=i("3iDrb");const n=("object"==typeof r&&r.env,()=>{});e.exports=n}));var ii=i("abrKH");i.register("jqCxN",(function(e,t){var r=i("kutcg"),n=i("8NTOL"),o=n.MAX_SAFE_INTEGER,s=n.MAX_LENGTH,a=i("abrKH"),c=a.re,u=a.t,l=i("gvALf"),f=i("7ch2W").compareIdentifiers;class h{constructor(e,t){if(t=l(t),e instanceof h){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid Version: ${e}`);if(e.length>s)throw new TypeError(`version is longer than ${s} characters`);r("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=e.trim().match(t.loose?c[u.LOOSE]:c[u.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>o||this.major<0)throw new TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<o)return t}return e})):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(r("SemVer.compare",this.version,this.options,e),!(e instanceof h)){if("string"==typeof e&&e===this.version)return 0;e=new h(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof h||(e=new h(e,this.options)),f(this.major,e.major)||f(this.minor,e.minor)||f(this.patch,e.patch)}comparePre(e){if(e instanceof h||(e=new h(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],i=e.prerelease[t];if(r("prerelease compare",t,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return f(n,i)}while(++t)}compareBuild(e){e instanceof h||(e=new h(e,this.options));let t=0;do{const n=this.build[t],i=e.build[t];if(r("prerelease compare",t,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return f(n,i)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let e=this.prerelease.length;for(;--e>=0;)"number"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}}e.exports=h})),i.register("gvALf",(function(e,t){const r=["includePrerelease","loose","rtl"];e.exports=e=>e?"object"!=typeof e?{loose:!0}:r.filter((t=>e[t])).reduce(((e,t)=>(e[t]=!0,e)),{}):{}})),i.register("7ch2W",(function(e,t){const r=/^[0-9]+$/,n=(e,t)=>{const n=r.test(e),i=r.test(t);return n&&i&&(e=+e,t=+t),e===t?0:n&&!i?-1:i&&!n?1:e<t?-1:1};e.exports={compareIdentifiers:n,rcompareIdentifiers:(e,t)=>n(t,e)}})),i.register("e32Na",(function(e,t){var r=i("8NTOL").MAX_LENGTH,n=i("abrKH"),o=n.t,s=n.re,a=i("jqCxN"),c=i("gvALf");e.exports=(e,t)=>{if(t=c(t),e instanceof a)return e;if("string"!=typeof e)return null;if(e.length>r)return null;if(!(t.loose?s[o.LOOSE]:s[o.FULL]).test(e))return null;try{return new a(e,t)}catch(e){return null}}})),i.register("hHU03",(function(e,t){var r=i("e32Na");e.exports=(e,t)=>{const n=r(e,t);return n?n.version:null}})),i.register("aRZyi",(function(e,t){var r=i("e32Na");e.exports=(e,t)=>{const n=r(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null}})),i.register("eodvY",(function(e,t){var r=i("jqCxN");e.exports=(e,t,n,i)=>{"string"==typeof n&&(i=n,n=void 0);try{return new r(e,n).inc(t,i).version}catch(e){return null}}})),i.register("4mgGw",(function(e,t){var r=i("e32Na"),n=i("6jT4B");e.exports=(e,t)=>{if(n(e,t))return null;{const n=r(e),i=r(t),o=n.prerelease.length||i.prerelease.length,s=o?"pre":"",a=o?"prerelease":"";for(const e in n)if(("major"===e||"minor"===e||"patch"===e)&&n[e]!==i[e])return s+e;return a}}})),i.register("6jT4B",(function(e,t){var r=i("agVQz");e.exports=(e,t,n)=>0===r(e,t,n)})),i.register("agVQz",(function(e,t){var r=i("jqCxN");e.exports=(e,t,n)=>new r(e,n).compare(new r(t,n))})),i.register("gLVSQ",(function(e,t){var r=i("jqCxN");e.exports=(e,t)=>new r(e,t).major})),i.register("5R4bU",(function(e,t){var r=i("jqCxN");e.exports=(e,t)=>new r(e,t).minor})),i.register("l0qkV",(function(e,t){var r=i("jqCxN");e.exports=(e,t)=>new r(e,t).patch})),i.register("5PMDn",(function(e,t){var r=i("e32Na");e.exports=(e,t)=>{const n=r(e,t);return n&&n.prerelease.length?n.prerelease:null}})),i.register("kNSXN",(function(e,t){var r=i("agVQz");e.exports=(e,t,n)=>r(t,e,n)})),i.register("aP4Vg",(function(e,t){var r=i("agVQz");e.exports=(e,t)=>r(e,t,!0)})),i.register("kh9A7",(function(e,t){var r=i("jqCxN");e.exports=(e,t,n)=>{const i=new r(e,n),o=new r(t,n);return i.compare(o)||i.compareBuild(o)}})),i.register("dcvUK",(function(e,t){var r=i("kh9A7");e.exports=(e,t)=>e.sort(((e,n)=>r(e,n,t)))})),i.register("ln5oa",(function(e,t){var r=i("kh9A7");e.exports=(e,t)=>e.sort(((e,n)=>r(n,e,t)))})),i.register("8Jrw7",(function(e,t){var r=i("agVQz");e.exports=(e,t,n)=>r(e,t,n)>0})),i.register("jP3ls",(function(e,t){var r=i("agVQz");e.exports=(e,t,n)=>r(e,t,n)<0})),i.register("50hun",(function(e,t){var r=i("agVQz");e.exports=(e,t,n)=>0!==r(e,t,n)})),i.register("1JEwz",(function(e,t){var r=i("agVQz");e.exports=(e,t,n)=>r(e,t,n)>=0})),i.register("lysc4",(function(e,t){var r=i("agVQz");e.exports=(e,t,n)=>r(e,t,n)<=0})),i.register("9tom9",(function(e,t){var r=i("6jT4B"),n=i("50hun"),o=i("8Jrw7"),s=i("1JEwz"),a=i("jP3ls"),c=i("lysc4");e.exports=(e,t,i,u)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof i&&(i=i.version),e===i;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof i&&(i=i.version),e!==i;case"":case"=":case"==":return r(e,i,u);case"!=":return n(e,i,u);case">":return o(e,i,u);case">=":return s(e,i,u);case"<":return a(e,i,u);case"<=":return c(e,i,u);default:throw new TypeError(`Invalid operator: ${t}`)}}})),i.register("i97zM",(function(e,t){var r=i("jqCxN"),n=i("e32Na"),o=i("abrKH"),s=o.t,a=o.re;e.exports=(e,t)=>{if(e instanceof r)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let i=null;if((t=t||{}).rtl){let t;for(;(t=a[s.COERCERTL].exec(e))&&(!i||i.index+i[0].length!==e.length);)i&&t.index+t[0].length===i.index+i[0].length||(i=t),a[s.COERCERTL].lastIndex=t.index+t[1].length+t[2].length;a[s.COERCERTL].lastIndex=-1}else i=e.match(a[s.COERCE]);return null===i?null:n(`${i[2]}.${i[3]||"0"}.${i[4]||"0"}`,t)}})),i.register("12rEO",(function(e,t){const r=Symbol("SemVer ANY");class n{static get ANY(){return r}constructor(e,t){if(t=o(t),e instanceof n){if(e.loose===!!t.loose)return e;e=e.value}l("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===r?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}parse(e){const t=this.options.loose?c[a.COMPARATORLOOSE]:c[a.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new f(n[2],this.options.loose):this.semver=r}toString(){return this.value}test(e){if(l("Comparator.test",e,this.options.loose),this.semver===r||e===r)return!0;if("string"==typeof e)try{e=new f(e,this.options)}catch(e){return!1}return u(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof n))throw new TypeError("a Comparator is required");if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return""===this.value||new h(e.value,t).test(this.value);if(""===e.operator)return""===e.value||new h(this.value,t).test(e.semver);const r=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),o=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=u(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=u(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||i||o&&s||a||c}}e.exports=n;var o=i("gvALf"),s=i("abrKH"),a=s.t,c=s.re,u=i("9tom9"),l=i("kutcg"),f=i("jqCxN"),h=i("ll3Y5")})),i.register("ll3Y5",(function(e,t){class r{constructor(e,t){if(t=o(t),e instanceof r)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new r(e.raw,t);if(e instanceof s)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!m(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&g(e[0])){this.set=[e];break}}this.format()}format(){return this.range=this.set.map((e=>e.join(" ").trim())).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();const t=`parseRange:${Object.keys(this.options).join(",")}:${e}`,r=n.get(t);if(r)return r;const i=this.options.loose,o=i?d[l.HYPHENRANGELOOSE]:d[l.HYPHENRANGE];e=e.replace(o,O(this.options.includePrerelease)),a("hyphen replace",e),e=e.replace(d[l.COMPARATORTRIM],p),a("comparator trim",e,d[l.COMPARATORTRIM]),e=(e=(e=e.replace(d[l.TILDETRIM],f)).replace(d[l.CARETTRIM],h)).split(/\s+/).join(" ");const c=i?d[l.COMPARATORLOOSE]:d[l.COMPARATOR],u=e.split(" ").map((e=>y(e,this.options))).join(" ").split(/\s+/).map((e=>I(e,this.options))).filter(this.options.loose?e=>!!e.match(c):()=>!0).map((e=>new s(e,this.options))),g=(u.length,new Map);for(const e of u){if(m(e))return[e];g.set(e.value,e)}g.size>1&&g.has("")&&g.delete("");const v=[...g.values()];return n.set(t,v),v}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Range is required");return this.set.some((r=>v(r,t)&&e.set.some((e=>v(e,t)&&r.every((r=>e.every((e=>r.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new c(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if($(this.set[t],e,this.options))return!0;return!1}}e.exports=r;const n=new(i("baTL6"))({max:1e3});var o=i("gvALf"),s=i("12rEO"),a=i("kutcg"),c=i("jqCxN"),u=i("abrKH"),l=u.t,f=u.tildeTrimReplace,h=u.caretTrimReplace,p=u.comparatorTrimReplace,d=u.re;const m=e=>"<0.0.0-0"===e.value,g=e=>""===e.value,v=(e,t)=>{let r=!0;const n=e.slice();let i=n.pop();for(;r&&n.length;)r=n.every((e=>i.intersects(e,t))),i=n.pop();return r},y=(e,t)=>(a("comp",e,t),e=E(e,t),a("caret",e),e=w(e,t),a("tildes",e),e=S(e,t),a("xrange",e),e=R(e,t),a("stars",e),e),b=e=>!e||"x"===e.toLowerCase()||"*"===e,w=(e,t)=>e.trim().split(/\s+/).map((e=>_(e,t))).join(" "),_=(e,t)=>{const r=t.loose?d[l.TILDELOOSE]:d[l.TILDE];return e.replace(r,((t,r,n,i,o)=>{let s;return a("tilde",e,t,r,n,i,o),b(r)?s="":b(n)?s=`>=${r}.0.0 <${+r+1}.0.0-0`:b(i)?s=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`:o?(a("replaceTilde pr",o),s=`>=${r}.${n}.${i}-${o} <${r}.${+n+1}.0-0`):s=`>=${r}.${n}.${i} <${r}.${+n+1}.0-0`,a("tilde return",s),s}))},E=(e,t)=>e.trim().split(/\s+/).map((e=>x(e,t))).join(" "),x=(e,t)=>{a("caret",e,t);const r=t.loose?d[l.CARETLOOSE]:d[l.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,((t,r,i,o,s)=>{let c;return a("caret",e,t,r,i,o,s),b(r)?c="":b(i)?c=`>=${r}.0.0${n} <${+r+1}.0.0-0`:b(o)?c="0"===r?`>=${r}.${i}.0${n} <${r}.${+i+1}.0-0`:`>=${r}.${i}.0${n} <${+r+1}.0.0-0`:s?(a("replaceCaret pr",s),c="0"===r?"0"===i?`>=${r}.${i}.${o}-${s} <${r}.${i}.${+o+1}-0`:`>=${r}.${i}.${o}-${s} <${r}.${+i+1}.0-0`:`>=${r}.${i}.${o}-${s} <${+r+1}.0.0-0`):(a("no pr"),c="0"===r?"0"===i?`>=${r}.${i}.${o}${n} <${r}.${i}.${+o+1}-0`:`>=${r}.${i}.${o}${n} <${r}.${+i+1}.0-0`:`>=${r}.${i}.${o} <${+r+1}.0.0-0`),a("caret return",c),c}))},S=(e,t)=>(a("replaceXRanges",e,t),e.split(/\s+/).map((e=>A(e,t))).join(" ")),A=(e,t)=>{e=e.trim();const r=t.loose?d[l.XRANGELOOSE]:d[l.XRANGE];return e.replace(r,((r,n,i,o,s,c)=>{a("xRange",e,r,n,i,o,s,c);const u=b(i),l=u||b(o),f=l||b(s),h=f;return"="===n&&h&&(n=""),c=t.includePrerelease?"-0":"",u?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&h?(l&&(o=0),s=0,">"===n?(n=">=",l?(i=+i+1,o=0,s=0):(o=+o+1,s=0)):"<="===n&&(n="<",l?i=+i+1:o=+o+1),"<"===n&&(c="-0"),r=`${n+i}.${o}.${s}${c}`):l?r=`>=${i}.0.0${c} <${+i+1}.0.0-0`:f&&(r=`>=${i}.${o}.0${c} <${i}.${+o+1}.0-0`),a("xRange return",r),r}))},R=(e,t)=>(a("replaceStars",e,t),e.trim().replace(d[l.STAR],"")),I=(e,t)=>(a("replaceGTE0",e,t),e.trim().replace(d[t.includePrerelease?l.GTE0PRE:l.GTE0],"")),O=e=>(t,r,n,i,o,s,a,c,u,l,f,h,p)=>`${r=b(n)?"":b(i)?`>=${n}.0.0${e?"-0":""}`:b(o)?`>=${n}.${i}.0${e?"-0":""}`:s?`>=${r}`:`>=${r}${e?"-0":""}`} ${c=b(u)?"":b(l)?`<${+u+1}.0.0-0`:b(f)?`<${u}.${+l+1}.0-0`:h?`<=${u}.${l}.${f}-${h}`:e?`<${u}.${l}.${+f+1}-0`:`<=${c}`}`.trim(),$=(e,t,r)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(a(e[r].semver),e[r].semver!==s.ANY&&e[r].semver.prerelease.length>0){const n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0}})),i.register("7DR0V",(function(e,t){var r=i("ll3Y5");e.exports=(e,t,n)=>{try{t=new r(t,n)}catch(e){return!1}return t.test(e)}})),i.register("bSgP3",(function(e,t){var r=i("ll3Y5");e.exports=(e,t)=>new r(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")))})),i.register("iESe3",(function(e,t){var r=i("jqCxN"),n=i("ll3Y5");e.exports=(e,t,i)=>{let o=null,s=null,a=null;try{a=new n(t,i)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(o&&-1!==s.compare(e)||(o=e,s=new r(o,i)))})),o}})),i.register("l0XMo",(function(e,t){var r=i("jqCxN"),n=i("ll3Y5");e.exports=(e,t,i)=>{let o=null,s=null,a=null;try{a=new n(t,i)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(o&&1!==s.compare(e)||(o=e,s=new r(o,i)))})),o}})),i.register("angts",(function(e,t){var r=i("jqCxN"),n=i("ll3Y5"),o=i("8Jrw7");e.exports=(e,t)=>{e=new n(e,t);let i=new r("0.0.0");if(e.test(i))return i;if(i=new r("0.0.0-0"),e.test(i))return i;i=null;for(let t=0;t<e.set.length;++t){const n=e.set[t];let s=null;n.forEach((e=>{const t=new r(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":s&&!o(t,s)||(s=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!s||i&&!o(i,s)||(i=s)}return i&&e.test(i)?i:null}})),i.register("i1BHc",(function(e,t){var r=i("ll3Y5");e.exports=(e,t)=>{try{return new r(e,t).range||"*"}catch(e){return null}}})),i.register("5IE0L",(function(e,t){var r=i("jqCxN"),n=i("12rEO");const{ANY:o}=n;var s=i("ll3Y5"),a=i("7DR0V"),c=i("8Jrw7"),u=i("jP3ls"),l=i("lysc4"),f=i("1JEwz");e.exports=(e,t,i,h)=>{let p,d,m,g,v;switch(e=new r(e,h),t=new s(t,h),i){case">":p=c,d=l,m=u,g=">",v=">=";break;case"<":p=u,d=f,m=c,g="<",v="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(e,t,h))return!1;for(let r=0;r<t.set.length;++r){const i=t.set[r];let s=null,a=null;if(i.forEach((e=>{e.semver===o&&(e=new n(">=0.0.0")),s=s||e,a=a||e,p(e.semver,s.semver,h)?s=e:m(e.semver,a.semver,h)&&(a=e)})),s.operator===g||s.operator===v)return!1;if((!a.operator||a.operator===g)&&d(e,a.semver))return!1;if(a.operator===v&&m(e,a.semver))return!1}return!0}})),i.register("fsUNa",(function(e,t){var r=i("5IE0L");e.exports=(e,t,n)=>r(e,t,">",n)})),i.register("5udu9",(function(e,t){var r=i("5IE0L");e.exports=(e,t,n)=>r(e,t,"<",n)})),i.register("cZ7fK",(function(e,t){var r=i("ll3Y5");e.exports=(e,t,n)=>(e=new r(e,n),t=new r(t,n),e.intersects(t))})),i.register("heWA1",(function(e,t){var r=i("7DR0V"),n=i("agVQz");e.exports=(e,t,i)=>{const o=[];let s=null,a=null;const c=e.sort(((e,t)=>n(e,t,i)));for(const e of c){r(e,t,i)?(a=e,s||(s=e)):(a&&o.push([s,a]),a=null,s=null)}s&&o.push([s,null]);const u=[];for(const[e,t]of o)e===t?u.push(e):t||e!==c[0]?t?e===c[0]?u.push(`<=${t}`):u.push(`${e} - ${t}`):u.push(`>=${e}`):u.push("*");const l=u.join(" || "),f="string"==typeof t.raw?t.raw:String(t);return l.length<f.length?l:t}})),i.register("73jXk",(function(e,t){var r=i("ll3Y5"),n=i("12rEO");const{ANY:o}=n;var s=i("7DR0V"),a=i("agVQz");const c=(e,t,r)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===o){if(1===t.length&&t[0].semver===o)return!0;e=r.includePrerelease?[new n(">=0.0.0-0")]:[new n(">=0.0.0")]}if(1===t.length&&t[0].semver===o){if(r.includePrerelease)return!0;t=[new n(">=0.0.0")]}const i=new Set;let c,f,h,p,d,m,g;for(const t of e)">"===t.operator||">="===t.operator?c=u(c,t,r):"<"===t.operator||"<="===t.operator?f=l(f,t,r):i.add(t.semver);if(i.size>1)return null;if(c&&f){if(h=a(c.semver,f.semver,r),h>0)return null;if(0===h&&(">="!==c.operator||"<="!==f.operator))return null}for(const e of i){if(c&&!s(e,String(c),r))return null;if(f&&!s(e,String(f),r))return null;for(const n of t)if(!s(e,String(n),r))return!1;return!0}let v=!(!f||r.includePrerelease||!f.semver.prerelease.length)&&f.semver,y=!(!c||r.includePrerelease||!c.semver.prerelease.length)&&c.semver;v&&1===v.prerelease.length&&"<"===f.operator&&0===v.prerelease[0]&&(v=!1);for(const e of t){if(g=g||">"===e.operator||">="===e.operator,m=m||"<"===e.operator||"<="===e.operator,c)if(y&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===y.major&&e.semver.minor===y.minor&&e.semver.patch===y.patch&&(y=!1),">"===e.operator||">="===e.operator){if(p=u(c,e,r),p===e&&p!==c)return!1}else if(">="===c.operator&&!s(c.semver,String(e),r))return!1;if(f)if(v&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===v.major&&e.semver.minor===v.minor&&e.semver.patch===v.patch&&(v=!1),"<"===e.operator||"<="===e.operator){if(d=l(f,e,r),d===e&&d!==f)return!1}else if("<="===f.operator&&!s(f.semver,String(e),r))return!1;if(!e.operator&&(f||c)&&0!==h)return!1}return!(c&&m&&!f&&0!==h)&&(!(f&&g&&!c&&0!==h)&&(!y&&!v))},u=(e,t,r)=>{if(!e)return t;const n=a(e.semver,t.semver,r);return n>0?e:n<0||">"===t.operator&&">="===e.operator?t:e},l=(e,t,r)=>{if(!e)return t;const n=a(e.semver,t.semver,r);return n<0?e:n>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,n={})=>{if(e===t)return!0;e=new r(e,n),t=new r(t,n);let i=!1;e:for(const r of e.set){for(const e of t.set){const t=c(r,e,n);if(i=i||null!==t,t)continue e}if(i)return!1}return!0}})),ni={re:ii.re,src:ii.src,tokens:ii.t,SEMVER_SPEC_VERSION:i("8NTOL").SEMVER_SPEC_VERSION,SemVer:i("jqCxN"),compareIdentifiers:i("7ch2W").compareIdentifiers,rcompareIdentifiers:i("7ch2W").rcompareIdentifiers,parse:i("e32Na"),valid:i("hHU03"),clean:i("aRZyi"),inc:i("eodvY"),diff:i("4mgGw"),major:i("gLVSQ"),minor:i("5R4bU"),patch:i("l0qkV"),prerelease:i("5PMDn"),compare:i("agVQz"),rcompare:i("kNSXN"),compareLoose:i("aP4Vg"),compareBuild:i("kh9A7"),sort:i("dcvUK"),rsort:i("ln5oa"),gt:i("8Jrw7"),lt:i("jP3ls"),eq:i("6jT4B"),neq:i("50hun"),gte:i("1JEwz"),lte:i("lysc4"),cmp:i("9tom9"),coerce:i("i97zM"),Comparator:i("12rEO"),Range:i("ll3Y5"),satisfies:i("7DR0V"),toComparators:i("bSgP3"),maxSatisfying:i("iESe3"),minSatisfying:i("l0XMo"),minVersion:i("angts"),validRange:i("i1BHc"),outside:i("5IE0L"),gtr:i("fsUNa"),ltr:i("5udu9"),intersects:i("cZ7fK"),simplifyRange:i("heWA1"),subset:i("73jXk")};var oi,si,ai={};function ci(){return(ci=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}oi=window,si=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=12)}([function(e,t,r){"use strict";const n=r(13);e.exports=function(e,...t){if(!e){if(1===t.length&&t[0]instanceof Error)throw t[0];throw new n(t)}}},function(e,t,r){"use strict";const n=r(0),i=r(13),o=r(29);let s,a;const c={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};t.version=o.version,t.defaults={abortEarly:!0,allowUnknown:!1,artifacts:!1,cache:!0,context:null,convert:!0,dateFormat:"iso",errors:{escapeHtml:!1,label:"path",language:null,render:!0,stack:!1,wrap:{label:'"',array:"[]"}},externals:!0,messages:{},nonEnumerables:!1,noDefaults:!1,presence:"optional",skipFunctions:!1,stripUnknown:!1,warnings:!1},t.symbols={any:Symbol.for("@hapi/joi/schema"),arraySingle:Symbol("arraySingle"),deepDefault:Symbol("deepDefault"),errors:Symbol("errors"),literal:Symbol("literal"),override:Symbol("override"),parent:Symbol("parent"),prefs:Symbol("prefs"),ref:Symbol("ref"),template:Symbol("template"),values:Symbol("values")},t.assertOptions=function(e,t,r="Options"){n(e&&"object"==typeof e&&!Array.isArray(e),"Options must be of type object");const i=Object.keys(e).filter((e=>!t.includes(e)));n(0===i.length,"".concat(r," contain unknown keys: ").concat(i))},t.checkPreferences=function(e){a=a||r(17);const t=a.preferences.validate(e);if(t.error)throw new i([t.error.details[0].message])},t.compare=function(e,t,r){switch(r){case"=":return e===t;case">":return e>t;case"<":return e<t;case">=":return e>=t;case"<=":return e<=t}},t.default=function(e,t){return void 0===e?t:e},t.isIsoDate=function(e){return c.isoDate.test(e)},t.isNumber=function(e){return"number"==typeof e&&!isNaN(e)},t.isResolvable=function(e){return!!e&&(e[t.symbols.ref]||e[t.symbols.template])},t.isSchema=function(e,r={}){const i=e&&e[t.symbols.any];return!!i&&(n(r.legacy||i.version===t.version,"Cannot mix different versions of joi schemas"),!0)},t.isValues=function(e){return e[t.symbols.values]},t.limit=function(e){return Number.isSafeInteger(e)&&e>=0},t.preferences=function(e,n){s=s||r(9),e=e||{},n=n||{};const i=Object.assign({},e,n);return n.errors&&e.errors&&(i.errors=Object.assign({},e.errors,n.errors),i.errors.wrap=Object.assign({},e.errors.wrap,n.errors.wrap)),n.messages&&(i.messages=s.compile(n.messages,e.messages)),delete i[t.symbols.prefs],i},t.tryWithPath=function(e,t,r={}){try{return e()}catch(e){throw void 0!==e.path?e.path=t+"."+e.path:e.path=t,r.append&&(e.message="".concat(e.message," (").concat(e.path,")")),e}},t.validateArg=function(e,r,{assert:n,message:i}){if(t.isSchema(n)){const t=n.validate(e);if(!t.error)return;return t.error.message}if(!n(e))return r?"".concat(r," ").concat(i):i},t.verifyFlat=function(e,t){for(const r of e)n(!Array.isArray(r),"Method no longer accepts array arguments:",t)}},function(e,t,r){"use strict";const n=r(6),i=r(14),o=r(15),s={needsProtoHack:new Set([i.set,i.map,i.weakSet,i.weakMap])};e.exports=s.clone=function(e,t={},r=null){if("object"!=typeof e||null===e)return e;let n=s.clone,a=r;if(t.shallow){if(!0!==t.shallow)return s.cloneWithShallow(e,t);n=e=>e}else if(a){const t=a.get(e);if(t)return t}else a=new Map;const c=i.getInternalProto(e);if(c===i.buffer)return!1;if(c===i.date)return new Date(e.getTime());if(c===i.regex)return new RegExp(e);const u=s.base(e,c,t);if(u===e)return e;if(a&&a.set(e,u),c===i.set)for(const r of e)u.add(n(r,t,a));else if(c===i.map)for(const[r,i]of e)u.set(r,n(i,t,a));const l=o.keys(e,t);for(const r of l){if("__proto__"===r)continue;if(c===i.array&&"length"===r){u.length=e.length;continue}const o=Object.getOwnPropertyDescriptor(e,r);o?o.get||o.set?Object.defineProperty(u,r,o):o.enumerable?u[r]=n(e[r],t,a):Object.defineProperty(u,r,{enumerable:!1,writable:!0,configurable:!0,value:n(e[r],t,a)}):Object.defineProperty(u,r,{enumerable:!0,writable:!0,configurable:!0,value:n(e[r],t,a)})}return u},s.cloneWithShallow=function(e,t){const r=t.shallow;(t=Object.assign({},t)).shallow=!1;const i=new Map;for(const t of r){const r=n(e,t);"object"!=typeof r&&"function"!=typeof r||i.set(r,r)}return s.clone(e,t,i)},s.base=function(e,t,r){if(!1===r.prototype)return s.needsProtoHack.has(t)?new t.constructor:t===i.array?[]:{};const n=Object.getPrototypeOf(e);if(n&&n.isImmutable)return e;if(t===i.array){const e=[];return n!==t&&Object.setPrototypeOf(e,n),e}if(s.needsProtoHack.has(t)){const e=new n.constructor;return n!==t&&Object.setPrototypeOf(e,n),e}return Object.create(n)}},function(e,t,r){"use strict";const n=r(0),i=r(34),o=r(1),s=r(9);e.exports=i.extend({type:"any",flags:{only:{default:!1}},terms:{alterations:{init:null},examples:{init:null},externals:{init:null},metas:{init:[]},notes:{init:[]},shared:{init:null},tags:{init:[]},whens:{init:null}},rules:{custom:{method(e,t){return n("function"==typeof e,"Method must be a function"),n(void 0===t||t&&"string"==typeof t,"Description must be a non-empty string"),this.$_addRule({name:"custom",args:{method:e,description:t}})},validate(e,t,{method:r}){try{return r(e,t)}catch(e){return t.error("any.custom",{error:e})}},args:["method","description"],multi:!0},messages:{method(e){return this.prefs({messages:e})}},shared:{method(e){n(o.isSchema(e)&&e._flags.id,"Schema must be a schema with an id");const t=this.clone();return t.$_terms.shared=t.$_terms.shared||[],t.$_terms.shared.push(e),t.$_mutateRegister(e),t}},warning:{method(e,t){return n(e&&"string"==typeof e,"Invalid warning code"),this.$_addRule({name:"warning",args:{code:e,local:t},warn:!0})},validate:(e,t,{code:r,local:n})=>t.error(r,n),args:["code","local"],multi:!0}},modifiers:{keep(e,t=!0){e.keep=t},message(e,t){e.message=s.compile(t)},warn(e,t=!0){e.warn=t}},manifest:{build(e,t){for(const r in t){const n=t[r];if(["examples","externals","metas","notes","tags"].includes(r))for(const t of n)e=e[r.slice(0,-1)](t);else if("alterations"!==r)if("whens"!==r){if("shared"===r)for(const t of n)e=e.shared(t)}else for(const t of n){const{ref:r,is:n,not:i,then:o,otherwise:s,concat:a}=t;e=a?e.concat(a):r?e.when(r,{is:n,not:i,then:o,otherwise:s,switch:t.switch,break:t.break}):e.when(n,{then:o,otherwise:s,break:t.break})}else{const t={};for(const{target:e,adjuster:r}of n)t[e]=r;e=e.alter(t)}}return e}},messages:{"any.custom":"{{#label}} failed custom validation because {{#error.message}}","any.default":"{{#label}} threw an error when running default method","any.failover":"{{#label}} threw an error when running failover method","any.invalid":"{{#label}} contains an invalid value","any.only":'{{#label}} must be {if(#valids.length == 1, "", "one of ")}{{#valids}}',"any.ref":"{{#label}} {{#arg}} references {{:#ref}} which {{#reason}}","any.required":"{{#label}} is required","any.unknown":"{{#label}} is not allowed"}})},function(e,t,r){"use strict";const n=r(32),i=r(1),o=r(7);t.Report=class{constructor(e,r,n,i,o,s,a){if(this.code=e,this.flags=i,this.messages=o,this.path=s.path,this.prefs=a,this.state=s,this.value=r,this.message=null,this.template=null,this.local=n||{},this.local.label=t.label(this.flags,this.state,this.prefs,this.messages),void 0===this.value||this.local.hasOwnProperty("value")||(this.local.value=this.value),this.path.length){const e=this.path[this.path.length-1];"object"!=typeof e&&(this.local.key=e)}}_setTemplate(e){if(this.template=e,!this.flags.label&&0===this.path.length){const e=this._template(this.template,"root");e&&(this.local.label=e)}}toString(){if(this.message)return this.message;const e=this.code;if(!this.prefs.errors.render)return this.code;const t=this._template(this.template)||this._template(this.prefs.messages)||this._template(this.messages);return void 0===t?'Error code "'.concat(e,'" is not defined, your custom type is missing the correct messages definition'):(this.message=t.render(this.value,this.state,this.prefs,this.local,{errors:this.prefs.errors,messages:[this.prefs.messages,this.messages]}),this.prefs.errors.label||(this.message=this.message.replace(/^"" /,"").trim()),this.message)}_template(e,r){return t.template(this.value,e,r||this.code,this.state,this.prefs)}},t.path=function(e){let t="";for(const r of e)"object"!=typeof r&&("string"==typeof r?(t&&(t+="."),t+=r):t+="[".concat(r,"]"));return t},t.template=function(e,t,r,n,s){if(!t)return;if(o.isTemplate(t))return"root"!==r?t:null;let a=s.errors.language;return i.isResolvable(a)&&(a=a.resolve(e,n,s)),a&&t[a]&&void 0!==t[a][r]?t[a][r]:t[r]},t.label=function(e,r,n,i){if(e.label)return e.label;if(!n.errors.label)return"";let o=r.path;return"key"===n.errors.label&&r.path.length>1&&(o=r.path.slice(-1)),t.path(o)||t.template(null,n.messages,"root",r,n)||i&&t.template(null,i,"root",r,n)||"value"},t.process=function(e,r,n){if(!e)return null;const{override:i,message:o,details:s}=t.details(e);if(i)return i;if(n.errors.stack)return new t.ValidationError(o,s,r);const a=Error.stackTraceLimit;Error.stackTraceLimit=0;const c=new t.ValidationError(o,s,r);return Error.stackTraceLimit=a,c},t.details=function(e,t={}){let r=[];const n=[];for(const i of e){if(i instanceof Error){if(!1!==t.override)return{override:i};const e=i.toString();r.push(e),n.push({message:e,type:"override",context:{error:i}});continue}const e=i.toString();r.push(e),n.push({message:e,path:i.path.filter((e=>"object"!=typeof e)),type:i.code,context:i.local})}return r.length>1&&(r=[...new Set(r)]),{message:r.join(". "),details:n}},t.ValidationError=class extends Error{constructor(e,t,r){super(e),this._original=r,this.details=t}static isError(e){return e instanceof t.ValidationError}},t.ValidationError.prototype.isJoi=!0,t.ValidationError.prototype.name="ValidationError",t.ValidationError.prototype.annotate=n.error},function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const s=r(0),a=r(2),c=r(6),u=r(1);let l;const f={symbol:Symbol("ref"),defaults:{adjust:null,in:!1,iterables:null,map:null,separator:".",type:"value"}};t.create=function(e,t={}){s("string"==typeof e,"Invalid reference key:",e),u.assertOptions(t,["adjust","ancestor","in","iterables","map","prefix","render","separator"]),s(!t.prefix||"object"==typeof t.prefix,"options.prefix must be of type object");const r=Object.assign({},f.defaults,t);delete r.prefix;const n=r.separator,i=f.context(e,n,t.prefix);if(r.type=i.type,e=i.key,"value"===r.type)if(i.root&&(s(!n||e[0]!==n,"Cannot specify relative path with root prefix"),r.ancestor="root",e||(e=null)),n&&n===e)e=null,r.ancestor=0;else if(void 0!==r.ancestor)s(!n||!e||e[0]!==n,"Cannot combine prefix with ancestor option");else{const[t,i]=f.ancestor(e,n);i&&""===(e=e.slice(i))&&(e=null),r.ancestor=t}return r.path=n?null===e?[]:e.split(n):[e],new f.Ref(r)},t.in=function(e,r={}){return t.create(e,i(i({},r),{},{in:!0}))},t.isRef=function(e){return!!e&&!!e[u.symbols.ref]},f.Ref=class{constructor(e){s("object"==typeof e,"Invalid reference construction"),u.assertOptions(e,["adjust","ancestor","in","iterables","map","path","render","separator","type","depth","key","root","display"]),s([!1,void 0].includes(e.separator)||"string"==typeof e.separator&&1===e.separator.length,"Invalid separator"),s(!e.adjust||"function"==typeof e.adjust,"options.adjust must be a function"),s(!e.map||Array.isArray(e.map),"options.map must be an array"),s(!e.map||!e.adjust,"Cannot set both map and adjust options"),Object.assign(this,f.defaults,e),s("value"===this.type||void 0===this.ancestor,"Non-value references cannot reference ancestors"),Array.isArray(this.map)&&(this.map=new Map(this.map)),this.depth=this.path.length,this.key=this.path.length?this.path.join(this.separator):null,this.root=this.path[0],this.updateDisplay()}resolve(e,t,r,n,i={}){return s(!this.in||i.in,"Invalid in() reference usage"),"global"===this.type?this._resolve(r.context,t,i):"local"===this.type?this._resolve(n,t,i):this.ancestor?"root"===this.ancestor?this._resolve(t.ancestors[t.ancestors.length-1],t,i):(s(this.ancestor<=t.ancestors.length,"Invalid reference exceeds the schema root:",this.display),this._resolve(t.ancestors[this.ancestor-1],t,i)):this._resolve(e,t,i)}_resolve(e,t,r){let n;if("value"===this.type&&t.mainstay.shadow&&!1!==r.shadow&&(n=t.mainstay.shadow.get(this.absolute(t))),void 0===n&&(n=c(e,this.path,{iterables:this.iterables,functions:!0})),this.adjust&&(n=this.adjust(n)),this.map){const e=this.map.get(n);void 0!==e&&(n=e)}return t.mainstay&&t.mainstay.tracer.resolve(t,this,n),n}toString(){return this.display}absolute(e){return[...e.path.slice(0,-this.ancestor),...this.path]}clone(){return new f.Ref(this)}describe(){const e={path:this.path};"value"!==this.type&&(e.type=this.type),"."!==this.separator&&(e.separator=this.separator),"value"===this.type&&1!==this.ancestor&&(e.ancestor=this.ancestor),this.map&&(e.map=[...this.map]);for(const t of["adjust","iterables","render"])null!==this[t]&&void 0!==this[t]&&(e[t]=this[t]);return!1!==this.in&&(e.in=!0),{ref:e}}updateDisplay(){const e=null!==this.key?this.key:"";if("value"!==this.type)return void(this.display="ref:".concat(this.type,":").concat(e));if(!this.separator)return void(this.display="ref:".concat(e));if(!this.ancestor)return void(this.display="ref:".concat(this.separator).concat(e));if("root"===this.ancestor)return void(this.display="ref:root:".concat(e));if(1===this.ancestor)return void(this.display="ref:".concat(e||".."));const t=new Array(this.ancestor+1).fill(this.separator).join("");this.display="ref:".concat(t).concat(e||"")}},f.Ref.prototype[u.symbols.ref]=!0,t.build=function(e){return"value"===(e=Object.assign({},f.defaults,e)).type&&void 0===e.ancestor&&(e.ancestor=1),new f.Ref(e)},f.context=function(e,t,r={}){if(e=e.trim(),r){const n=void 0===r.global?"$":r.global;if(n!==t&&e.startsWith(n))return{key:e.slice(n.length),type:"global"};const i=void 0===r.local?"#":r.local;if(i!==t&&e.startsWith(i))return{key:e.slice(i.length),type:"local"};const o=void 0===r.root?"/":r.root;if(o!==t&&e.startsWith(o))return{key:e.slice(o.length),type:"value",root:!0}}return{key:e,type:"value"}},f.ancestor=function(e,t){if(!t)return[1,0];if(e[0]!==t)return[1,0];if(e[1]!==t)return[0,1];let r=2;for(;e[r]===t;)++r;return[r-1,r]},t.toSibling=0,t.toParent=1,t.Manager=class{constructor(){this.refs=[]}register(e,n){if(e)if(n=void 0===n?t.toParent:n,Array.isArray(e))for(const t of e)this.register(t,n);else if(u.isSchema(e))for(const t of e._refs.refs)t.ancestor-n>=0&&this.refs.push({ancestor:t.ancestor-n,root:t.root});else t.isRef(e)&&"value"===e.type&&e.ancestor-n>=0&&this.refs.push({ancestor:e.ancestor-n,root:e.root}),l=l||r(7),l.isTemplate(e)&&this.register(e.refs(),n)}get length(){return this.refs.length}clone(){const e=new t.Manager;return e.refs=a(this.refs),e}reset(){this.refs=[]}roots(){return this.refs.filter((e=>!e.ancestor)).map((e=>e.root))}}},function(e,t,r){"use strict";const n=r(0),i={};e.exports=function(e,t,r){if(!1===t||null==t)return e;"string"==typeof(r=r||{})&&(r={separator:r});const o=Array.isArray(t);n(!o||!r.separator,"Separator option no valid for array-based chain");const s=o?t:t.split(r.separator||".");let a=e;for(let e=0;e<s.length;++e){let o=s[e];const c=r.iterables&&i.iterables(a);if(Array.isArray(a)||"set"===c){const e=Number(o);Number.isInteger(e)&&(o=e<0?a.length+e:e)}if(!a||"function"==typeof a&&!1===r.functions||!c&&void 0===a[o]){n(!r.strict||e+1===s.length,"Missing segment",o,"in reach path ",t),n("object"==typeof a||!0===r.functions||"function"!=typeof a,"Invalid segment",o,"in reach path ",t),a=r.default;break}a=c?"set"===c?[...a][o]:a.get(o):a[o]}return a},i.iterables=function(e){return e instanceof Set?"set":e instanceof Map?"map":void 0}},function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const o=r(0),s=r(2),a=r(30),c=r(31),u=r(1),l=r(4),f=r(5),h={symbol:Symbol("template"),opens:new Array(1e3).join("\0"),closes:new Array(1e3).join(""),dateFormat:{date:Date.prototype.toDateString,iso:Date.prototype.toISOString,string:Date.prototype.toString,time:Date.prototype.toTimeString,utc:Date.prototype.toUTCString}};e.exports=h.Template=class{constructor(e,t){o("string"==typeof e,"Template source must be a string"),o(!e.includes("\0")&&!e.includes(""),"Template source cannot contain reserved control characters"),this.source=e,this.rendered=e,this._template=null,this._settings=s(t),this._parse()}_parse(){if(!this.source.includes("{"))return;const e=h.encode(this.source),t=h.split(e);let r=!1;const n=[],i=t.shift();i&&n.push(i);for(const e of t){const t="{"!==e[0],i=t?"}":"}}",o=e.indexOf(i);if(-1===o||"{"===e[1]){n.push("{".concat(h.decode(e)));continue}let s=e.slice(t?0:1,o);const a=":"===s[0];a&&(s=s.slice(1));const c=this._ref(h.decode(s),{raw:t,wrapped:a});n.push(c),"string"!=typeof c&&(r=!0);const u=e.slice(o+i.length);u&&n.push(h.decode(u))}r?this._template=n:this.rendered=n.join("")}static date(e,t){return h.dateFormat[t.dateFormat].call(e)}describe(e={}){if(!this._settings&&e.compact)return this.source;const t={template:this.source};return this._settings&&(t.options=this._settings),t}static build(e){return new h.Template(e.template,e.options)}isDynamic(){return!!this._template}static isTemplate(e){return!!e&&!!e[u.symbols.template]}refs(){if(!this._template)return;const e=[];for(const t of this._template)"string"!=typeof t&&e.push(...t.refs);return e}resolve(e,t,r,n){return this._template&&1===this._template.length?this._part(this._template[0],e,t,r,n,{}):this.render(e,t,r,n)}_part(e,...t){return e.ref?e.ref.resolve(...t):e.formula.evaluate(t)}render(e,t,r,n,i={}){if(!this.isDynamic())return this.rendered;const o=[];for(const s of this._template)if("string"==typeof s)o.push(s);else{const c=this._part(s,e,t,r,n,i),u=h.stringify(c,e,t,r,n,i);if(void 0!==u){const e=s.raw||!1===(i.errors&&i.errors.escapeHtml)?u:a(u);o.push(h.wrap(e,s.wrapped&&r.errors.wrap.label))}}return o.join("")}_ref(e,{raw:t,wrapped:r}){const n=[],i=e=>{const t=f.create(e,this._settings);return n.push(t),e=>t.resolve(...e)};try{var o=new c.Parser(e,{reference:i,functions:h.functions,constants:h.constants})}catch(t){throw t.message='Invalid template variable "'.concat(e,'" fails due to: ').concat(t.message),t}if(o.single){if("reference"===o.single.type){const e=n[0];return{ref:e,raw:t,refs:n,wrapped:r||"local"===e.type&&"label"===e.key}}return h.stringify(o.single.value)}return{formula:o,raw:t,refs:n}}toString(){return this.source}},h.Template.prototype[u.symbols.template]=!0,h.Template.prototype.isImmutable=!0,h.encode=function(e){return e.replace(/\\(\{+)/g,((e,t)=>h.opens.slice(0,t.length))).replace(/\\(\}+)/g,((e,t)=>h.closes.slice(0,t.length)))},h.decode=function(e){return e.replace(/\u0000/g,"{").replace(/\u0001/g,"}")},h.split=function(e){const t=[];let r="";for(let n=0;n<e.length;++n){const i=e[n];if("{"===i){let i="";for(;n+1<e.length&&"{"===e[n+1];)i+="{",++n;t.push(r),r=i}else r+=i}return t.push(r),t},h.wrap=function(e,t){return t?1===t.length?"".concat(t).concat(e).concat(t):"".concat(t[0]).concat(e).concat(t[1]):e},h.stringify=function(e,t,r,o,s,a){const c=typeof e;let u=!1;if(f.isRef(e)&&e.render&&(u=e.in,e=e.resolve(t,r,o,s,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({in:e.in},a))),null===e)return"null";if("string"===c)return e;if("number"===c||"function"===c||"symbol"===c)return e.toString();if("object"!==c)return JSON.stringify(e);if(e instanceof Date)return h.Template.date(e,o);if(e instanceof Map){const t=[];for(const[r,n]of e.entries())t.push("".concat(r.toString()," -> ").concat(n.toString()));e=t}if(!Array.isArray(e))return e.toString();let l="";for(const n of e)l=l+(l.length?", ":"")+h.stringify(n,t,r,o,s,a);return u?l:h.wrap(l,o.errors.wrap.array)},h.constants={true:!0,false:!1,null:null,second:1e3,minute:6e4,hour:36e5,day:864e5},h.functions={if:(e,t,r)=>e?t:r,msg(e){const[t,r,n,i,o]=this,s=o.messages;if(!s)return"";const a=l.template(t,s[0],e,r,n)||l.template(t,s[1],e,r,n);return a?a.render(t,r,n,i,o):""},number:e=>"number"==typeof e?e:"string"==typeof e?parseFloat(e):"boolean"==typeof e?e?1:0:e instanceof Date?e.getTime():null}},function(e,t,r){"use strict";const n=r(0),i=r(1),o=r(5),s={};t.schema=function(e,t,r={}){i.assertOptions(r,["appendPath","override"]);try{return s.schema(e,t,r)}catch(e){throw r.appendPath&&void 0!==e.path&&(e.message="".concat(e.message," (").concat(e.path,")")),e}},s.schema=function(e,t,r){n(void 0!==t,"Invalid undefined schema"),Array.isArray(t)&&(n(t.length,"Invalid empty array schema"),1===t.length&&(t=t[0]));const o=(t,...n)=>!1!==r.override?t.valid(e.override,...n):t.valid(...n);if(s.simple(t))return o(e,t);if("function"==typeof t)return e.custom(t);if(n("object"==typeof t,"Invalid schema content:",typeof t),i.isResolvable(t))return o(e,t);if(i.isSchema(t))return t;if(Array.isArray(t)){for(const r of t)if(!s.simple(r))return e.alternatives().try(...t);return o(e,...t)}return t instanceof RegExp?e.string().regex(t):t instanceof Date?o(e.date(),t):(n(Object.getPrototypeOf(t)===Object.getPrototypeOf({}),"Schema can only contain plain objects"),e.object().keys(t))},t.ref=function(e,t){return o.isRef(e)?e:o.create(e,t)},t.compile=function(e,r,o={}){i.assertOptions(o,["legacy"]);const a=r&&r[i.symbols.any];if(a)return n(o.legacy||a.version===i.version,"Cannot mix different versions of joi schemas:",a.version,i.version),r;if("object"!=typeof r||!o.legacy)return t.schema(e,r,{appendPath:!0});const c=s.walk(r);return c?c.compile(c.root,r):t.schema(e,r,{appendPath:!0})},s.walk=function(e){if("object"!=typeof e)return null;if(Array.isArray(e)){for(const t of e){const e=s.walk(t);if(e)return e}return null}const t=e[i.symbols.any];if(t)return{root:e[t.root],compile:t.compile};n(Object.getPrototypeOf(e)===Object.getPrototypeOf({}),"Schema can only contain plain objects");for(const t in e){const r=s.walk(e[t]);if(r)return r}return null},s.simple=function(e){return null===e||["boolean","string","number"].includes(typeof e)},t.when=function(e,r,a){if(void 0===a&&(n(r&&"object"==typeof r,"Missing options"),a=r,r=o.create(".")),Array.isArray(a)&&(a={switch:a}),i.assertOptions(a,["is","not","then","otherwise","switch","break"]),i.isSchema(r))return n(void 0===a.is,'"is" can not be used with a schema condition'),n(void 0===a.not,'"not" can not be used with a schema condition'),n(void 0===a.switch,'"switch" can not be used with a schema condition'),s.condition(e,{is:r,then:a.then,otherwise:a.otherwise,break:a.break});if(n(o.isRef(r)||"string"==typeof r,"Invalid condition:",r),n(void 0===a.not||void 0===a.is,'Cannot combine "is" with "not"'),void 0===a.switch){let c=a;void 0!==a.not&&(c={is:a.not,then:a.otherwise,otherwise:a.then,break:a.break});let u=void 0!==c.is?e.$_compile(c.is):e.$_root.invalid(null,!1,0,"").required();return n(void 0!==c.then||void 0!==c.otherwise,'options must have at least one of "then", "otherwise", or "switch"'),n(void 0===c.break||void 0===c.then||void 0===c.otherwise,"Cannot specify then, otherwise, and break all together"),void 0===a.is||o.isRef(a.is)||i.isSchema(a.is)||(u=u.required()),s.condition(e,{ref:t.ref(r),is:u,then:c.then,otherwise:c.otherwise,break:c.break})}n(Array.isArray(a.switch),'"switch" must be an array'),n(void 0===a.is,'Cannot combine "switch" with "is"'),n(void 0===a.not,'Cannot combine "switch" with "not"'),n(void 0===a.then,'Cannot combine "switch" with "then"');const c={ref:t.ref(r),switch:[],break:a.break};for(let t=0;t<a.switch.length;++t){const r=a.switch[t],s=t===a.switch.length-1;i.assertOptions(r,s?["is","then","otherwise"]:["is","then"]),n(void 0!==r.is,'Switch statement missing "is"'),n(void 0!==r.then,'Switch statement missing "then"');const u={is:e.$_compile(r.is),then:e.$_compile(r.then)};if(o.isRef(r.is)||i.isSchema(r.is)||(u.is=u.is.required()),s){n(void 0===a.otherwise||void 0===r.otherwise,'Cannot specify "otherwise" inside and outside a "switch"');const t=void 0!==a.otherwise?a.otherwise:r.otherwise;void 0!==t&&(n(void 0===c.break,"Cannot specify both otherwise and break"),u.otherwise=e.$_compile(t))}c.switch.push(u)}return c},s.condition=function(e,t){for(const r of["then","otherwise"])void 0===t[r]?delete t[r]:t[r]=e.$_compile(t[r]);return t}},function(e,t,r){"use strict";const n=r(0),i=r(2),o=r(7);t.compile=function(e,t){if("string"==typeof e)return n(!t,"Cannot set single message string"),new o(e);if(o.isTemplate(e))return n(!t,"Cannot set single message template"),e;n("object"==typeof e&&!Array.isArray(e),"Invalid message options"),t=t?i(t):{};for(let r in e){const i=e[r];if("root"===r||o.isTemplate(i)){t[r]=i;continue}if("string"==typeof i){t[r]=new o(i);continue}n("object"==typeof i&&!Array.isArray(i),"Invalid message for",r);const s=r;for(r in t[s]=t[s]||{},i){const e=i[r];"root"===r||o.isTemplate(e)?t[s][r]=e:(n("string"==typeof e,"Invalid message for",r,"in",s),t[s][r]=new o(e))}}return t},t.decompile=function(e){const t={};for(let r in e){const n=e[r];if("root"===r){t[r]=n;continue}if(o.isTemplate(n)){t[r]=n.describe({compact:!0});continue}const i=r;for(r in t[i]={},n){const e=n[r];t[i][r]="root"!==r?e.describe({compact:!0}):e}}return t},t.merge=function(e,r){if(!e)return t.compile(r);if(!r)return e;if("string"==typeof r)return new o(r);if(o.isTemplate(r))return r;const s=i(e);for(let e in r){const t=r[e];if("root"===e||o.isTemplate(t)){s[e]=t;continue}if("string"==typeof t){s[e]=new o(t);continue}n("object"==typeof t&&!Array.isArray(t),"Invalid message for",e);const i=e;for(e in s[i]=s[i]||{},t){const r=t[e];"root"===e||o.isTemplate(r)?s[i][e]=r:(n("string"==typeof r,"Invalid message for",e,"in",i),s[i][e]=new o(r))}}return s}},function(e,t,r){"use strict";const n=r(0),i=r(2),o=r(15),s={};e.exports=s.merge=function(e,t,r){if(n(e&&"object"==typeof e,"Invalid target value: must be an object"),n(null==t||"object"==typeof t,"Invalid source value: must be null, undefined, or an object"),!t)return e;if(r=Object.assign({nullOverride:!0,mergeArrays:!0},r),Array.isArray(t)){n(Array.isArray(e),"Cannot merge array onto an object"),r.mergeArrays||(e.length=0);for(let n=0;n<t.length;++n)e.push(i(t[n],{symbols:r.symbols}));return e}const a=o.keys(t,r);for(let n=0;n<a.length;++n){const o=a[n];if("__proto__"===o||!Object.prototype.propertyIsEnumerable.call(t,o))continue;const c=t[o];if(c&&"object"==typeof c){if(e[o]===c)continue;!e[o]||"object"!=typeof e[o]||Array.isArray(e[o])!==Array.isArray(c)||c instanceof Date||c instanceof RegExp?e[o]=i(c,{symbols:r.symbols}):s.merge(e[o],c,r)}else(null!=c||r.nullOverride)&&(e[o]=c)}return e}},function(e,t,r){"use strict";const n=r(14),i={mismatched:null};e.exports=function(e,t,r){return r=Object.assign({prototype:!0},r),!!i.isDeepEqual(e,t,r,[])},i.isDeepEqual=function(e,t,r,o){if(e===t)return 0!==e||1/e==1/t;const s=typeof e;if(s!==typeof t)return!1;if(null===e||null===t)return!1;if("function"===s){if(!r.deepFunction||e.toString()!==t.toString())return!1}else if("object"!==s)return e!=e&&t!=t;const a=i.getSharedType(e,t,!!r.prototype);switch(a){case n.buffer:return!1;case n.promise:return e===t;case n.regex:return e.toString()===t.toString();case i.mismatched:return!1}for(let r=o.length-1;r>=0;--r)if(o[r].isSame(e,t))return!0;o.push(new i.SeenEntry(e,t));try{return!!i.isDeepEqualObj(a,e,t,r,o)}finally{o.pop()}},i.getSharedType=function(e,t,r){if(r)return Object.getPrototypeOf(e)!==Object.getPrototypeOf(t)?i.mismatched:n.getInternalProto(e);const o=n.getInternalProto(e);return o!==n.getInternalProto(t)?i.mismatched:o},i.valueOf=function(e){const t=e.valueOf;if(void 0===t)return e;try{return t.call(e)}catch(e){return e}},i.hasOwnEnumerableProperty=function(e,t){return Object.prototype.propertyIsEnumerable.call(e,t)},i.isSetSimpleEqual=function(e,t){for(const r of Set.prototype.values.call(e))if(!Set.prototype.has.call(t,r))return!1;return!0},i.isDeepEqualObj=function(e,t,r,o,s){const{isDeepEqual:a,valueOf:c,hasOwnEnumerableProperty:u}=i,{keys:l,getOwnPropertySymbols:f}=Object;if(e===n.array){if(!o.part){if(t.length!==r.length)return!1;for(let e=0;e<t.length;++e)if(!a(t[e],r[e],o,s))return!1;return!0}for(const e of t)for(const t of r)if(a(e,t,o,s))return!0}else if(e===n.set){if(t.size!==r.size)return!1;if(!i.isSetSimpleEqual(t,r)){const e=new Set(Set.prototype.values.call(r));for(const r of Set.prototype.values.call(t)){if(e.delete(r))continue;let t=!1;for(const n of e)if(a(r,n,o,s)){e.delete(n),t=!0;break}if(!t)return!1}}}else if(e===n.map){if(t.size!==r.size)return!1;for(const[e,n]of Map.prototype.entries.call(t)){if(void 0===n&&!Map.prototype.has.call(r,e))return!1;if(!a(n,Map.prototype.get.call(r,e),o,s))return!1}}else if(e===n.error&&(t.name!==r.name||t.message!==r.message))return!1;const h=c(t),p=c(r);if((t!==h||r!==p)&&!a(h,p,o,s))return!1;const d=l(t);if(!o.part&&d.length!==l(r).length&&!o.skip)return!1;let m=0;for(const e of d)if(o.skip&&o.skip.includes(e))void 0===r[e]&&++m;else{if(!u(r,e))return!1;if(!a(t[e],r[e],o,s))return!1}if(!o.part&&d.length-m!==l(r).length)return!1;if(!1!==o.symbols){const e=f(t),n=new Set(f(r));for(const i of e){if(!o.skip||!o.skip.includes(i))if(u(t,i)){if(!u(r,i))return!1;if(!a(t[i],r[i],o,s))return!1}else if(u(r,i))return!1;n.delete(i)}for(const e of n)if(u(r,e))return!1}return!0},i.SeenEntry=class{constructor(e,t){this.obj=e,this.ref=t}isSame(e,t){return this.obj===e&&this.ref===t}}},function(e,t,r){"use strict";const n=r(0),i=r(2),o=r(16),s=r(1),a=r(8),c=r(4),u=r(18),l=r(19),f=r(5),h=r(7),p=r(20);let d;const m={types:{alternatives:r(33),any:r(3),array:r(39),boolean:r(40),date:r(41),function:r(42),link:r(45),number:r(46),object:r(47),string:r(48),symbol:r(52)},aliases:{alt:"alternatives",bool:"boolean",func:"function"},root:function(){const e={_types:new Set(Object.keys(m.types))};for(const t of e._types)e[t]=function(...e){return n(!e.length||["alternatives","link","object"].includes(t),"The",t,"type does not allow arguments"),m.generate(this,m.types[t],e)};for(const t of["allow","custom","disallow","equal","exist","forbidden","invalid","not","only","optional","options","prefs","preferences","required","strip","valid","when"])e[t]=function(...e){return this.any()[t](...e)};Object.assign(e,m.methods);for(const t in m.aliases){const r=m.aliases[t];e[t]=e[r]}return e.x=e.expression,p.setup&&p.setup(e),e}};m.methods={ValidationError:c.ValidationError,version:s.version,cache:o.provider,assert(e,t,...r){m.assert(e,t,!0,r)},attempt:(e,t,...r)=>m.assert(e,t,!1,r),build(e){return n("function"==typeof l.build,"Manifest functionality disabled"),l.build(this,e)},checkPreferences(e){s.checkPreferences(e)},compile(e,t){return a.compile(this,e,t)},defaults(e){n("function"==typeof e,"modifier must be a function");const t=Object.assign({},this);for(const r of t._types){const i=e(t[r]());n(s.isSchema(i),"modifier must return a valid schema object"),t[r]=function(...e){return m.generate(this,i,e)}}return t},expression:(...e)=>new h(...e),extend(...e){s.verifyFlat(e,"extend"),d=d||r(17),n(e.length,"You need to provide at least one extension"),this.assert(e,d.extensions);const t=Object.assign({},this);t._types=new Set(t._types);for(let r of e){"function"==typeof r&&(r=r(t)),this.assert(r,d.extension);const e=m.expandExtension(r,t);for(const r of e){n(void 0===t[r.type]||t._types.has(r.type),"Cannot override name",r.type);const e=r.base||this.any(),i=u.type(e,r);t._types.add(r.type),t[r.type]=function(...e){return m.generate(this,i,e)}}}return t},isError:c.ValidationError.isError,isExpression:h.isTemplate,isRef:f.isRef,isSchema:s.isSchema,in:(...e)=>f.in(...e),override:s.symbols.override,ref:(...e)=>f.create(...e),types(){const e={};for(const t of this._types)e[t]=this[t]();for(const t in m.aliases)e[t]=this[t]();return e}},m.assert=function(e,t,r,n){const o=n[0]instanceof Error||"string"==typeof n[0]?n[0]:null,a=o?n[1]:n[0],u=t.validate(e,s.preferences({errors:{stack:!0}},a||{}));let l=u.error;if(!l)return u.value;if(o instanceof Error)throw o;const f=r&&"function"==typeof l.annotate?l.annotate():l.message;throw l instanceof c.ValidationError==0&&(l=i(l)),l.message=o?"".concat(o," ").concat(f):f,l},m.generate=function(e,t,r){return n(e,"Must be invoked on a Joi instance."),t.$_root=e,t._definition.args&&r.length?t._definition.args(t,...r):t},m.expandExtension=function(e,t){if("string"==typeof e.type)return[e];const r=[];for(const n of t._types)if(e.type.test(n)){const i=Object.assign({},e);i.type=n,i.base=t[n](),r.push(i)}return r},e.exports=m.root()},function(e,t,r){"use strict";const n=r(28);e.exports=class extends Error{constructor(e){super(e.filter((e=>""!==e)).map((e=>"string"==typeof e?e:e instanceof Error?e.message:n(e))).join(" ")||"Unknown error"),"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,t.assert)}}},function(e,t,r){"use strict";const n={};t=e.exports={array:Array.prototype,buffer:!1,date:Date.prototype,error:Error.prototype,generic:Object.prototype,map:Map.prototype,promise:Promise.prototype,regex:RegExp.prototype,set:Set.prototype,weakMap:WeakMap.prototype,weakSet:WeakSet.prototype},n.typeMap=new Map([["[object Error]",t.error],["[object Map]",t.map],["[object Promise]",t.promise],["[object Set]",t.set],["[object WeakMap]",t.weakMap],["[object WeakSet]",t.weakSet]]),t.getInternalProto=function(e){if(Array.isArray(e))return t.array;if(e instanceof Date)return t.date;if(e instanceof RegExp)return t.regex;if(e instanceof Error)return t.error;const r=Object.prototype.toString.call(e);return n.typeMap.get(r)||t.generic}},function(e,t,r){"use strict";t.keys=function(e,t={}){return!1!==t.symbols?Reflect.ownKeys(e):Object.getOwnPropertyNames(e)}},function(e,t,r){"use strict";const n=r(0),i=r(2),o=r(1),s={max:1e3,supported:new Set(["undefined","boolean","number","string"])};t.provider={provision:e=>new s.Cache(e)},s.Cache=class{constructor(e={}){o.assertOptions(e,["max"]),n(void 0===e.max||e.max&&e.max>0&&isFinite(e.max),"Invalid max cache size"),this._max=e.max||s.max,this._map=new Map,this._list=new s.List}get length(){return this._map.size}set(e,t){if(null!==e&&!s.supported.has(typeof e))return;let r=this._map.get(e);if(r)return r.value=t,void this._list.first(r);r=this._list.unshift({key:e,value:t}),this._map.set(e,r),this._compact()}get(e){const t=this._map.get(e);if(t)return this._list.first(t),i(t.value)}_compact(){if(this._map.size>this._max){const e=this._list.pop();this._map.delete(e.key)}}},s.List=class{constructor(){this.tail=null,this.head=null}unshift(e){return e.next=null,e.prev=this.head,this.head&&(this.head.next=e),this.head=e,this.tail||(this.tail=e),e}first(e){e!==this.head&&(this._remove(e),this.unshift(e))}pop(){return this._remove(this.tail)}_remove(e){const{next:t,prev:r}=e;return t.prev=r,r&&(r.next=t),e===this.tail&&(this.tail=t),e.prev=null,e.next=null,e}}},function(e,t,r){"use strict";const n=r(12),i={};i.wrap=n.string().min(1).max(2).allow(!1),t.preferences=n.object({allowUnknown:n.boolean(),abortEarly:n.boolean(),artifacts:n.boolean(),cache:n.boolean(),context:n.object(),convert:n.boolean(),dateFormat:n.valid("date","iso","string","time","utc"),debug:n.boolean(),errors:{escapeHtml:n.boolean(),label:n.valid("path","key",!1),language:[n.string(),n.object().ref()],render:n.boolean(),stack:n.boolean(),wrap:{label:i.wrap,array:i.wrap}},externals:n.boolean(),messages:n.object(),noDefaults:n.boolean(),nonEnumerables:n.boolean(),presence:n.valid("required","optional","forbidden"),skipFunctions:n.boolean(),stripUnknown:n.object({arrays:n.boolean(),objects:n.boolean()}).or("arrays","objects").allow(!0,!1),warnings:n.boolean()}).strict(),i.nameRx=/^[a-zA-Z0-9]\w*$/,i.rule=n.object({alias:n.array().items(n.string().pattern(i.nameRx)).single(),args:n.array().items(n.string(),n.object({name:n.string().pattern(i.nameRx).required(),ref:n.boolean(),assert:n.alternatives([n.function(),n.object().schema()]).conditional("ref",{is:!0,then:n.required()}),normalize:n.function(),message:n.string().when("assert",{is:n.function(),then:n.required()})})),convert:n.boolean(),manifest:n.boolean(),method:n.function().allow(!1),multi:n.boolean(),validate:n.function()}),t.extension=n.object({type:n.alternatives([n.string(),n.object().regex()]).required(),args:n.function(),cast:n.object().pattern(i.nameRx,n.object({from:n.function().maxArity(1).required(),to:n.function().minArity(1).maxArity(2).required()})),base:n.object().schema().when("type",{is:n.object().regex(),then:n.forbidden()}),coerce:[n.function().maxArity(3),n.object({method:n.function().maxArity(3).required(),from:n.array().items(n.string()).single()})],flags:n.object().pattern(i.nameRx,n.object({setter:n.string(),default:n.any()})),manifest:{build:n.function().arity(2)},messages:[n.object(),n.string()],modifiers:n.object().pattern(i.nameRx,n.function().minArity(1).maxArity(2)),overrides:n.object().pattern(i.nameRx,n.function()),prepare:n.function().maxArity(3),rebuild:n.function().arity(1),rules:n.object().pattern(i.nameRx,i.rule),terms:n.object().pattern(i.nameRx,n.object({init:n.array().allow(null).required(),manifest:n.object().pattern(/.+/,[n.valid("schema","single"),n.object({mapped:n.object({from:n.string().required(),to:n.string().required()}).required()})])})),validate:n.function().maxArity(3)}).strict(),t.extensions=n.array().items(n.object(),n.function().arity(1)).strict(),i.desc={buffer:n.object({buffer:n.string()}),func:n.object({function:n.function().required(),options:{literal:!0}}),override:n.object({override:!0}),ref:n.object({ref:n.object({type:n.valid("value","global","local"),path:n.array().required(),separator:n.string().length(1).allow(!1),ancestor:n.number().min(0).integer().allow("root"),map:n.array().items(n.array().length(2)).min(1),adjust:n.function(),iterables:n.boolean(),in:n.boolean(),render:n.boolean()}).required()}),regex:n.object({regex:n.string().min(3)}),special:n.object({special:n.valid("deep").required()}),template:n.object({template:n.string().required(),options:n.object()}),value:n.object({value:n.alternatives([n.object(),n.array()]).required()})},i.desc.entity=n.alternatives([n.array().items(n.link("...")),n.boolean(),n.function(),n.number(),n.string(),i.desc.buffer,i.desc.func,i.desc.ref,i.desc.regex,i.desc.special,i.desc.template,i.desc.value,n.link("/")]),i.desc.values=n.array().items(null,n.boolean(),n.function(),n.number().allow(1/0,-1/0),n.string().allow(""),n.symbol(),i.desc.buffer,i.desc.func,i.desc.override,i.desc.ref,i.desc.regex,i.desc.template,i.desc.value),i.desc.messages=n.object().pattern(/.+/,[n.string(),i.desc.template,n.object().pattern(/.+/,[n.string(),i.desc.template])]),t.description=n.object({type:n.string().required(),flags:n.object({cast:n.string(),default:n.any(),description:n.string(),empty:n.link("/"),failover:i.desc.entity,id:n.string(),label:n.string(),only:!0,presence:["optional","required","forbidden"],result:["raw","strip"],strip:n.boolean(),unit:n.string()}).unknown(),preferences:{allowUnknown:n.boolean(),abortEarly:n.boolean(),artifacts:n.boolean(),cache:n.boolean(),convert:n.boolean(),dateFormat:["date","iso","string","time","utc"],errors:{escapeHtml:n.boolean(),label:["path","key"],language:[n.string(),i.desc.ref],wrap:{label:i.wrap,array:i.wrap}},externals:n.boolean(),messages:i.desc.messages,noDefaults:n.boolean(),nonEnumerables:n.boolean(),presence:["required","optional","forbidden"],skipFunctions:n.boolean(),stripUnknown:n.object({arrays:n.boolean(),objects:n.boolean()}).or("arrays","objects").allow(!0,!1),warnings:n.boolean()},allow:i.desc.values,invalid:i.desc.values,rules:n.array().min(1).items({name:n.string().required(),args:n.object().min(1),keep:n.boolean(),message:[n.string(),i.desc.messages],warn:n.boolean()}),keys:n.object().pattern(/.*/,n.link("/")),link:i.desc.ref}).pattern(/^[a-z]\w*$/,n.any())},function(e,t,r){"use strict";const n=r(0),i=r(2),o=r(1),s=r(9),a={};t.type=function(e,t){const r=Object.getPrototypeOf(e),c=i(r),u=e._assign(Object.create(c)),l=Object.assign({},t);delete l.base,c._definition=l;const f=r._definition||{};l.messages=s.merge(f.messages,l.messages),l.properties=Object.assign({},f.properties,l.properties),u.type=l.type,l.flags=Object.assign({},f.flags,l.flags);const h=Object.assign({},f.terms);if(l.terms)for(const e in l.terms){const t=l.terms[e];n(void 0===u.$_terms[e],"Invalid term override for",l.type,e),u.$_terms[e]=t.init,h[e]=t}l.terms=h,l.args||(l.args=f.args),l.prepare=a.prepare(l.prepare,f.prepare),l.coerce&&("function"==typeof l.coerce&&(l.coerce={method:l.coerce}),l.coerce.from&&!Array.isArray(l.coerce.from)&&(l.coerce={method:l.coerce.method,from:[].concat(l.coerce.from)})),l.coerce=a.coerce(l.coerce,f.coerce),l.validate=a.validate(l.validate,f.validate);const p=Object.assign({},f.rules);if(l.rules)for(const e in l.rules){const t=l.rules[e];n("object"==typeof t,"Invalid rule definition for",l.type,e);let r=t.method;if(void 0===r&&(r=function(){return this.$_addRule(e)}),r&&(n(!c[e],"Rule conflict in",l.type,e),c[e]=r),n(!p[e],"Rule conflict in",l.type,e),p[e]=t,t.alias){const e=[].concat(t.alias);for(const r of e)c[r]=t.method}t.args&&(t.argsByName=new Map,t.args=t.args.map((e=>("string"==typeof e&&(e={name:e}),n(!t.argsByName.has(e.name),"Duplicated argument name",e.name),o.isSchema(e.assert)&&(e.assert=e.assert.strict().label(e.name)),t.argsByName.set(e.name,e),e))))}l.rules=p;const d=Object.assign({},f.modifiers);if(l.modifiers)for(const e in l.modifiers){n(!c[e],"Rule conflict in",l.type,e);const t=l.modifiers[e];n("function"==typeof t,"Invalid modifier definition for",l.type,e);const r=function(t){return this.rule({[e]:t})};c[e]=r,d[e]=t}if(l.modifiers=d,l.overrides){c._super=r,u.$_super={};for(const e in l.overrides)n(r[e],"Cannot override missing",e),l.overrides[e][o.symbols.parent]=r[e],u.$_super[e]=r[e].bind(u);Object.assign(c,l.overrides)}l.cast=Object.assign({},f.cast,l.cast);const m=Object.assign({},f.manifest,l.manifest);return m.build=a.build(l.manifest&&l.manifest.build,f.manifest&&f.manifest.build),l.manifest=m,l.rebuild=a.rebuild(l.rebuild,f.rebuild),u},a.build=function(e,t){return e&&t?function(r,n){return t(e(r,n),n)}:e||t},a.coerce=function(e,t){return e&&t?{from:e.from&&t.from?[...new Set([...e.from,...t.from])]:null,method(r,n){let i;if((!t.from||t.from.includes(typeof r))&&(i=t.method(r,n),i)){if(i.errors||void 0===i.value)return i;r=i.value}if(!e.from||e.from.includes(typeof r)){const t=e.method(r,n);if(t)return t}return i}}:e||t},a.prepare=function(e,t){return e&&t?function(r,n){const i=e(r,n);if(i){if(i.errors||void 0===i.value)return i;r=i.value}return t(r,n)||i}:e||t},a.rebuild=function(e,t){return e&&t?function(r){t(r),e(r)}:e||t},a.validate=function(e,t){return e&&t?function(r,n){const i=t(r,n);if(i){if(i.errors&&(!Array.isArray(i.errors)||i.errors.length))return i;r=i.value}return e(r,n)||i}:e||t}},function(e,t){},function(e,t){},function(e,t,r){"use strict";const n=r(0),i=r(11),o=r(1),s={};e.exports=s.Values=class{constructor(e,t){this._values=new Set(e),this._refs=new Set(t),this._lowercase=s.lowercases(e),this._override=!1}get length(){return this._values.size+this._refs.size}add(e,t){o.isResolvable(e)?this._refs.has(e)||(this._refs.add(e),t&&t.register(e)):this.has(e,null,null,!1)||(this._values.add(e),"string"==typeof e&&this._lowercase.set(e.toLowerCase(),e))}static merge(e,t,r){if(e=e||new s.Values,t){if(t._override)return t.clone();for(const r of[...t._values,...t._refs])e.add(r)}if(r)for(const t of[...r._values,...r._refs])e.remove(t);return e.length?e:null}remove(e){o.isResolvable(e)?this._refs.delete(e):(this._values.delete(e),"string"==typeof e&&this._lowercase.delete(e.toLowerCase()))}has(e,t,r,n){return!!this.get(e,t,r,n)}get(e,t,r,n){if(!this.length)return!1;if(this._values.has(e))return{value:e};if("string"==typeof e&&e&&n){const t=this._lowercase.get(e.toLowerCase());if(t)return{value:t}}if(!this._refs.size&&"object"!=typeof e)return!1;if("object"==typeof e)for(const t of this._values)if(i(t,e))return{value:t};if(t)for(const o of this._refs){const s=o.resolve(e,t,r,null,{in:!0});if(void 0===s)continue;const a=o.in&&"object"==typeof s?Array.isArray(s)?s:Object.keys(s):[s];for(const t of a)if(typeof t==typeof e)if(n&&e&&"string"==typeof e){if(t.toLowerCase()===e.toLowerCase())return{value:t,ref:o}}else if(i(t,e))return{value:t,ref:o}}return!1}override(){this._override=!0}values(e){if(e&&e.display){const e=[];for(const t of[...this._values,...this._refs])void 0!==t&&e.push(t);return e}return Array.from([...this._values,...this._refs])}clone(){const e=new s.Values(this._values,this._refs);return e._override=this._override,e}concat(e){n(!e._override,"Cannot concat override set of values");const t=new s.Values([...this._values,...e._values],[...this._refs,...e._refs]);return t._override=this._override,t}describe(){const e=[];this._override&&e.push({override:!0});for(const t of this._values.values())e.push(t&&"object"==typeof t?{value:t}:t);for(const t of this._refs.values())e.push(t.describe());return e}},s.Values.prototype[o.symbols.values]=!0,s.Values.prototype.slice=s.Values.prototype.clone,s.lowercases=function(e){const t=new Map;if(e)for(const r of e)"string"==typeof r&&t.set(r.toLowerCase(),r);return t}},function(e,t,r){"use strict";const n=r(43),i=r(0),o=r(2),s=r(44),a=r(3),c=r(1),u=r(8),l=r(4),f=r(5),h=r(7),p={renameDefaults:{alias:!1,multiple:!1,override:!1}};e.exports=a.extend({type:"_keys",properties:{typeof:"object"},flags:{unknown:{default:!1}},terms:{dependencies:{init:null},keys:{init:null,manifest:{mapped:{from:"schema",to:"key"}}},patterns:{init:null},renames:{init:null}},args:(e,t)=>e.keys(t),validate(e,{schema:t,error:r,state:n,prefs:i}){if(!e||typeof e!==t.$_property("typeof")||Array.isArray(e))return{value:e,errors:r("object.base",{type:t.$_property("typeof")})};if(!(t.$_terms.renames||t.$_terms.dependencies||t.$_terms.keys||t.$_terms.patterns||t.$_terms.externals))return;e=p.clone(e,i);const o=[];if(t.$_terms.renames&&!p.rename(t,e,n,i,o))return{value:e,errors:o};if(!t.$_terms.keys&&!t.$_terms.patterns&&!t.$_terms.dependencies)return{value:e,errors:o};const s=new Set(Object.keys(e));if(t.$_terms.keys){const r=[e,...n.ancestors];for(const a of t.$_terms.keys){const t=a.key,c=e[t];s.delete(t);const u=n.localize([...n.path,t],r,a),l=a.schema.$_validate(c,u,i);if(l.errors){if(i.abortEarly)return{value:e,errors:l.errors};void 0!==l.value&&(e[t]=l.value),o.push(...l.errors)}else"strip"===a.schema._flags.result||void 0===l.value&&void 0!==c?delete e[t]:void 0!==l.value&&(e[t]=l.value)}}if(s.size||t._flags._hasPatternMatch){const r=p.unknown(t,e,s,o,n,i);if(r)return r}if(t.$_terms.dependencies)for(const r of t.$_terms.dependencies){if(r.key&&void 0===r.key.resolve(e,n,i,null,{shadow:!1}))continue;const s=p.dependencies[r.rel](t,r,e,n,i);if(s){const r=t.$_createError(s.code,e,s.context,n,i);if(i.abortEarly)return{value:e,errors:r};o.push(r)}}return{value:e,errors:o}},rules:{and:{method(...e){return c.verifyFlat(e,"and"),p.dependency(this,"and",null,e)}},append:{method(e){return null==e||0===Object.keys(e).length?this:this.keys(e)}},assert:{method(e,t,r){h.isTemplate(e)||(e=u.ref(e)),i(void 0===r||"string"==typeof r,"Message must be a string"),t=this.$_compile(t,{appendPath:!0});const n=this.$_addRule({name:"assert",args:{subject:e,schema:t,message:r}});return n.$_mutateRegister(e),n.$_mutateRegister(t),n},validate(e,{error:t,prefs:r,state:n},{subject:i,schema:o,message:s}){const a=i.resolve(e,n,r),c=f.isRef(i)?i.absolute(n):[];return o.$_match(a,n.localize(c,[e,...n.ancestors],o),r)?e:t("object.assert",{subject:i,message:s})},args:["subject","schema","message"],multi:!0},instance:{method(e,t){return i("function"==typeof e,"constructor must be a function"),t=t||e.name,this.$_addRule({name:"instance",args:{constructor:e,name:t}})},validate:(e,t,{constructor:r,name:n})=>e instanceof r?e:t.error("object.instance",{type:n,value:e}),args:["constructor","name"]},keys:{method(e){i(void 0===e||"object"==typeof e,"Object schema must be a valid object"),i(!c.isSchema(e),"Object schema cannot be a joi schema");const t=this.clone();if(e)if(Object.keys(e).length){t.$_terms.keys=t.$_terms.keys?t.$_terms.keys.filter((t=>!e.hasOwnProperty(t.key))):new p.Keys;for(const r in e)c.tryWithPath((()=>t.$_terms.keys.push({key:r,schema:this.$_compile(e[r])})),r)}else t.$_terms.keys=new p.Keys;else t.$_terms.keys=null;return t.$_mutateRebuild()}},length:{method(e){return this.$_addRule({name:"length",args:{limit:e},operator:"="})},validate:(e,t,{limit:r},{name:n,operator:i,args:o})=>c.compare(Object.keys(e).length,r,i)?e:t.error("object."+n,{limit:o.limit,value:e}),args:[{name:"limit",ref:!0,assert:c.limit,message:"must be a positive integer"}]},max:{method(e){return this.$_addRule({name:"max",method:"length",args:{limit:e},operator:"<="})}},min:{method(e){return this.$_addRule({name:"min",method:"length",args:{limit:e},operator:">="})}},nand:{method(...e){return c.verifyFlat(e,"nand"),p.dependency(this,"nand",null,e)}},or:{method(...e){return c.verifyFlat(e,"or"),p.dependency(this,"or",null,e)}},oxor:{method(...e){return p.dependency(this,"oxor",null,e)}},pattern:{method(e,t,r={}){const n=e instanceof RegExp;n||(e=this.$_compile(e,{appendPath:!0})),i(void 0!==t,"Invalid rule"),c.assertOptions(r,["fallthrough","matches"]),n&&i(!e.flags.includes("g")&&!e.flags.includes("y"),"pattern should not use global or sticky mode"),t=this.$_compile(t,{appendPath:!0});const o=this.clone();o.$_terms.patterns=o.$_terms.patterns||[];const s={[n?"regex":"schema"]:e,rule:t};return r.matches&&(s.matches=this.$_compile(r.matches),"array"!==s.matches.type&&(s.matches=s.matches.$_root.array().items(s.matches)),o.$_mutateRegister(s.matches),o.$_setFlag("_hasPatternMatch",!0,{clone:!1})),r.fallthrough&&(s.fallthrough=!0),o.$_terms.patterns.push(s),o.$_mutateRegister(t),o}},ref:{method(){return this.$_addRule("ref")},validate:(e,t)=>f.isRef(e)?e:t.error("object.refType",{value:e})},regex:{method(){return this.$_addRule("regex")},validate:(e,t)=>e instanceof RegExp?e:t.error("object.regex",{value:e})},rename:{method(e,t,r={}){i("string"==typeof e||e instanceof RegExp,"Rename missing the from argument"),i("string"==typeof t||t instanceof h,"Invalid rename to argument"),i(t!==e,"Cannot rename key to same name:",e),c.assertOptions(r,["alias","ignoreUndefined","override","multiple"]);const o=this.clone();o.$_terms.renames=o.$_terms.renames||[];for(const t of o.$_terms.renames)i(t.from!==e,"Cannot rename the same key multiple times");return t instanceof h&&o.$_mutateRegister(t),o.$_terms.renames.push({from:e,to:t,options:n(p.renameDefaults,r)}),o}},schema:{method(e="any"){return this.$_addRule({name:"schema",args:{type:e}})},validate:(e,t,{type:r})=>!c.isSchema(e)||"any"!==r&&e.type!==r?t.error("object.schema",{type:r}):e},unknown:{method(e){return this.$_setFlag("unknown",!1!==e)}},with:{method(e,t,r={}){return p.dependency(this,"with",e,t,r)}},without:{method(e,t,r={}){return p.dependency(this,"without",e,t,r)}},xor:{method(...e){return c.verifyFlat(e,"xor"),p.dependency(this,"xor",null,e)}}},overrides:{default(e,t){return void 0===e&&(e=c.symbols.deepDefault),this.$_parent("default",e,t)}},rebuild(e){if(e.$_terms.keys){const t=new s.Sorter;for(const r of e.$_terms.keys)c.tryWithPath((()=>t.add(r,{after:r.schema.$_rootReferences(),group:r.key})),r.key);e.$_terms.keys=new p.Keys(...t.nodes)}},manifest:{build(e,t){if(t.keys&&(e=e.keys(t.keys)),t.dependencies)for(const{rel:r,key:n=null,peers:i,options:o}of t.dependencies)e=p.dependency(e,r,n,i,o);if(t.patterns)for(const{regex:r,schema:n,rule:i,fallthrough:o,matches:s}of t.patterns)e=e.pattern(r||n,i,{fallthrough:o,matches:s});if(t.renames)for(const{from:r,to:n,options:i}of t.renames)e=e.rename(r,n,i);return e}},messages:{"object.and":"{{#label}} contains {{#presentWithLabels}} without its required peers {{#missingWithLabels}}","object.assert":'{{#label}} is invalid because {if(#subject.key, `"` + #subject.key + `" failed to ` + (#message || "pass the assertion test"), #message || "the assertion failed")}',"object.base":"{{#label}} must be of type {{#type}}","object.instance":"{{#label}} must be an instance of {{:#type}}","object.length":'{{#label}} must have {{#limit}} key{if(#limit == 1, "", "s")}',"object.max":'{{#label}} must have less than or equal to {{#limit}} key{if(#limit == 1, "", "s")}',"object.min":'{{#label}} must have at least {{#limit}} key{if(#limit == 1, "", "s")}',"object.missing":"{{#label}} must contain at least one of {{#peersWithLabels}}","object.nand":"{{:#mainWithLabel}} must not exist simultaneously with {{#peersWithLabels}}","object.oxor":"{{#label}} contains a conflict between optional exclusive peers {{#peersWithLabels}}","object.pattern.match":"{{#label}} keys failed to match pattern requirements","object.refType":"{{#label}} must be a Joi reference","object.regex":"{{#label}} must be a RegExp object","object.rename.multiple":"{{#label}} cannot rename {{:#from}} because multiple renames are disabled and another key was already renamed to {{:#to}}","object.rename.override":"{{#label}} cannot rename {{:#from}} because override is disabled and target {{:#to}} exists","object.schema":"{{#label}} must be a Joi schema of {{#type}} type","object.unknown":"{{#label}} is not allowed","object.with":"{{:#mainWithLabel}} missing required peer {{:#peerWithLabel}}","object.without":"{{:#mainWithLabel}} conflict with forbidden peer {{:#peerWithLabel}}","object.xor":"{{#label}} contains a conflict between exclusive peers {{#peersWithLabels}}"}}),p.clone=function(e,t){if("object"==typeof e){if(t.nonEnumerables)return o(e,{shallow:!0});const r=Object.create(Object.getPrototypeOf(e));return Object.assign(r,e),r}const r=function(...t){return e.apply(this,t)};return r.prototype=o(e.prototype),Object.defineProperty(r,"name",{value:e.name,writable:!1}),Object.defineProperty(r,"length",{value:e.length,writable:!1}),Object.assign(r,e),r},p.dependency=function(e,t,r,n,o){i(null===r||"string"==typeof r,t,"key must be a strings"),o||(o=n.length>1&&"object"==typeof n[n.length-1]?n.pop():{}),c.assertOptions(o,["separator"]),n=[].concat(n);const s=c.default(o.separator,"."),a=[];for(const e of n)i("string"==typeof e,t,"peers must be strings"),a.push(u.ref(e,{separator:s,ancestor:0,prefix:!1}));null!==r&&(r=u.ref(r,{separator:s,ancestor:0,prefix:!1}));const l=e.clone();return l.$_terms.dependencies=l.$_terms.dependencies||[],l.$_terms.dependencies.push(new p.Dependency(t,r,a,n)),l},p.dependencies={and(e,t,r,n,i){const o=[],s=[],a=t.peers.length;for(const e of t.peers)void 0===e.resolve(r,n,i,null,{shadow:!1})?o.push(e.key):s.push(e.key);if(o.length!==a&&s.length!==a)return{code:"object.and",context:{present:s,presentWithLabels:p.keysToLabels(e,s),missing:o,missingWithLabels:p.keysToLabels(e,o)}}},nand(e,t,r,n,i){const o=[];for(const e of t.peers)void 0!==e.resolve(r,n,i,null,{shadow:!1})&&o.push(e.key);if(o.length!==t.peers.length)return;const s=t.paths[0],a=t.paths.slice(1);return{code:"object.nand",context:{main:s,mainWithLabel:p.keysToLabels(e,s),peers:a,peersWithLabels:p.keysToLabels(e,a)}}},or(e,t,r,n,i){for(const e of t.peers)if(void 0!==e.resolve(r,n,i,null,{shadow:!1}))return;return{code:"object.missing",context:{peers:t.paths,peersWithLabels:p.keysToLabels(e,t.paths)}}},oxor(e,t,r,n,i){const o=[];for(const e of t.peers)void 0!==e.resolve(r,n,i,null,{shadow:!1})&&o.push(e.key);if(!o.length||1===o.length)return;const s={peers:t.paths,peersWithLabels:p.keysToLabels(e,t.paths)};return s.present=o,s.presentWithLabels=p.keysToLabels(e,o),{code:"object.oxor",context:s}},with(e,t,r,n,i){for(const o of t.peers)if(void 0===o.resolve(r,n,i,null,{shadow:!1}))return{code:"object.with",context:{main:t.key.key,mainWithLabel:p.keysToLabels(e,t.key.key),peer:o.key,peerWithLabel:p.keysToLabels(e,o.key)}}},without(e,t,r,n,i){for(const o of t.peers)if(void 0!==o.resolve(r,n,i,null,{shadow:!1}))return{code:"object.without",context:{main:t.key.key,mainWithLabel:p.keysToLabels(e,t.key.key),peer:o.key,peerWithLabel:p.keysToLabels(e,o.key)}}},xor(e,t,r,n,i){const o=[];for(const e of t.peers)void 0!==e.resolve(r,n,i,null,{shadow:!1})&&o.push(e.key);if(1===o.length)return;const s={peers:t.paths,peersWithLabels:p.keysToLabels(e,t.paths)};return 0===o.length?{code:"object.missing",context:s}:(s.present=o,s.presentWithLabels=p.keysToLabels(e,o),{code:"object.xor",context:s})}},p.keysToLabels=function(e,t){return Array.isArray(t)?t.map((t=>e.$_mapLabels(t))):e.$_mapLabels(t)},p.rename=function(e,t,r,n,i){const o={};for(const s of e.$_terms.renames){const a=[],c="string"!=typeof s.from;if(c)for(const e in t){if(void 0===t[e]&&s.options.ignoreUndefined)continue;if(e===s.to)continue;const r=s.from.exec(e);r&&a.push({from:e,to:s.to,match:r})}else!Object.prototype.hasOwnProperty.call(t,s.from)||void 0===t[s.from]&&s.options.ignoreUndefined||a.push(s);for(const u of a){const a=u.from;let l=u.to;if(l instanceof h&&(l=l.render(t,r,n,u.match)),a!==l){if(!s.options.multiple&&o[l]&&(i.push(e.$_createError("object.rename.multiple",t,{from:a,to:l,pattern:c},r,n)),n.abortEarly))return!1;if(Object.prototype.hasOwnProperty.call(t,l)&&!s.options.override&&!o[l]&&(i.push(e.$_createError("object.rename.override",t,{from:a,to:l,pattern:c},r,n)),n.abortEarly))return!1;void 0===t[a]?delete t[l]:t[l]=t[a],o[l]=!0,s.options.alias||delete t[a]}}}return!0},p.unknown=function(e,t,r,n,i,o){if(e.$_terms.patterns){let s=!1;const a=e.$_terms.patterns.map((e=>{if(e.matches)return s=!0,[]})),c=[t,...i.ancestors];for(const s of r){const u=t[s],l=[...i.path,s];for(let f=0;f<e.$_terms.patterns.length;++f){const h=e.$_terms.patterns[f];if(h.regex){const e=h.regex.test(s);if(i.mainstay.tracer.debug(i,"rule","pattern.".concat(f),e?"pass":"error"),!e)continue}else if(!h.schema.$_match(s,i.nest(h.schema,"pattern.".concat(f)),o))continue;r.delete(s);const p=i.localize(l,c,{schema:h.rule,key:s}),d=h.rule.$_validate(u,p,o);if(d.errors){if(o.abortEarly)return{value:t,errors:d.errors};n.push(...d.errors)}if(h.matches&&a[f].push(s),t[s]=d.value,!h.fallthrough)break}}if(s)for(let r=0;r<a.length;++r){const s=a[r];if(!s)continue;const u=e.$_terms.patterns[r].matches,f=i.localize(i.path,c,u),h=u.$_validate(s,f,o);if(h.errors){const r=l.details(h.errors,{override:!1});r.matches=s;const a=e.$_createError("object.pattern.match",t,r,i,o);if(o.abortEarly)return{value:t,errors:a};n.push(a)}}}if(r.size&&(e.$_terms.keys||e.$_terms.patterns)){if(o.stripUnknown&&!e._flags.unknown||o.skipFunctions){const e=!(!o.stripUnknown||!0!==o.stripUnknown&&!o.stripUnknown.objects);for(const n of r)e?(delete t[n],r.delete(n)):"function"==typeof t[n]&&r.delete(n)}if(!c.default(e._flags.unknown,o.allowUnknown))for(const s of r){const r=i.localize([...i.path,s],[]),a=e.$_createError("object.unknown",t[s],{child:s},r,o,{flags:!1});if(o.abortEarly)return{value:t,errors:a};n.push(a)}}},p.Dependency=class{constructor(e,t,r,n){this.rel=e,this.key=t,this.peers=r,this.paths=n}describe(){const e={rel:this.rel,peers:this.paths};return null!==this.key&&(e.key=this.key.key),"."!==this.peers[0].separator&&(e.options={separator:this.peers[0].separator}),e}},p.Keys=class extends Array{concat(e){const t=this.slice(),r=new Map;for(let e=0;e<t.length;++e)r.set(t[e].key,e);for(const n of e){const e=n.key,i=r.get(e);void 0!==i?t[i]={key:e,schema:t[i].schema.concat(n.schema)}:t.push(n)}return t}}},function(e,t,r){"use strict";const n=r(24),i=r(25),o={minDomainSegments:2,nonAsciiRx:/[^\x00-\x7f]/,domainControlRx:/[\x00-\x20@\:\/]/,tldSegmentRx:/^[a-zA-Z](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,domainSegmentRx:/^[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,URL:n.URL||URL};t.analyze=function(e,t={}){if("string"!=typeof e)throw new Error("Invalid input: domain must be a string");if(!e)return i.code("DOMAIN_NON_EMPTY_STRING");if(e.length>256)return i.code("DOMAIN_TOO_LONG");if(o.nonAsciiRx.test(e)){if(!1===t.allowUnicode)return i.code("DOMAIN_INVALID_UNICODE_CHARS");e=e.normalize("NFC")}if(o.domainControlRx.test(e))return i.code("DOMAIN_INVALID_CHARS");e=o.punycode(e);const r=t.minDomainSegments||o.minDomainSegments,n=e.split(".");if(n.length<r)return i.code("DOMAIN_SEGMENTS_COUNT");if(t.maxDomainSegments&&n.length>t.maxDomainSegments)return i.code("DOMAIN_SEGMENTS_COUNT_MAX");const s=t.tlds;if(s){const e=n[n.length-1].toLowerCase();if(s.deny&&s.deny.has(e)||s.allow&&!s.allow.has(e))return i.code("DOMAIN_FORBIDDEN_TLDS")}for(let e=0;e<n.length;++e){const t=n[e];if(!t.length)return i.code("DOMAIN_EMPTY_SEGMENT");if(t.length>63)return i.code("DOMAIN_LONG_SEGMENT");if(e<n.length-1){if(!o.domainSegmentRx.test(t))return i.code("DOMAIN_INVALID_CHARS")}else if(!o.tldSegmentRx.test(t))return i.code("DOMAIN_INVALID_TLDS_CHARS")}return null},t.isValid=function(e,r){return!t.analyze(e,r)},o.punycode=function(e){try{return new o.URL("http://".concat(e)).host}catch(t){return e}}},function(e,t){},function(e,t,r){"use strict";t.codes={EMPTY_STRING:"Address must be a non-empty string",FORBIDDEN_UNICODE:"Address contains forbidden Unicode characters",MULTIPLE_AT_CHAR:"Address cannot contain more than one @ character",MISSING_AT_CHAR:"Address must contain one @ character",EMPTY_LOCAL:"Address local part cannot be empty",ADDRESS_TOO_LONG:"Address too long",LOCAL_TOO_LONG:"Address local part too long",EMPTY_LOCAL_SEGMENT:"Address local part contains empty dot-separated segment",INVALID_LOCAL_CHARS:"Address local part contains invalid character",DOMAIN_NON_EMPTY_STRING:"Domain must be a non-empty string",DOMAIN_TOO_LONG:"Domain too long",DOMAIN_INVALID_UNICODE_CHARS:"Domain contains forbidden Unicode characters",DOMAIN_INVALID_CHARS:"Domain contains invalid character",DOMAIN_INVALID_TLDS_CHARS:"Domain contains invalid tld character",DOMAIN_SEGMENTS_COUNT:"Domain lacks the minimum required number of segments",DOMAIN_SEGMENTS_COUNT_MAX:"Domain contains too many segments",DOMAIN_FORBIDDEN_TLDS:"Domain uses forbidden TLD",DOMAIN_EMPTY_SEGMENT:"Domain contains empty dot-separated segment",DOMAIN_LONG_SEGMENT:"Domain contains dot-separated segment that is too long"},t.code=function(e){return{code:e,error:t.codes[e]}}},function(e,t,r){"use strict";const n=r(0),i=r(27),o={generate:function(){const e={},t="!\\$&'\\(\\)\\*\\+,;=",r="\\w-\\.~%\\dA-Fa-f"+t+":@",n="["+r+"]",i="(?:0{0,2}\\d|0?[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";e.ipv4address="(?:"+i+"\\.){3}"+i;const o="[\\dA-Fa-f]{1,4}",s="(?:"+o+":"+o+"|"+e.ipv4address+")",a="(?:"+o+":){6}"+s,c="::(?:"+o+":){5}"+s,u="(?:"+o+")?::(?:"+o+":){4}"+s,l="(?:(?:"+o+":){0,1}"+o+")?::(?:"+o+":){3}"+s,f="(?:(?:"+o+":){0,2}"+o+")?::(?:"+o+":){2}"+s,h="(?:(?:"+o+":){0,3}"+o+")?::"+o+":"+s,p="(?:(?:"+o+":){0,4}"+o+")?::"+s;e.ipv4Cidr="(?:\\d|[1-2]\\d|3[0-2])",e.ipv6Cidr="(?:0{0,2}\\d|0?[1-9]\\d|1[01]\\d|12[0-8])",e.ipv6address="(?:"+a+"|"+c+"|"+u+"|"+l+"|"+f+"|"+h+"|"+p+"|(?:(?:[\\dA-Fa-f]{1,4}:){0,5}[\\dA-Fa-f]{1,4})?::[\\dA-Fa-f]{1,4}|(?:(?:[\\dA-Fa-f]{1,4}:){0,6}[\\dA-Fa-f]{1,4})?::)",e.ipvFuture="v[\\dA-Fa-f]+\\.[\\w-\\.~"+t+":]+",e.scheme="[a-zA-Z][a-zA-Z\\d+-\\.]*",e.schemeRegex=new RegExp(e.scheme);const d="[\\w-\\.~%\\dA-Fa-f"+t+":]*",m="(?:\\[(?:"+e.ipv6address+"|"+e.ipvFuture+")\\]|"+e.ipv4address+"|[\\w-\\.~%\\dA-Fa-f!\\$&'\\(\\)\\*\\+,;=]{1,255})",g="(?:"+d+"@)?"+m+"(?::\\d*)?",v="(?:"+d+"@)?("+m+")(?::\\d*)?",y=n+"+",b="(?:\\/[\\w-\\.~%\\dA-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]*)*",w="\\/(?:"+y+b+")?",_=y+b,E="[\\w-\\.~%\\dA-Fa-f!\\$&'\\(\\)\\*\\+,;=@]+"+b;return e.hierPart="(?:(?:\\/\\/"+g+b+")|"+w+"|"+_+"|(?:\\/\\/\\/[\\w-\\.~%\\dA-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]*(?:\\/[\\w-\\.~%\\dA-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]*)*))",e.hierPartCapture="(?:(?:\\/\\/"+v+b+")|"+w+"|"+_+")",e.relativeRef="(?:(?:\\/\\/"+g+b+")|"+w+"|"+E+"|)",e.relativeRefCapture="(?:(?:\\/\\/"+v+b+")|"+w+"|"+E+"|)",e.query="["+r+"\\/\\?]*(?=#|$)",e.queryWithSquareBrackets="["+r+"\\[\\]\\/\\?]*(?=#|$)",e.fragment="["+r+"\\/\\?]*",e}};o.rfc3986=o.generate(),t.ip={v4Cidr:o.rfc3986.ipv4Cidr,v6Cidr:o.rfc3986.ipv6Cidr,ipv4:o.rfc3986.ipv4address,ipv6:o.rfc3986.ipv6address,ipvfuture:o.rfc3986.ipvFuture},o.createRegex=function(e){const t=o.rfc3986,r="(?:\\?"+(e.allowQuerySquareBrackets?t.queryWithSquareBrackets:t.query)+")?(?:#"+t.fragment+")?",s=e.domain?t.relativeRefCapture:t.relativeRef;if(e.relativeOnly)return o.wrap(s+r);let a="";if(e.scheme){n(e.scheme instanceof RegExp||"string"==typeof e.scheme||Array.isArray(e.scheme),"scheme must be a RegExp, String, or Array");const r=[].concat(e.scheme);n(r.length>=1,"scheme must have at least 1 scheme specified");const o=[];for(let e=0;e<r.length;++e){const s=r[e];n(s instanceof RegExp||"string"==typeof s,"scheme at position "+e+" must be a RegExp or String"),s instanceof RegExp?o.push(s.source.toString()):(n(t.schemeRegex.test(s),"scheme at position "+e+" must be a valid scheme"),o.push(i(s)))}a=o.join("|")}const c="(?:"+(a?"(?:"+a+")":t.scheme)+":"+(e.domain?t.hierPartCapture:t.hierPart)+")",u=e.allowRelative?"(?:"+c+"|"+s+")":c;return o.wrap(u+r,a)},o.wrap=function(e,t){return{raw:e="(?=.)(?!https?:/$)".concat(e),regex:new RegExp("^".concat(e,"$")),scheme:t}},o.uriRegex=o.createRegex({}),t.regex=function(e={}){return e.scheme||e.allowRelative||e.relativeOnly||e.allowQuerySquareBrackets||e.domain?o.createRegex(e):o.uriRegex}},function(e,t,r){"use strict";e.exports=function(e){return e.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}},function(e,t,r){"use strict";e.exports=function(...e){try{return JSON.stringify.apply(null,e)}catch(e){return"[Cannot display object: "+e.message+"]"}}},function(e){e.exports=JSON.parse('{"version":"17.4.0"}')},function(e,t,r){"use strict";const n={};e.exports=function(e){if(!e)return"";let t="";for(let r=0;r<e.length;++r){const i=e.charCodeAt(r);n.isSafe(i)?t+=e[r]:t+=n.escapeHtmlChar(i)}return t},n.escapeHtmlChar=function(e){const t=n.namedHtml[e];if(void 0!==t)return t;if(e>=256)return"&#"+e+";";const r=e.toString(16).padStart(2,"0");return"&#x".concat(r,";")},n.isSafe=function(e){return void 0!==n.safeCharCodes[e]},n.namedHtml={38:"&amp;",60:"&lt;",62:"&gt;",34:"&quot;",160:"&nbsp;",162:"&cent;",163:"&pound;",164:"&curren;",169:"&copy;",174:"&reg;"},n.safeCharCodes=function(){const e={};for(let t=32;t<123;++t)(t>=97||t>=65&&t<=90||t>=48&&t<=57||32===t||46===t||44===t||45===t||58===t||95===t)&&(e[t]=null);return e}()},function(e,t,r){"use strict";const n={operators:["!","^","*","/","%","+","-","<","<=",">",">=","==","!=","&&","||","??"],operatorCharacters:["!","^","*","/","%","+","-","<","=",">","&","|","?"],operatorsOrder:[["^"],["*","/","%"],["+","-"],["<","<=",">",">="],["==","!="],["&&"],["||","??"]],operatorsPrefix:["!","n"],literals:{'"':'"',"`":"`","'":"'","[":"]"},numberRx:/^(?:[0-9]*\.?[0-9]*){1}$/,tokenRx:/^[\w\$\#\.\@\:\{\}]+$/,symbol:Symbol("formula"),settings:Symbol("settings")};t.Parser=class{constructor(e,t={}){if(!t[n.settings]&&t.constants)for(const e in t.constants){const r=t.constants[e];if(null!==r&&!["boolean","number","string"].includes(typeof r))throw new Error("Formula constant ".concat(e," contains invalid ").concat(typeof r," value type"))}this.settings=t[n.settings]?t:Object.assign({[n.settings]:!0,constants:{},functions:{}},t),this.single=null,this._parts=null,this._parse(e)}_parse(e){let r=[],i="",o=0,s=!1;const a=e=>{if(o)throw new Error("Formula missing closing parenthesis");const a=r.length?r[r.length-1]:null;if(s||i||e){if(a&&"reference"===a.type&&")"===e)return a.type="function",a.value=this._subFormula(i,a.value),void(i="");if(")"===e){const e=new t.Parser(i,this.settings);r.push({type:"segment",value:e})}else if(s){if("]"===s)return r.push({type:"reference",value:i}),void(i="");r.push({type:"literal",value:i})}else if(n.operatorCharacters.includes(i))a&&"operator"===a.type&&n.operators.includes(a.value+i)?a.value+=i:r.push({type:"operator",value:i});else if(i.match(n.numberRx))r.push({type:"constant",value:parseFloat(i)});else if(void 0!==this.settings.constants[i])r.push({type:"constant",value:this.settings.constants[i]});else{if(!i.match(n.tokenRx))throw new Error("Formula contains invalid token: ".concat(i));r.push({type:"reference",value:i})}i=""}};for(const t of e)s?t===s?(a(),s=!1):i+=t:o?"("===t?(i+=t,++o):")"===t?(--o,o?i+=t:a(t)):i+=t:t in n.literals?s=n.literals[t]:"("===t?(a(),++o):n.operatorCharacters.includes(t)?(a(),i=t,a()):" "!==t?i+=t:a();a(),r=r.map(((e,t)=>"operator"!==e.type||"-"!==e.value||t&&"operator"!==r[t-1].type?e:{type:"operator",value:"n"}));let c=!1;for(const e of r){if("operator"===e.type){if(n.operatorsPrefix.includes(e.value))continue;if(!c)throw new Error("Formula contains an operator in invalid position");if(!n.operators.includes(e.value))throw new Error("Formula contains an unknown operator ".concat(e.value))}else if(c)throw new Error("Formula missing expected operator");c=!c}if(!c)throw new Error("Formula contains invalid trailing operator");1===r.length&&["reference","literal","constant"].includes(r[0].type)&&(this.single={type:"reference"===r[0].type?"reference":"value",value:r[0].value}),this._parts=r.map((e=>{if("operator"===e.type)return n.operatorsPrefix.includes(e.value)?e:e.value;if("reference"!==e.type)return e.value;if(this.settings.tokenRx&&!this.settings.tokenRx.test(e.value))throw new Error("Formula contains invalid reference ".concat(e.value));return this.settings.reference?this.settings.reference(e.value):n.reference(e.value)}))}_subFormula(e,r){const i=this.settings.functions[r];if("function"!=typeof i)throw new Error("Formula contains unknown function ".concat(r));let o=[];if(e){let t="",i=0,s=!1;const a=()=>{if(!t)throw new Error("Formula contains function ".concat(r," with invalid arguments ").concat(e));o.push(t),t=""};for(let r=0;r<e.length;++r){const o=e[r];s?(t+=o,o===s&&(s=!1)):o in n.literals&&!i?(t+=o,s=n.literals[o]):","!==o||i?(t+=o,"("===o?++i:")"===o&&--i):a()}a()}return o=o.map((e=>new t.Parser(e,this.settings))),function(e){const t=[];for(const r of o)t.push(r.evaluate(e));return i.call(e,...t)}}evaluate(e){const t=this._parts.slice();for(let r=t.length-2;r>=0;--r){const i=t[r];if(i&&"operator"===i.type){const o=t[r+1];t.splice(r+1,1);const s=n.evaluate(o,e);t[r]=n.single(i.value,s)}}return n.operatorsOrder.forEach((r=>{for(let i=1;i<t.length-1;)if(r.includes(t[i])){const r=t[i],o=n.evaluate(t[i-1],e),s=n.evaluate(t[i+1],e);t.splice(i,2);const a=n.calculate(r,o,s);t[i-1]=0===a?0:a}else i+=2})),n.evaluate(t[0],e)}},t.Parser.prototype[n.symbol]=!0,n.reference=function(e){return function(t){return t&&void 0!==t[e]?t[e]:null}},n.evaluate=function(e,t){return null===e?null:"function"==typeof e?e(t):e[n.symbol]?e.evaluate(t):e},n.single=function(e,t){if("!"===e)return!t;const r=-t;return 0===r?0:r},n.calculate=function(e,t,r){if("??"===e)return n.exists(t)?t:r;if("string"==typeof t||"string"==typeof r){if("+"===e)return(t=n.exists(t)?t:"")+(n.exists(r)?r:"")}else switch(e){case"^":return Math.pow(t,r);case"*":return t*r;case"/":return t/r;case"%":return t%r;case"+":return t+r;case"-":return t-r}switch(e){case"<":return t<r;case"<=":return t<=r;case">":return t>r;case">=":return t>=r;case"==":return t===r;case"!=":return t!==r;case"&&":return t&&r;case"||":return t||r}return null},n.exists=function(e){return null!=e}},function(e,t){},function(e,t,r){"use strict";const n=r(0),i=r(10),o=r(3),s=r(1),a=r(8),c=r(4),u=r(5),l={};e.exports=o.extend({type:"alternatives",flags:{match:{default:"any"}},terms:{matches:{init:[],register:u.toSibling}},args:(e,...t)=>1===t.length&&Array.isArray(t[0])?e.try(...t[0]):e.try(...t),validate(e,t){const{schema:r,error:n,state:o,prefs:s}=t;if(r._flags.match){const t=[];for(let n=0;n<r.$_terms.matches.length;++n){const i=r.$_terms.matches[n],a=o.nest(i.schema,"match.".concat(n));a.snapshot();const c=i.schema.$_validate(e,a,s);c.errors?a.restore():t.push(c.value)}return 0===t.length?{errors:n("alternatives.any")}:"one"===r._flags.match?1===t.length?{value:t[0]}:{errors:n("alternatives.one")}:t.length!==r.$_terms.matches.length?{errors:n("alternatives.all")}:r.$_terms.matches.reduce(((e,t)=>e&&"object"===t.schema.type),!0)?{value:t.reduce(((e,t)=>i(e,t,{mergeArrays:!1})))}:{value:t[t.length-1]}}const a=[];for(let t=0;t<r.$_terms.matches.length;++t){const n=r.$_terms.matches[t];if(n.schema){const r=o.nest(n.schema,"match.".concat(t));r.snapshot();const i=n.schema.$_validate(e,r,s);if(!i.errors)return i;r.restore(),a.push({schema:n.schema,reports:i.errors});continue}const i=n.ref?n.ref.resolve(e,o,s):e,c=n.is?[n]:n.switch;for(let r=0;r<c.length;++r){const a=c[r],{is:u,then:l,otherwise:f}=a,h="match.".concat(t).concat(n.switch?"."+r:"");if(u.$_match(i,o.nest(u,"".concat(h,".is")),s)){if(l)return l.$_validate(e,o.nest(l,"".concat(h,".then")),s)}else if(f)return f.$_validate(e,o.nest(f,"".concat(h,".otherwise")),s)}}return l.errors(a,t)},rules:{conditional:{method(e,t){n(!this._flags._endedSwitch,"Unreachable condition"),n(!this._flags.match,"Cannot combine match mode",this._flags.match,"with conditional rule"),n(void 0===t.break,"Cannot use break option with alternatives conditional");const r=this.clone(),i=a.when(r,e,t),o=i.is?[i]:i.switch;for(const e of o)if(e.then&&e.otherwise){r.$_setFlag("_endedSwitch",!0,{clone:!1});break}return r.$_terms.matches.push(i),r.$_mutateRebuild()}},match:{method(e){if(n(["any","one","all"].includes(e),"Invalid alternatives match mode",e),"any"!==e)for(const t of this.$_terms.matches)n(t.schema,"Cannot combine match mode",e,"with conditional rules");return this.$_setFlag("match",e)}},try:{method(...e){n(e.length,"Missing alternative schemas"),s.verifyFlat(e,"try"),n(!this._flags._endedSwitch,"Unreachable condition");const t=this.clone();for(const r of e)t.$_terms.matches.push({schema:t.$_compile(r)});return t.$_mutateRebuild()}}},overrides:{label(e){return this.$_parent("label",e).$_modify({each:(t,r)=>"is"!==r.path[0]?t.label(e):void 0,ref:!1})}},rebuild(e){e.$_modify({each:t=>{s.isSchema(t)&&"array"===t.type&&e.$_setFlag("_arrayItems",!0,{clone:!1})}})},manifest:{build(e,t){if(t.matches)for(const r of t.matches){const{schema:t,ref:n,is:i,not:o,then:s,otherwise:a}=r;e=t?e.try(t):n?e.conditional(n,{is:i,then:s,not:o,otherwise:a,switch:r.switch}):e.conditional(i,{then:s,otherwise:a})}return e}},messages:{"alternatives.all":"{{#label}} does not match all of the required types","alternatives.any":"{{#label}} does not match any of the allowed types","alternatives.match":"{{#label}} does not match any of the allowed types","alternatives.one":"{{#label}} matches more than one allowed type","alternatives.types":"{{#label}} must be one of {{#types}}"}}),l.errors=function(e,{error:t,state:r}){if(!e.length)return{errors:t("alternatives.any")};if(1===e.length)return{errors:e[0].reports};const n=new Set,i=[];for(const{reports:o,schema:s}of e){if(o.length>1)return l.unmatched(e,t);const a=o[0];if(a instanceof c.Report==0)return l.unmatched(e,t);if(a.state.path.length!==r.path.length){i.push({type:s.type,report:a});continue}if("any.only"===a.code){for(const e of a.local.valids)n.add(e);continue}const[u,f]=a.code.split(".");"base"===f?n.add(u):i.push({type:s.type,report:a})}return i.length?1===i.length?{errors:i[0].report}:l.unmatched(e,t):{errors:t("alternatives.types",{types:[...n]})}},l.unmatched=function(e,t){const r=[];for(const t of e)r.push(...t.reports);return{errors:t("alternatives.match",c.details(r,{override:!1}))}}},function(e,t,r){"use strict";const n=r(0),i=r(2),o=r(11),s=r(10),a=r(16),c=r(1),u=r(8),l=r(4),f=r(18),h=r(19),p=r(9),d=r(35),m=r(5),g=r(20),v=r(36),y=r(21),b={Base:class{constructor(e){this.type=e,this.$_root=null,this._definition={},this._reset()}_reset(){this._ids=new d.Ids,this._preferences=null,this._refs=new m.Manager,this._cache=null,this._valids=null,this._invalids=null,this._flags={},this._rules=[],this._singleRules=new Map,this.$_terms={},this.$_temp={ruleset:null,whens:{}}}describe(){return n("function"==typeof h.describe,"Manifest functionality disabled"),h.describe(this)}allow(...e){return c.verifyFlat(e,"allow"),this._values(e,"_valids")}alter(e){n(e&&"object"==typeof e&&!Array.isArray(e),"Invalid targets argument"),n(!this._inRuleset(),"Cannot set alterations inside a ruleset");const t=this.clone();t.$_terms.alterations=t.$_terms.alterations||[];for(const r in e){const i=e[r];n("function"==typeof i,"Alteration adjuster for",r,"must be a function"),t.$_terms.alterations.push({target:r,adjuster:i})}return t.$_temp.ruleset=!1,t}artifact(e){return n(void 0!==e,"Artifact cannot be undefined"),n(!this._cache,"Cannot set an artifact with a rule cache"),this.$_setFlag("artifact",e)}cast(e){return n(!1===e||"string"==typeof e,"Invalid to value"),n(!1===e||this._definition.cast[e],"Type",this.type,"does not support casting to",e),this.$_setFlag("cast",!1===e?void 0:e)}default(e,t){return this._default("default",e,t)}description(e){return n(e&&"string"==typeof e,"Description must be a non-empty string"),this.$_setFlag("description",e)}empty(e){const t=this.clone();return void 0!==e&&(e=t.$_compile(e,{override:!1})),t.$_setFlag("empty",e,{clone:!1})}error(e){return n(e,"Missing error"),n(e instanceof Error||"function"==typeof e,"Must provide a valid Error object or a function"),this.$_setFlag("error",e)}example(e,t={}){return n(void 0!==e,"Missing example"),c.assertOptions(t,["override"]),this._inner("examples",e,{single:!0,override:t.override})}external(e,t){return"object"==typeof e&&(n(!t,"Cannot combine options with description"),t=e.description,e=e.method),n("function"==typeof e,"Method must be a function"),n(void 0===t||t&&"string"==typeof t,"Description must be a non-empty string"),this._inner("externals",{method:e,description:t},{single:!0})}failover(e,t){return this._default("failover",e,t)}forbidden(){return this.presence("forbidden")}id(e){return e?(n("string"==typeof e,"id must be a non-empty string"),n(/^[^\.]+$/.test(e),"id cannot contain period character"),this.$_setFlag("id",e)):this.$_setFlag("id",void 0)}invalid(...e){return this._values(e,"_invalids")}label(e){return n(e&&"string"==typeof e,"Label name must be a non-empty string"),this.$_setFlag("label",e)}meta(e){return n(void 0!==e,"Meta cannot be undefined"),this._inner("metas",e,{single:!0})}note(...e){n(e.length,"Missing notes");for(const t of e)n(t&&"string"==typeof t,"Notes must be non-empty strings");return this._inner("notes",e)}only(e=!0){return n("boolean"==typeof e,"Invalid mode:",e),this.$_setFlag("only",e)}optional(){return this.presence("optional")}prefs(e){n(e,"Missing preferences"),n(void 0===e.context,"Cannot override context"),n(void 0===e.externals,"Cannot override externals"),n(void 0===e.warnings,"Cannot override warnings"),n(void 0===e.debug,"Cannot override debug"),c.checkPreferences(e);const t=this.clone();return t._preferences=c.preferences(t._preferences,e),t}presence(e){return n(["optional","required","forbidden"].includes(e),"Unknown presence mode",e),this.$_setFlag("presence",e)}raw(e=!0){return this.$_setFlag("result",e?"raw":void 0)}result(e){return n(["raw","strip"].includes(e),"Unknown result mode",e),this.$_setFlag("result",e)}required(){return this.presence("required")}strict(e){const t=this.clone(),r=void 0!==e&&!e;return t._preferences=c.preferences(t._preferences,{convert:r}),t}strip(e=!0){return this.$_setFlag("result",e?"strip":void 0)}tag(...e){n(e.length,"Missing tags");for(const t of e)n(t&&"string"==typeof t,"Tags must be non-empty strings");return this._inner("tags",e)}unit(e){return n(e&&"string"==typeof e,"Unit name must be a non-empty string"),this.$_setFlag("unit",e)}valid(...e){c.verifyFlat(e,"valid");const t=this.allow(...e);return t.$_setFlag("only",!!t._valids,{clone:!1}),t}when(e,t){const r=this.clone();r.$_terms.whens||(r.$_terms.whens=[]);const i=u.when(r,e,t);if(!["any","link"].includes(r.type)){const e=i.is?[i]:i.switch;for(const t of e)n(!t.then||"any"===t.then.type||t.then.type===r.type,"Cannot combine",r.type,"with",t.then&&t.then.type),n(!t.otherwise||"any"===t.otherwise.type||t.otherwise.type===r.type,"Cannot combine",r.type,"with",t.otherwise&&t.otherwise.type)}return r.$_terms.whens.push(i),r.$_mutateRebuild()}cache(e){n(!this._inRuleset(),"Cannot set caching inside a ruleset"),n(!this._cache,"Cannot override schema cache"),n(void 0===this._flags.artifact,"Cannot cache a rule with an artifact");const t=this.clone();return t._cache=e||a.provider.provision(),t.$_temp.ruleset=!1,t}clone(){const e=Object.create(Object.getPrototypeOf(this));return this._assign(e)}concat(e){n(c.isSchema(e),"Invalid schema object"),n("any"===this.type||"any"===e.type||e.type===this.type,"Cannot merge type",this.type,"with another type:",e.type),n(!this._inRuleset(),"Cannot concatenate onto a schema with open ruleset"),n(!e._inRuleset(),"Cannot concatenate a schema with open ruleset");let t=this.clone();if("any"===this.type&&"any"!==e.type){const r=e.clone();for(const e of Object.keys(t))"type"!==e&&(r[e]=t[e]);t=r}t._ids.concat(e._ids),t._refs.register(e,m.toSibling),t._preferences=t._preferences?c.preferences(t._preferences,e._preferences):e._preferences,t._valids=y.merge(t._valids,e._valids,e._invalids),t._invalids=y.merge(t._invalids,e._invalids,e._valids);for(const r of e._singleRules.keys())t._singleRules.has(r)&&(t._rules=t._rules.filter((e=>e.keep||e.name!==r)),t._singleRules.delete(r));for(const r of e._rules)e._definition.rules[r.method].multi||t._singleRules.set(r.name,r),t._rules.push(r);if(t._flags.empty&&e._flags.empty){t._flags.empty=t._flags.empty.concat(e._flags.empty);const r=Object.assign({},e._flags);delete r.empty,s(t._flags,r)}else if(e._flags.empty){t._flags.empty=e._flags.empty;const r=Object.assign({},e._flags);delete r.empty,s(t._flags,r)}else s(t._flags,e._flags);for(const r in e.$_terms){const n=e.$_terms[r];n?t.$_terms[r]?t.$_terms[r]=t.$_terms[r].concat(n):t.$_terms[r]=n.slice():t.$_terms[r]||(t.$_terms[r]=n)}return this.$_root._tracer&&this.$_root._tracer._combine(t,[this,e]),t.$_mutateRebuild()}extend(e){return n(!e.base,"Cannot extend type with another base"),f.type(this,e)}extract(e){return e=Array.isArray(e)?e:e.split("."),this._ids.reach(e)}fork(e,t){n(!this._inRuleset(),"Cannot fork inside a ruleset");let r=this;for(let n of[].concat(e))n=Array.isArray(n)?n:n.split("."),r=r._ids.fork(n,t,r);return r.$_temp.ruleset=!1,r}rule(e){const t=this._definition;c.assertOptions(e,Object.keys(t.modifiers)),n(!1!==this.$_temp.ruleset,"Cannot apply rules to empty ruleset or the last rule added does not support rule properties");const r=null===this.$_temp.ruleset?this._rules.length-1:this.$_temp.ruleset;n(r>=0&&r<this._rules.length,"Cannot apply rules to empty ruleset");const o=this.clone();for(let s=r;s<o._rules.length;++s){const r=o._rules[s],a=i(r);for(const i in e)t.modifiers[i](a,e[i]),n(a.name===r.name,"Cannot change rule name");o._rules[s]=a,o._singleRules.get(a.name)===r&&o._singleRules.set(a.name,a)}return o.$_temp.ruleset=!1,o.$_mutateRebuild()}get ruleset(){n(!this._inRuleset(),"Cannot start a new ruleset without closing the previous one");const e=this.clone();return e.$_temp.ruleset=e._rules.length,e}get $(){return this.ruleset}tailor(e){e=[].concat(e),n(!this._inRuleset(),"Cannot tailor inside a ruleset");let t=this;if(this.$_terms.alterations)for(const{target:r,adjuster:i}of this.$_terms.alterations)e.includes(r)&&(t=i(t),n(c.isSchema(t),"Alteration adjuster for",r,"failed to return a schema object"));return t=t.$_modify({each:t=>t.tailor(e),ref:!1}),t.$_temp.ruleset=!1,t.$_mutateRebuild()}tracer(){return g.location?g.location(this):this}validate(e,t){return v.entry(e,this,t)}validateAsync(e,t){return v.entryAsync(e,this,t)}$_addRule(e){"string"==typeof e&&(e={name:e}),n(e&&"object"==typeof e,"Invalid options"),n(e.name&&"string"==typeof e.name,"Invalid rule name");for(const t in e)n("_"!==t[0],"Cannot set private rule properties");const t=Object.assign({},e);t._resolve=[],t.method=t.method||t.name;const r=this._definition.rules[t.method],i=t.args;n(r,"Unknown rule",t.method);const o=this.clone();if(i){n(1===Object.keys(i).length||Object.keys(i).length===this._definition.rules[t.name].args.length,"Invalid rule definition for",this.type,t.name);for(const e in i){let s=i[e];if(void 0!==s){if(r.argsByName){const a=r.argsByName.get(e);if(a.ref&&c.isResolvable(s))t._resolve.push(e),o.$_mutateRegister(s);else if(a.normalize&&(s=a.normalize(s),i[e]=s),a.assert){const t=c.validateArg(s,e,a);n(!t,t,"or reference")}}i[e]=s}else delete i[e]}}return r.multi||(o._ruleRemove(t.name,{clone:!1}),o._singleRules.set(t.name,t)),!1===o.$_temp.ruleset&&(o.$_temp.ruleset=null),r.priority?o._rules.unshift(t):o._rules.push(t),o}$_compile(e,t){return u.schema(this.$_root,e,t)}$_createError(e,t,r,n,i,o={}){const s=!1!==o.flags?this._flags:{},a=o.messages?p.merge(this._definition.messages,o.messages):this._definition.messages;return new l.Report(e,t,r,s,a,n,i)}$_getFlag(e){return this._flags[e]}$_getRule(e){return this._singleRules.get(e)}$_mapLabels(e){return e=Array.isArray(e)?e:e.split("."),this._ids.labels(e)}$_match(e,t,r,n){(r=Object.assign({},r)).abortEarly=!0,r._externals=!1,t.snapshot();const i=!v.validate(e,this,t,r,n).errors;return t.restore(),i}$_modify(e){return c.assertOptions(e,["each","once","ref","schema"]),d.schema(this,e)||this}$_mutateRebuild(){return n(!this._inRuleset(),"Cannot add this rule inside a ruleset"),this._refs.reset(),this._ids.reset(),this.$_modify({each:(e,{source:t,name:r,path:n,key:i})=>{const o=this._definition[t][r]&&this._definition[t][r].register;!1!==o&&this.$_mutateRegister(e,{family:o,key:i})}}),this._definition.rebuild&&this._definition.rebuild(this),this.$_temp.ruleset=!1,this}$_mutateRegister(e,{family:t,key:r}={}){this._refs.register(e,t),this._ids.register(e,{key:r})}$_property(e){return this._definition.properties[e]}$_reach(e){return this._ids.reach(e)}$_rootReferences(){return this._refs.roots()}$_setFlag(e,t,r={}){n("_"===e[0]||!this._inRuleset(),"Cannot set flag inside a ruleset");const i=this._definition.flags[e]||{};if(o(t,i.default)&&(t=void 0),o(t,this._flags[e]))return this;const s=!1!==r.clone?this.clone():this;return void 0!==t?(s._flags[e]=t,s.$_mutateRegister(t)):delete s._flags[e],"_"!==e[0]&&(s.$_temp.ruleset=!1),s}$_parent(e,...t){return this[e][c.symbols.parent].call(this,...t)}$_validate(e,t,r){return v.validate(e,this,t,r)}_assign(e){e.type=this.type,e.$_root=this.$_root,e.$_temp=Object.assign({},this.$_temp),e.$_temp.whens={},e._ids=this._ids.clone(),e._preferences=this._preferences,e._valids=this._valids&&this._valids.clone(),e._invalids=this._invalids&&this._invalids.clone(),e._rules=this._rules.slice(),e._singleRules=i(this._singleRules,{shallow:!0}),e._refs=this._refs.clone(),e._flags=Object.assign({},this._flags),e._cache=null,e.$_terms={};for(const t in this.$_terms)e.$_terms[t]=this.$_terms[t]?this.$_terms[t].slice():null;e.$_super={};for(const t in this.$_super)e.$_super[t]=this._super[t].bind(e);return e}_bare(){const e=this.clone();e._reset();const t=e._definition.terms;for(const r in t){const n=t[r];e.$_terms[r]=n.init}return e.$_mutateRebuild()}_default(e,t,r={}){return c.assertOptions(r,"literal"),n(void 0!==t,"Missing",e,"value"),n("function"==typeof t||!r.literal,"Only function value supports literal option"),"function"==typeof t&&r.literal&&(t={[c.symbols.literal]:!0,literal:t}),this.$_setFlag(e,t)}_generate(e,t,r){if(!this.$_terms.whens)return{schema:this};const n=[],i=[];for(let o=0;o<this.$_terms.whens.length;++o){const s=this.$_terms.whens[o];if(s.concat){n.push(s.concat),i.push("".concat(o,".concat"));continue}const a=s.ref?s.ref.resolve(e,t,r):e,c=s.is?[s]:s.switch,u=i.length;for(let u=0;u<c.length;++u){const{is:l,then:f,otherwise:h}=c[u],p="".concat(o).concat(s.switch?"."+u:"");if(l.$_match(a,t.nest(l,"".concat(p,".is")),r)){if(f){const o=t.localize([...t.path,"".concat(p,".then")],t.ancestors,t.schemas),{schema:s,id:a}=f._generate(e,o,r);n.push(s),i.push("".concat(p,".then").concat(a?"(".concat(a,")"):""));break}}else if(h){const o=t.localize([...t.path,"".concat(p,".otherwise")],t.ancestors,t.schemas),{schema:s,id:a}=h._generate(e,o,r);n.push(s),i.push("".concat(p,".otherwise").concat(a?"(".concat(a,")"):""));break}}if(s.break&&i.length>u)break}const o=i.join(", ");if(t.mainstay.tracer.debug(t,"rule","when",o),!o)return{schema:this};if(!t.mainstay.tracer.active&&this.$_temp.whens[o])return{schema:this.$_temp.whens[o],id:o};let s=this;this._definition.generate&&(s=this._definition.generate(this,e,t,r));for(const e of n)s=s.concat(e);return this.$_root._tracer&&this.$_root._tracer._combine(s,[this,...n]),this.$_temp.whens[o]=s,{schema:s,id:o}}_inner(e,t,r={}){n(!this._inRuleset(),"Cannot set ".concat(e," inside a ruleset"));const i=this.clone();return i.$_terms[e]&&!r.override||(i.$_terms[e]=[]),r.single?i.$_terms[e].push(t):i.$_terms[e].push(...t),i.$_temp.ruleset=!1,i}_inRuleset(){return null!==this.$_temp.ruleset&&!1!==this.$_temp.ruleset}_ruleRemove(e,t={}){if(!this._singleRules.has(e))return this;const r=!1!==t.clone?this.clone():this;r._singleRules.delete(e);const n=[];for(let t=0;t<r._rules.length;++t){const i=r._rules[t];i.name!==e||i.keep?n.push(i):r._inRuleset()&&t<r.$_temp.ruleset&&--r.$_temp.ruleset}return r._rules=n,r}_values(e,t){c.verifyFlat(e,t.slice(1,-1));const r=this.clone(),i=e[0]===c.symbols.override;if(i&&(e=e.slice(1)),!r[t]&&e.length?r[t]=new y:i&&(r[t]=e.length?new y:null,r.$_mutateRebuild()),!r[t])return r;i&&r[t].override();for(const i of e){n(void 0!==i,"Cannot call allow/valid/invalid with undefined"),n(i!==c.symbols.override,"Override must be the first value");const e="_invalids"===t?"_valids":"_invalids";r[e]&&(r[e].remove(i),r[e].length||(n("_valids"===t||!r._flags.only,"Setting invalid value",i,"leaves schema rejecting all values due to previous valid rule"),r[e]=null)),r[t].add(i,r._refs)}return r}}};b.Base.prototype[c.symbols.any]={version:c.version,compile:u.compile,root:"$_root"},b.Base.prototype.isImmutable=!0,b.Base.prototype.deny=b.Base.prototype.invalid,b.Base.prototype.disallow=b.Base.prototype.invalid,b.Base.prototype.equal=b.Base.prototype.valid,b.Base.prototype.exist=b.Base.prototype.required,b.Base.prototype.not=b.Base.prototype.invalid,b.Base.prototype.options=b.Base.prototype.prefs,b.Base.prototype.preferences=b.Base.prototype.prefs,e.exports=new b.Base},function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const s=r(0),a=r(1),c=r(5),u={};t.Ids=u.Ids=class{constructor(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}clone(){const e=new u.Ids;return e._byId=new Map(this._byId),e._byKey=new Map(this._byKey),e._schemaChain=this._schemaChain,e}concat(e){e._schemaChain&&(this._schemaChain=!0);for(const[t,r]of e._byId.entries())s(!this._byKey.has(t),"Schema id conflicts with existing key:",t),this._byId.set(t,r);for(const[t,r]of e._byKey.entries())s(!this._byId.has(t),"Schema key conflicts with existing id:",t),this._byKey.set(t,r)}fork(e,t,r){const n=this._collect(e);n.push({schema:r});const i=n.shift();let o={id:i.id,schema:t(i.schema)};s(a.isSchema(o.schema),"adjuster function failed to return a joi schema type");for(const e of n)o={id:e.id,schema:u.fork(e.schema,o.id,o.schema)};return o.schema}labels(e,t=[]){const r=e[0],n=this._get(r);if(!n)return[...t,...e].join(".");const i=e.slice(1);return t=[...t,n.schema._flags.label||r],i.length?n.schema._ids.labels(i,t):t.join(".")}reach(e,t=[]){const r=e[0],n=this._get(r);s(n,"Schema does not contain path",[...t,...e].join("."));const i=e.slice(1);return i.length?n.schema._ids.reach(i,[...t,r]):n.schema}register(e,{key:t}={}){if(!e||!a.isSchema(e))return;(e.$_property("schemaChain")||e._ids._schemaChain)&&(this._schemaChain=!0);const r=e._flags.id;if(r){const t=this._byId.get(r);s(!t||t.schema===e,"Cannot add different schemas with the same id:",r),s(!this._byKey.has(r),"Schema id conflicts with existing key:",r),this._byId.set(r,{schema:e,id:r})}t&&(s(!this._byKey.has(t),"Schema already contains key:",t),s(!this._byId.has(t),"Schema key conflicts with existing id:",t),this._byKey.set(t,{schema:e,id:t}))}reset(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}_collect(e,t=[],r=[]){const n=e[0],i=this._get(n);s(i,"Schema does not contain path",[...t,...e].join(".")),r=[i,...r];const o=e.slice(1);return o.length?i.schema._ids._collect(o,[...t,n],r):r}_get(e){return this._byId.get(e)||this._byKey.get(e)}},u.fork=function(e,r,n){const i=t.schema(e,{each:(e,{key:t})=>{if(r===(e._flags.id||t))return n},ref:!1});return i?i.$_mutateRebuild():e},t.schema=function(e,t){let r;for(const n in e._flags){if("_"===n[0])continue;const i=u.scan(e._flags[n],{source:"flags",name:n},t);void 0!==i&&(r=r||e.clone(),r._flags[n]=i)}for(let n=0;n<e._rules.length;++n){const i=e._rules[n],o=u.scan(i.args,{source:"rules",name:i.name},t);if(void 0!==o){r=r||e.clone();const t=Object.assign({},i);t.args=o,r._rules[n]=t,r._singleRules.get(i.name)===i&&r._singleRules.set(i.name,t)}}for(const n in e.$_terms){if("_"===n[0])continue;const i=u.scan(e.$_terms[n],{source:"terms",name:n},t);void 0!==i&&(r=r||e.clone(),r.$_terms[n]=i)}return r},u.scan=function(e,t,r,n,o){const s=n||[];if(null===e||"object"!=typeof e)return;let l;if(Array.isArray(e)){for(let n=0;n<e.length;++n){const i="terms"===t.source&&"keys"===t.name&&e[n].key,o=u.scan(e[n],t,r,[n,...s],i);void 0!==o&&(l=l||e.slice(),l[n]=o)}return l}if(!1!==r.schema&&a.isSchema(e)||!1!==r.ref&&c.isRef(e)){const n=r.each(e,i(i({},t),{},{path:s,key:o}));if(n===e)return;return n}for(const n in e){if("_"===n[0])continue;const i=u.scan(e[n],t,r,[n,...s],o);void 0!==i&&(l=l||Object.assign({},e),l[n]=i)}return l}},function(e,t,r){"use strict";const n=r(0),i=r(2),o=r(37),s=r(6),a=r(1),c=r(4),u=r(38),l={result:Symbol("result")};t.entry=function(e,t,r){let i=a.defaults;r&&(n(void 0===r.warnings,"Cannot override warnings preference in synchronous validation"),n(void 0===r.artifacts,"Cannot override artifacts preference in synchronous validation"),i=a.preferences(a.defaults,r));const o=l.entry(e,t,i);n(!o.mainstay.externals.length,"Schema with external rules must use validateAsync()");const s={value:o.value};return o.error&&(s.error=o.error),o.mainstay.warnings.length&&(s.warning=c.details(o.mainstay.warnings)),o.mainstay.debug&&(s.debug=o.mainstay.debug),o.mainstay.artifacts&&(s.artifacts=o.mainstay.artifacts),s},t.entryAsync=async function(e,t,r){let n=a.defaults;r&&(n=a.preferences(a.defaults,r));const i=l.entry(e,t,n),o=i.mainstay;if(i.error)throw o.debug&&(i.error.debug=o.debug),i.error;if(o.externals.length){let e=i.value;for(const{method:t,path:n,label:i}of o.externals){let o,a,c=e;n.length&&(o=n[n.length-1],a=s(e,n.slice(0,-1)),c=a[o]);try{const n=await t(c,{prefs:r});if(void 0===n||n===c)continue;a?a[o]=n:e=n}catch(e){throw e.message+=" (".concat(i,")"),e}}i.value=e}if(!n.warnings&&!n.debug&&!n.artifacts)return i.value;const u={value:i.value};return o.warnings.length&&(u.warning=c.details(o.warnings)),o.debug&&(u.debug=o.debug),o.artifacts&&(u.artifacts=o.artifacts),u},l.entry=function(e,r,n){const{tracer:i,cleanup:o}=l.tracer(r,n),s={externals:[],warnings:[],tracer:i,debug:n.debug?[]:null,links:r._ids._schemaChain?new Map:null},a=r._ids._schemaChain?[{schema:r}]:null,f=new u([],[],{mainstay:s,schemas:a}),h=t.validate(e,r,f,n);o&&r.$_root.untrace();const p=c.process(h.errors,e,n);return{value:h.value,error:p,mainstay:s}},l.tracer=function(e,t){return e.$_root._tracer?{tracer:e.$_root._tracer._register(e)}:t.debug?(n(e.$_root.trace,"Debug mode not supported"),{tracer:e.$_root.trace()._register(e),cleanup:!0}):{tracer:l.ignore}},t.validate=function(e,t,r,n,i={}){if(t.$_terms.whens&&(t=t._generate(e,r,n).schema),t._preferences&&(n=l.prefs(t,n)),t._cache&&n.cache){const n=t._cache.get(e);if(r.mainstay.tracer.debug(r,"validate","cached",!!n),n)return n}const o=(i,o,s)=>t.$_createError(i,e,o,s||r,n),s={original:e,prefs:n,schema:t,state:r,error:o,errorsArray:l.errorsArray,warn:(e,t,n)=>r.mainstay.warnings.push(o(e,t,n)),message:(i,o)=>t.$_createError("custom",e,o,r,n,{messages:i})};r.mainstay.tracer.entry(t,r);const c=t._definition;if(c.prepare&&void 0!==e&&n.convert){const t=c.prepare(e,s);if(t){if(r.mainstay.tracer.value(r,"prepare",e,t.value),t.errors)return l.finalize(t.value,[].concat(t.errors),s);e=t.value}}if(c.coerce&&void 0!==e&&n.convert&&(!c.coerce.from||c.coerce.from.includes(typeof e))){const t=c.coerce.method(e,s);if(t){if(r.mainstay.tracer.value(r,"coerced",e,t.value),t.errors)return l.finalize(t.value,[].concat(t.errors),s);e=t.value}}const u=t._flags.empty;u&&u.$_match(l.trim(e,t),r.nest(u),a.defaults)&&(r.mainstay.tracer.value(r,"empty",e,void 0),e=void 0);const f=i.presence||t._flags.presence||(t._flags._endedSwitch?null:n.presence);if(void 0===e){if("forbidden"===f)return l.finalize(e,null,s);if("required"===f)return l.finalize(e,[t.$_createError("any.required",e,null,r,n)],s);if("optional"===f){if(t._flags.default!==a.symbols.deepDefault)return l.finalize(e,null,s);r.mainstay.tracer.value(r,"default",e,{}),e={}}}else if("forbidden"===f)return l.finalize(e,[t.$_createError("any.unknown",e,null,r,n)],s);const h=[];if(t._valids){const i=t._valids.get(e,r,n,t._flags.insensitive);if(i)return n.convert&&(r.mainstay.tracer.value(r,"valids",e,i.value),e=i.value),r.mainstay.tracer.filter(t,r,"valid",i),l.finalize(e,null,s);if(t._flags.only){const i=t.$_createError("any.only",e,{valids:t._valids.values({display:!0})},r,n);if(n.abortEarly)return l.finalize(e,[i],s);h.push(i)}}if(t._invalids){const i=t._invalids.get(e,r,n,t._flags.insensitive);if(i){r.mainstay.tracer.filter(t,r,"invalid",i);const o=t.$_createError("any.invalid",e,{invalids:t._invalids.values({display:!0})},r,n);if(n.abortEarly)return l.finalize(e,[o],s);h.push(o)}}if(c.validate){const t=c.validate(e,s);if(t&&(r.mainstay.tracer.value(r,"base",e,t.value),e=t.value,t.errors)){if(!Array.isArray(t.errors))return h.push(t.errors),l.finalize(e,h,s);if(t.errors.length)return h.push(...t.errors),l.finalize(e,h,s)}}return t._rules.length?l.rules(e,h,s):l.finalize(e,h,s)},l.rules=function(e,t,r){const{schema:n,state:i,prefs:o}=r;for(const s of n._rules){const c=n._definition.rules[s.method];if(c.convert&&o.convert){i.mainstay.tracer.log(n,i,"rule",s.name,"full");continue}let u,f=s.args;if(s._resolve.length){f=Object.assign({},f);for(const t of s._resolve){const r=c.argsByName.get(t),s=f[t].resolve(e,i,o),l=r.normalize?r.normalize(s):s,h=a.validateArg(l,null,r);if(h){u=n.$_createError("any.ref",s,{arg:t,ref:f[t],reason:h},i,o);break}f[t]=l}}u=u||c.validate(e,r,f,s);const h=l.rule(u,s);if(h.errors){if(i.mainstay.tracer.log(n,i,"rule",s.name,"error"),s.warn){i.mainstay.warnings.push(...h.errors);continue}if(o.abortEarly)return l.finalize(e,h.errors,r);t.push(...h.errors)}else i.mainstay.tracer.log(n,i,"rule",s.name,"pass"),i.mainstay.tracer.value(i,"rule",e,h.value,s.name),e=h.value}return l.finalize(e,t,r)},l.rule=function(e,t){return e instanceof c.Report?(l.error(e,t),{errors:[e],value:null}):Array.isArray(e)&&e[a.symbols.errors]?(e.forEach((e=>l.error(e,t))),{errors:e,value:null}):{errors:null,value:e}},l.error=function(e,t){return t.message&&e._setTemplate(t.message),e},l.finalize=function(e,t,r){t=t||[];const{schema:i,state:o,prefs:s}=r;if(t.length){const n=l.default("failover",void 0,t,r);void 0!==n&&(o.mainstay.tracer.value(o,"failover",e,n),e=n,t=[])}if(t.length&&i._flags.error)if("function"==typeof i._flags.error){t=i._flags.error(t),Array.isArray(t)||(t=[t]);for(const e of t)n(e instanceof Error||e instanceof c.Report,"error() must return an Error object")}else t=[i._flags.error];if(void 0===e){const n=l.default("default",e,t,r);o.mainstay.tracer.value(o,"default",e,n),e=n}if(i._flags.cast&&void 0!==e){const t=i._definition.cast[i._flags.cast];if(t.from(e)){const n=t.to(e,r);o.mainstay.tracer.value(o,"cast",e,n,i._flags.cast),e=n}}if(i.$_terms.externals&&s.externals&&!1!==s._externals)for(const{method:e}of i.$_terms.externals)o.mainstay.externals.push({method:e,path:o.path,label:c.label(i._flags,o,s)});const a={value:e,errors:t.length?t:null};return i._flags.result&&(a.value="strip"===i._flags.result?void 0:r.original,o.mainstay.tracer.value(o,i._flags.result,e,a.value),o.shadow(e,i._flags.result)),i._cache&&!1!==s.cache&&!i._refs.length&&i._cache.set(r.original,a),void 0===e||a.errors||void 0===i._flags.artifact||(o.mainstay.artifacts=o.mainstay.artifacts||new Map,o.mainstay.artifacts.has(i._flags.artifact)||o.mainstay.artifacts.set(i._flags.artifact,[]),o.mainstay.artifacts.get(i._flags.artifact).push(o.path)),a},l.prefs=function(e,t){const r=t===a.defaults;return r&&e._preferences[a.symbols.prefs]?e._preferences[a.symbols.prefs]:(t=a.preferences(t,e._preferences),r&&(e._preferences[a.symbols.prefs]=t),t)},l.default=function(e,t,r,n){const{schema:o,state:s,prefs:c}=n,u=o._flags[e];if(c.noDefaults||void 0===u)return t;if(s.mainstay.tracer.log(o,s,"rule",e,"full"),!u)return u;if("function"==typeof u){const t=u.length?[i(s.ancestors[0]),n]:[];try{return u(...t)}catch(t){return void r.push(o.$_createError("any.".concat(e),null,{error:t},s,c))}}return"object"!=typeof u?u:u[a.symbols.literal]?u.literal:a.isResolvable(u)?u.resolve(t,s,c):i(u)},l.trim=function(e,t){if("string"!=typeof e)return e;const r=t.$_getRule("trim");return r&&r.args.enabled?e.trim():e},l.ignore={active:!1,debug:o,entry:o,filter:o,log:o,resolve:o,value:o},l.errorsArray=function(){const e=[];return e[a.symbols.errors]=!0,e}},function(e,t,r){"use strict";e.exports=function(){}},function(e,t,r){"use strict";const n=r(2),i=r(6),o=r(1),s={value:Symbol("value")};e.exports=s.State=class{constructor(e,t,r){this.path=e,this.ancestors=t,this.mainstay=r.mainstay,this.schemas=r.schemas,this.debug=null}localize(e,t=null,r=null){const n=new s.State(e,t,this);return r&&n.schemas&&(n.schemas=[s.schemas(r),...n.schemas]),n}nest(e,t){const r=new s.State(this.path,this.ancestors,this);return r.schemas=r.schemas&&[s.schemas(e),...r.schemas],r.debug=t,r}shadow(e,t){this.mainstay.shadow=this.mainstay.shadow||new s.Shadow,this.mainstay.shadow.set(this.path,e,t)}snapshot(){this.mainstay.shadow&&(this._snapshot=n(this.mainstay.shadow.node(this.path)))}restore(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0)}},s.schemas=function(e){return o.isSchema(e)?{schema:e}:e},s.Shadow=class{constructor(){this._values=null}set(e,t,r){if(!e.length)return;if("strip"===r&&"number"==typeof e[e.length-1])return;this._values=this._values||new Map;let n=this._values;for(let t=0;t<e.length;++t){const r=e[t];let i=n.get(r);i||(i=new Map,n.set(r,i)),n=i}n[s.value]=t}get(e){const t=this.node(e);if(t)return t[s.value]}node(e){if(this._values)return i(this._values,e,{iterables:!0})}override(e,t){if(!this._values)return;const r=e.slice(0,-1),n=e[e.length-1],o=i(this._values,r,{iterables:!0});t?o.set(n,t):o&&o.delete(n)}}},function(e,t,r){"use strict";const n=r(0),i=r(11),o=r(6),s=r(3),a=r(1),c=r(8),u={};e.exports=s.extend({type:"array",flags:{single:{default:!1},sparse:{default:!1}},terms:{items:{init:[],manifest:"schema"},ordered:{init:[],manifest:"schema"},_exclusions:{init:[]},_inclusions:{init:[]},_requireds:{init:[]}},coerce:{from:"object",method(e,{schema:t,state:r,prefs:n}){if(!Array.isArray(e))return;const i=t.$_getRule("sort");return i?u.sort(t,e,i.args.options,r,n):void 0}},validate(e,{schema:t,error:r}){if(!Array.isArray(e)){if(t._flags.single){const t=[e];return t[a.symbols.arraySingle]=!0,{value:t}}return{errors:r("array.base")}}if(t.$_getRule("items")||t.$_terms.externals)return{value:e.slice()}},rules:{has:{method(e){e=this.$_compile(e,{appendPath:!0});const t=this.$_addRule({name:"has",args:{schema:e}});return t.$_mutateRegister(e),t},validate(e,{state:t,prefs:r,error:n},{schema:i}){const o=[e,...t.ancestors];for(let n=0;n<e.length;++n){const s=t.localize([...t.path,n],o,i);if(i.$_match(e[n],s,r))return e}const s=i._flags.label;return s?n("array.hasKnown",{patternLabel:s}):n("array.hasUnknown",null)},multi:!0},items:{method(...e){a.verifyFlat(e,"items");const t=this.$_addRule("items");for(let r=0;r<e.length;++r){const n=a.tryWithPath((()=>this.$_compile(e[r])),r,{append:!0});t.$_terms.items.push(n)}return t.$_mutateRebuild()},validate(e,{schema:t,error:r,state:n,prefs:i,errorsArray:o}){const s=t.$_terms._requireds.slice(),c=t.$_terms.ordered.slice(),l=[...t.$_terms._inclusions,...s],f=!e[a.symbols.arraySingle];delete e[a.symbols.arraySingle];const h=o();let p=e.length;for(let o=0;o<p;++o){const a=e[o];let d=!1,m=!1;const g=f?o:new Number(o),v=[...n.path,g];if(!t._flags.sparse&&void 0===a){if(h.push(r("array.sparse",{key:g,path:v,pos:o,value:void 0},n.localize(v))),i.abortEarly)return h;c.shift();continue}const y=[e,...n.ancestors];for(const e of t.$_terms._exclusions)if(e.$_match(a,n.localize(v,y,e),i,{presence:"ignore"})){if(h.push(r("array.excludes",{pos:o,value:a},n.localize(v))),i.abortEarly)return h;d=!0,c.shift();break}if(d)continue;if(t.$_terms.ordered.length){if(c.length){const s=c.shift(),l=s.$_validate(a,n.localize(v,y,s),i);if(l.errors){if(h.push(...l.errors),i.abortEarly)return h}else if("strip"===s._flags.result)u.fastSplice(e,o),--o,--p;else{if(!t._flags.sparse&&void 0===l.value){if(h.push(r("array.sparse",{key:g,path:v,pos:o,value:void 0},n.localize(v))),i.abortEarly)return h;continue}e[o]=l.value}continue}if(!t.$_terms.items.length){if(h.push(r("array.orderedLength",{pos:o,limit:t.$_terms.ordered.length})),i.abortEarly)return h;break}}const b=[];let w=s.length;for(let c=0;c<w;++c){const l=n.localize(v,y,s[c]);l.snapshot();const f=s[c].$_validate(a,l,i);if(b[c]=f,!f.errors){if(e[o]=f.value,m=!0,u.fastSplice(s,c),--c,--w,!t._flags.sparse&&void 0===f.value&&(h.push(r("array.sparse",{key:g,path:v,pos:o,value:void 0},n.localize(v))),i.abortEarly))return h;break}l.restore()}if(m)continue;const _=i.stripUnknown&&!!i.stripUnknown.arrays||!1;w=l.length;for(const c of l){let l;const f=s.indexOf(c);if(-1!==f)l=b[f];else{const s=n.localize(v,y,c);if(s.snapshot(),l=c.$_validate(a,s,i),!l.errors){"strip"===c._flags.result?(u.fastSplice(e,o),--o,--p):t._flags.sparse||void 0!==l.value?e[o]=l.value:(h.push(r("array.sparse",{key:g,path:v,pos:o,value:void 0},n.localize(v))),d=!0),m=!0;break}s.restore()}if(1===w){if(_){u.fastSplice(e,o),--o,--p,m=!0;break}if(h.push(...l.errors),i.abortEarly)return h;d=!0;break}}if(!d&&t.$_terms._inclusions.length&&!m){if(_){u.fastSplice(e,o),--o,--p;continue}if(h.push(r("array.includes",{pos:o,value:a},n.localize(v))),i.abortEarly)return h}}return s.length&&u.fillMissedErrors(t,h,s,e,n,i),c.length&&(u.fillOrderedErrors(t,h,c,e,n,i),h.length||u.fillDefault(c,e,n,i)),h.length?h:e},priority:!0,manifest:!1},length:{method(e){return this.$_addRule({name:"length",args:{limit:e},operator:"="})},validate:(e,t,{limit:r},{name:n,operator:i,args:o})=>a.compare(e.length,r,i)?e:t.error("array."+n,{limit:o.limit,value:e}),args:[{name:"limit",ref:!0,assert:a.limit,message:"must be a positive integer"}]},max:{method(e){return this.$_addRule({name:"max",method:"length",args:{limit:e},operator:"<="})}},min:{method(e){return this.$_addRule({name:"min",method:"length",args:{limit:e},operator:">="})}},ordered:{method(...e){a.verifyFlat(e,"ordered");const t=this.$_addRule("items");for(let r=0;r<e.length;++r){const n=a.tryWithPath((()=>this.$_compile(e[r])),r,{append:!0});u.validateSingle(n,t),t.$_mutateRegister(n),t.$_terms.ordered.push(n)}return t.$_mutateRebuild()}},single:{method(e){const t=void 0===e||!!e;return n(!t||!this._flags._arrayItems,"Cannot specify single rule when array has array items"),this.$_setFlag("single",t)}},sort:{method(e={}){a.assertOptions(e,["by","order"]);const t={order:e.order||"ascending"};return e.by&&(t.by=c.ref(e.by,{ancestor:0}),n(!t.by.ancestor,"Cannot sort by ancestor")),this.$_addRule({name:"sort",args:{options:t}})},validate(e,{error:t,state:r,prefs:n,schema:i},{options:o}){const{value:s,errors:a}=u.sort(i,e,o,r,n);if(a)return a;for(let r=0;r<e.length;++r)if(e[r]!==s[r])return t("array.sort",{order:o.order,by:o.by?o.by.key:"value"});return e},convert:!0},sparse:{method(e){const t=void 0===e||!!e;return this._flags.sparse===t?this:(t?this.clone():this.$_addRule("items")).$_setFlag("sparse",t,{clone:!1})}},unique:{method(e,t={}){n(!e||"function"==typeof e||"string"==typeof e,"comparator must be a function or a string"),a.assertOptions(t,["ignoreUndefined","separator"]);const r={name:"unique",args:{options:t,comparator:e}};if(e)if("string"==typeof e){const n=a.default(t.separator,".");r.path=n?e.split(n):[e]}else r.comparator=e;return this.$_addRule(r)},validate(e,{state:t,error:r,schema:s},{comparator:a,options:c},{comparator:u,path:l}){const f={string:Object.create(null),number:Object.create(null),undefined:Object.create(null),boolean:Object.create(null),object:new Map,function:new Map,custom:new Map},h=u||i,p=c.ignoreUndefined;for(let i=0;i<e.length;++i){const s=l?o(e[i],l):e[i],c=u?f.custom:f[typeof s];if(n(c,"Failed to find unique map container for type",typeof s),c instanceof Map){const n=c.entries();let o;for(;!(o=n.next()).done;)if(h(o.value[0],s)){const n=t.localize([...t.path,i],[e,...t.ancestors]),s={pos:i,value:e[i],dupePos:o.value[1],dupeValue:e[o.value[1]]};return l&&(s.path=a),r("array.unique",s,n)}c.set(s,i)}else{if((!p||void 0!==s)&&void 0!==c[s]){const n={pos:i,value:e[i],dupePos:c[s],dupeValue:e[c[s]]};return l&&(n.path=a),r("array.unique",n,t.localize([...t.path,i],[e,...t.ancestors]))}c[s]=i}}return e},args:["comparator","options"],multi:!0}},cast:{set:{from:Array.isArray,to:(e,t)=>new Set(e)}},rebuild(e){e.$_terms._inclusions=[],e.$_terms._exclusions=[],e.$_terms._requireds=[];for(const t of e.$_terms.items)u.validateSingle(t,e),"required"===t._flags.presence?e.$_terms._requireds.push(t):"forbidden"===t._flags.presence?e.$_terms._exclusions.push(t):e.$_terms._inclusions.push(t);for(const t of e.$_terms.ordered)u.validateSingle(t,e)},manifest:{build:(e,t)=>(t.items&&(e=e.items(...t.items)),t.ordered&&(e=e.ordered(...t.ordered)),e)},messages:{"array.base":"{{#label}} must be an array","array.excludes":"{{#label}} contains an excluded value","array.hasKnown":"{{#label}} does not contain at least one required match for type {:#patternLabel}","array.hasUnknown":"{{#label}} does not contain at least one required match","array.includes":"{{#label}} does not match any of the allowed types","array.includesRequiredBoth":"{{#label}} does not contain {{#knownMisses}} and {{#unknownMisses}} other required value(s)","array.includesRequiredKnowns":"{{#label}} does not contain {{#knownMisses}}","array.includesRequiredUnknowns":"{{#label}} does not contain {{#unknownMisses}} required value(s)","array.length":"{{#label}} must contain {{#limit}} items","array.max":"{{#label}} must contain less than or equal to {{#limit}} items","array.min":"{{#label}} must contain at least {{#limit}} items","array.orderedLength":"{{#label}} must contain at most {{#limit}} items","array.sort":"{{#label}} must be sorted in {#order} order by {{#by}}","array.sort.mismatching":"{{#label}} cannot be sorted due to mismatching types","array.sort.unsupported":"{{#label}} cannot be sorted due to unsupported type {#type}","array.sparse":"{{#label}} must not be a sparse array item","array.unique":"{{#label}} contains a duplicate value"}}),u.fillMissedErrors=function(e,t,r,n,i,o){const s=[];let a=0;for(const e of r){const t=e._flags.label;t?s.push(t):++a}s.length?a?t.push(e.$_createError("array.includesRequiredBoth",n,{knownMisses:s,unknownMisses:a},i,o)):t.push(e.$_createError("array.includesRequiredKnowns",n,{knownMisses:s},i,o)):t.push(e.$_createError("array.includesRequiredUnknowns",n,{unknownMisses:a},i,o))},u.fillOrderedErrors=function(e,t,r,n,i,o){const s=[];for(const e of r)"required"===e._flags.presence&&s.push(e);s.length&&u.fillMissedErrors(e,t,s,n,i,o)},u.fillDefault=function(e,t,r,n){const i=[];let o=!0;for(let s=e.length-1;s>=0;--s){const a=e[s],c=[t,...r.ancestors],u=a.$_validate(void 0,r.localize(r.path,c,a),n).value;if(o){if(void 0===u)continue;o=!1}i.unshift(u)}i.length&&t.push(...i)},u.fastSplice=function(e,t){let r=t;for(;r<e.length;)e[r++]=e[r];--e.length},u.validateSingle=function(e,t){("array"===e.type||e._flags._arrayItems)&&(n(!t._flags.single,"Cannot specify array item with single rule enabled"),t.$_setFlag("_arrayItems",!0,{clone:!1}))},u.sort=function(e,t,r,n,i){const o="ascending"===r.order?1:-1,s=-1*o,a=o,c=(c,l)=>{let f=u.compare(c,l,s,a);if(null!==f)return f;if(r.by&&(c=r.by.resolve(c,n,i),l=r.by.resolve(l,n,i)),f=u.compare(c,l,s,a),null!==f)return f;const h=typeof c;if(h!==typeof l)throw e.$_createError("array.sort.mismatching",t,null,n,i);if("number"!==h&&"string"!==h)throw e.$_createError("array.sort.unsupported",t,{type:h},n,i);return"number"===h?(c-l)*o:c<l?s:a};try{return{value:t.slice().sort(c)}}catch(e){return{errors:e}}},u.compare=function(e,t,r,n){return e===t?0:void 0===e?1:void 0===t?-1:null===e?n:null===t?r:null}},function(e,t,r){"use strict";const n=r(0),i=r(3),o=r(1),s=r(21),a={isBool:function(e){return"boolean"==typeof e}};e.exports=i.extend({type:"boolean",flags:{sensitive:{default:!1}},terms:{falsy:{init:null,manifest:"values"},truthy:{init:null,manifest:"values"}},coerce(e,{schema:t}){if("boolean"!=typeof e){if("string"==typeof e){const r=t._flags.sensitive?e:e.toLowerCase();e="true"===r||"false"!==r&&e}return"boolean"!=typeof e&&(e=t.$_terms.truthy&&t.$_terms.truthy.has(e,null,null,!t._flags.sensitive)||(!t.$_terms.falsy||!t.$_terms.falsy.has(e,null,null,!t._flags.sensitive))&&e),{value:e}}},validate(e,{error:t}){if("boolean"!=typeof e)return{value:e,errors:t("boolean.base")}},rules:{truthy:{method(...e){o.verifyFlat(e,"truthy");const t=this.clone();t.$_terms.truthy=t.$_terms.truthy||new s;for(let r=0;r<e.length;++r){const i=e[r];n(void 0!==i,"Cannot call truthy with undefined"),t.$_terms.truthy.add(i)}return t}},falsy:{method(...e){o.verifyFlat(e,"falsy");const t=this.clone();t.$_terms.falsy=t.$_terms.falsy||new s;for(let r=0;r<e.length;++r){const i=e[r];n(void 0!==i,"Cannot call falsy with undefined"),t.$_terms.falsy.add(i)}return t}},sensitive:{method(e=!0){return this.$_setFlag("sensitive",e)}}},cast:{number:{from:a.isBool,to:(e,t)=>e?1:0},string:{from:a.isBool,to:(e,t)=>e?"true":"false"}},manifest:{build:(e,t)=>(t.truthy&&(e=e.truthy(...t.truthy)),t.falsy&&(e=e.falsy(...t.falsy)),e)},messages:{"boolean.base":"{{#label}} must be a boolean"}})},function(e,t,r){"use strict";const n=r(0),i=r(3),o=r(1),s=r(7),a={isDate:function(e){return e instanceof Date}};e.exports=i.extend({type:"date",coerce:{from:["number","string"],method:(e,{schema:t})=>({value:a.parse(e,t._flags.format)||e})},validate(e,{schema:t,error:r,prefs:n}){if(e instanceof Date&&!isNaN(e.getTime()))return;const i=t._flags.format;return n.convert&&i&&"string"==typeof e?{value:e,errors:r("date.format",{format:i})}:{value:e,errors:r("date.base")}},rules:{compare:{method:!1,validate(e,t,{date:r},{name:n,operator:i,args:s}){const a="now"===r?Date.now():r.getTime();return o.compare(e.getTime(),a,i)?e:t.error("date."+n,{limit:s.date,value:e})},args:[{name:"date",ref:!0,normalize:e=>"now"===e?e:a.parse(e),assert:e=>null!==e,message:"must have a valid date format"}]},format:{method(e){return n(["iso","javascript","unix"].includes(e),"Unknown date format",e),this.$_setFlag("format",e)}},greater:{method(e){return this.$_addRule({name:"greater",method:"compare",args:{date:e},operator:">"})}},iso:{method(){return this.format("iso")}},less:{method(e){return this.$_addRule({name:"less",method:"compare",args:{date:e},operator:"<"})}},max:{method(e){return this.$_addRule({name:"max",method:"compare",args:{date:e},operator:"<="})}},min:{method(e){return this.$_addRule({name:"min",method:"compare",args:{date:e},operator:">="})}},timestamp:{method(e="javascript"){return n(["javascript","unix"].includes(e),'"type" must be one of "javascript, unix"'),this.format(e)}}},cast:{number:{from:a.isDate,to:(e,t)=>e.getTime()},string:{from:a.isDate,to:(e,{prefs:t})=>s.date(e,t)}},messages:{"date.base":"{{#label}} must be a valid date","date.format":'{{#label}} must be in {msg("date.format." + #format) || #format} format',"date.greater":"{{#label}} must be greater than {{:#limit}}","date.less":"{{#label}} must be less than {{:#limit}}","date.max":"{{#label}} must be less than or equal to {{:#limit}}","date.min":"{{#label}} must be greater than or equal to {{:#limit}}","date.format.iso":"ISO 8601 date","date.format.javascript":"timestamp or number of milliseconds","date.format.unix":"timestamp or number of seconds"}}),a.parse=function(e,t){if(e instanceof Date)return e;if("string"!=typeof e&&(isNaN(e)||!isFinite(e)))return null;if(/^\s*$/.test(e))return null;if("iso"===t)return o.isIsoDate(e)?a.date(e.toString()):null;const r=e;if("string"==typeof e&&/^[+-]?\d+(\.\d+)?$/.test(e)&&(e=parseFloat(e)),t){if("javascript"===t)return a.date(1*e);if("unix"===t)return a.date(1e3*e);if("string"==typeof r)return null}return a.date(e)},a.date=function(e){const t=new Date(e);return isNaN(t.getTime())?null:t}},function(e,t,r){"use strict";const n=r(0),i=r(22);e.exports=i.extend({type:"function",properties:{typeof:"function"},rules:{arity:{method(e){return n(Number.isSafeInteger(e)&&e>=0,"n must be a positive integer"),this.$_addRule({name:"arity",args:{n:e}})},validate:(e,t,{n:r})=>e.length===r?e:t.error("function.arity",{n:r})},class:{method(){return this.$_addRule("class")},validate:(e,t)=>/^\s*class\s/.test(e.toString())?e:t.error("function.class",{value:e})},minArity:{method(e){return n(Number.isSafeInteger(e)&&e>0,"n must be a strict positive integer"),this.$_addRule({name:"minArity",args:{n:e}})},validate:(e,t,{n:r})=>e.length>=r?e:t.error("function.minArity",{n:r})},maxArity:{method(e){return n(Number.isSafeInteger(e)&&e>=0,"n must be a positive integer"),this.$_addRule({name:"maxArity",args:{n:e}})},validate:(e,t,{n:r})=>e.length<=r?e:t.error("function.maxArity",{n:r})}},messages:{"function.arity":"{{#label}} must have an arity of {{#n}}","function.class":"{{#label}} must be a class","function.maxArity":"{{#label}} must have an arity lesser or equal to {{#n}}","function.minArity":"{{#label}} must have an arity greater or equal to {{#n}}"}})},function(e,t,r){"use strict";const n=r(0),i=r(2),o=r(10),s=r(6),a={};e.exports=function(e,t,r={}){if(n(e&&"object"==typeof e,"Invalid defaults value: must be an object"),n(!t||!0===t||"object"==typeof t,"Invalid source value: must be true, falsy or an object"),n("object"==typeof r,"Invalid options: must be an object"),!t)return null;if(r.shallow)return a.applyToDefaultsWithShallow(e,t,r);const s=i(e);if(!0===t)return s;const c=void 0!==r.nullOverride&&r.nullOverride;return o(s,t,{nullOverride:c,mergeArrays:!1})},a.applyToDefaultsWithShallow=function(e,t,r){const c=r.shallow;n(Array.isArray(c),"Invalid keys");const u=new Map,l=!0===t?null:new Set;for(let r of c){r=Array.isArray(r)?r:r.split(".");const n=s(e,r);n&&"object"==typeof n?u.set(n,l&&s(t,r)||n):l&&l.add(r)}const f=i(e,{},u);if(!l)return f;for(const e of l)a.reachCopy(f,t,e);const h=void 0!==r.nullOverride&&r.nullOverride;return o(f,t,{nullOverride:h,mergeArrays:!1})},a.reachCopy=function(e,t,r){for(const e of r){if(!(e in t))return;const r=t[e];if("object"!=typeof r||null===r)return;t=r}const n=t;let i=e;for(let e=0;e<r.length-1;++e){const t=r[e];"object"!=typeof i[t]&&(i[t]={}),i=i[t]}i[r[r.length-1]]=n}},function(e,t,r){"use strict";const n=r(0),i={};t.Sorter=class{constructor(){this._items=[],this.nodes=[]}add(e,t){const r=[].concat((t=t||{}).before||[]),i=[].concat(t.after||[]),o=t.group||"?",s=t.sort||0;n(!r.includes(o),"Item cannot come before itself: ".concat(o)),n(!r.includes("?"),"Item cannot come before unassociated items"),n(!i.includes(o),"Item cannot come after itself: ".concat(o)),n(!i.includes("?"),"Item cannot come after unassociated items"),Array.isArray(e)||(e=[e]);for(const t of e){const e={seq:this._items.length,sort:s,before:r,after:i,group:o,node:t};this._items.push(e)}const a=this._sort();return n(a,"item","?"!==o?"added into group ".concat(o):"","created a dependencies error"),this.nodes}merge(e){Array.isArray(e)||(e=[e]);for(const t of e)if(t)for(const e of t._items)this._items.push(Object.assign({},e));this._items.sort(i.mergeSort);for(let e=0;e<this._items.length;++e)this._items[e].seq=e;const t=this._sort();return n(t,"merge created a dependencies error"),this.nodes}_sort(){const e={},t=Object.create(null),r=Object.create(null);for(const n of this._items){const i=n.seq,o=n.group;r[o]=r[o]||[],r[o].push(i),e[i]=n.before;for(const e of n.after)t[e]=t[e]||[],t[e].push(i)}for(const t in e){const n=[];for(const i in e[t]){const o=e[t][i];r[o]=r[o]||[],n.push(...r[o])}e[t]=n}for(const n in t)if(r[n])for(const i of r[n])e[i].push(...t[n]);const n={};for(const t in e){const r=e[t];for(const e of r)n[e]=n[e]||[],n[e].push(t)}const i={},o=[];for(let e=0;e<this._items.length;++e){let t=e;if(n[e]){t=null;for(let e=0;e<this._items.length;++e){if(!0===i[e])continue;n[e]||(n[e]=[]);const r=n[e].length;let o=0;for(let t=0;t<r;++t)i[n[e][t]]&&++o;if(o===r){t=e;break}}}null!==t&&(i[t]=!0,o.push(t))}if(o.length!==this._items.length)return!1;const s={};for(const e of this._items)s[e.seq]=e;this._items=[],this.nodes=[];for(const e of o){const t=s[e];this.nodes.push(t.node),this._items.push(t)}return!0}},i.mergeSort=(e,t)=>e.sort===t.sort?0:e.sort<t.sort?-1:1},function(e,t,r){"use strict";const n=r(0),i=r(3),o=r(1),s=r(8),a=r(4),c={};e.exports=i.extend({type:"link",properties:{schemaChain:!0},terms:{link:{init:null,manifest:"single",register:!1}},args:(e,t)=>e.ref(t),validate(e,{schema:t,state:r,prefs:i}){n(t.$_terms.link,"Uninitialized link schema");const o=c.generate(t,e,r,i),s=t.$_terms.link[0].ref;return o.$_validate(e,r.nest(o,"link:".concat(s.display,":").concat(o.type)),i)},generate:(e,t,r,n)=>c.generate(e,t,r,n),rules:{ref:{method(e){n(!this.$_terms.link,"Cannot reinitialize schema"),e=s.ref(e),n("value"===e.type||"local"===e.type,"Invalid reference type:",e.type),n("local"===e.type||"root"===e.ancestor||e.ancestor>0,"Link cannot reference itself");const t=this.clone();return t.$_terms.link=[{ref:e}],t}},relative:{method(e=!0){return this.$_setFlag("relative",e)}}},overrides:{concat(e){n(this.$_terms.link,"Uninitialized link schema"),n(o.isSchema(e),"Invalid schema object"),n("link"!==e.type,"Cannot merge type link with another link");const t=this.clone();return t.$_terms.whens||(t.$_terms.whens=[]),t.$_terms.whens.push({concat:e}),t.$_mutateRebuild()}},manifest:{build:(e,t)=>(n(t.link,"Invalid link description missing link"),e.ref(t.link))}}),c.generate=function(e,t,r,n){let i=r.mainstay.links.get(e);if(i)return i._generate(t,r,n).schema;const o=e.$_terms.link[0].ref,{perspective:s,path:a}=c.perspective(o,r);c.assert(s,"which is outside of schema boundaries",o,e,r,n);try{i=a.length?s.$_reach(a):s}catch(t){c.assert(!1,"to non-existing schema",o,e,r,n)}return c.assert("link"!==i.type,"which is another link",o,e,r,n),e._flags.relative||r.mainstay.links.set(e,i),i._generate(t,r,n).schema},c.perspective=function(e,t){if("local"===e.type){for(const{schema:r,key:n}of t.schemas){if((r._flags.id||n)===e.path[0])return{perspective:r,path:e.path.slice(1)};if(r.$_terms.shared)for(const t of r.$_terms.shared)if(t._flags.id===e.path[0])return{perspective:t,path:e.path.slice(1)}}return{perspective:null,path:null}}return"root"===e.ancestor?{perspective:t.schemas[t.schemas.length-1].schema,path:e.path}:{perspective:t.schemas[e.ancestor]&&t.schemas[e.ancestor].schema,path:e.path}},c.assert=function(e,t,r,i,o,s){e||n(!1,'"'.concat(a.label(i._flags,o,s),'" contains link reference "').concat(r.display,'" ').concat(t))}},function(e,t,r){"use strict";const n=r(0),i=r(3),o=r(1),s={numberRx:/^\s*[+-]?(?:(?:\d+(?:\.\d*)?)|(?:\.\d+))(?:e([+-]?\d+))?\s*$/i,precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/};e.exports=i.extend({type:"number",flags:{unsafe:{default:!1}},coerce:{from:"string",method(e,{schema:t,error:r}){const n=e.match(s.numberRx);if(!n)return;e=e.trim();const i={value:parseFloat(e)};if(0===i.value&&(i.value=0),!t._flags.unsafe)if(e.match(/e/i)){if(s.normalizeExponent("".concat(i.value/Math.pow(10,n[1]),"e").concat(n[1]))!==s.normalizeExponent(e))return i.errors=r("number.unsafe"),i}else{const t=i.value.toString();if(t.match(/e/i))return i;if(t!==s.normalizeDecimal(e))return i.errors=r("number.unsafe"),i}return i}},validate(e,{schema:t,error:r,prefs:n}){if(e===1/0||e===-1/0)return{value:e,errors:r("number.infinity")};if(!o.isNumber(e))return{value:e,errors:r("number.base")};const i={value:e};if(n.convert){const e=t.$_getRule("precision");if(e){const t=Math.pow(10,e.args.limit);i.value=Math.round(i.value*t)/t}}return 0===i.value&&(i.value=0),!t._flags.unsafe&&(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER)&&(i.errors=r("number.unsafe")),i},rules:{compare:{method:!1,validate:(e,t,{limit:r},{name:n,operator:i,args:s})=>o.compare(e,r,i)?e:t.error("number."+n,{limit:s.limit,value:e}),args:[{name:"limit",ref:!0,assert:o.isNumber,message:"must be a number"}]},greater:{method(e){return this.$_addRule({name:"greater",method:"compare",args:{limit:e},operator:">"})}},integer:{method(){return this.$_addRule("integer")},validate:(e,t)=>Math.trunc(e)-e==0?e:t.error("number.integer")},less:{method(e){return this.$_addRule({name:"less",method:"compare",args:{limit:e},operator:"<"})}},max:{method(e){return this.$_addRule({name:"max",method:"compare",args:{limit:e},operator:"<="})}},min:{method(e){return this.$_addRule({name:"min",method:"compare",args:{limit:e},operator:">="})}},multiple:{method(e){return this.$_addRule({name:"multiple",args:{base:e}})},validate:(e,t,{base:r},n)=>e%r==0?e:t.error("number.multiple",{multiple:n.args.base,value:e}),args:[{name:"base",ref:!0,assert:e=>"number"==typeof e&&isFinite(e)&&e>0,message:"must be a positive number"}],multi:!0},negative:{method(){return this.sign("negative")}},port:{method(){return this.$_addRule("port")},validate:(e,t)=>Number.isSafeInteger(e)&&e>=0&&e<=65535?e:t.error("number.port")},positive:{method(){return this.sign("positive")}},precision:{method(e){return n(Number.isSafeInteger(e),"limit must be an integer"),this.$_addRule({name:"precision",args:{limit:e}})},validate(e,t,{limit:r}){const n=e.toString().match(s.precisionRx);return Math.max((n[1]?n[1].length:0)-(n[2]?parseInt(n[2],10):0),0)<=r?e:t.error("number.precision",{limit:r,value:e})},convert:!0},sign:{method(e){return n(["negative","positive"].includes(e),"Invalid sign",e),this.$_addRule({name:"sign",args:{sign:e}})},validate:(e,t,{sign:r})=>"negative"===r&&e<0||"positive"===r&&e>0?e:t.error("number.".concat(r))},unsafe:{method(e=!0){return n("boolean"==typeof e,"enabled must be a boolean"),this.$_setFlag("unsafe",e)}}},cast:{string:{from:e=>"number"==typeof e,to:(e,t)=>e.toString()}},messages:{"number.base":"{{#label}} must be a number","number.greater":"{{#label}} must be greater than {{#limit}}","number.infinity":"{{#label}} cannot be infinity","number.integer":"{{#label}} must be an integer","number.less":"{{#label}} must be less than {{#limit}}","number.max":"{{#label}} must be less than or equal to {{#limit}}","number.min":"{{#label}} must be greater than or equal to {{#limit}}","number.multiple":"{{#label}} must be a multiple of {{#multiple}}","number.negative":"{{#label}} must be a negative number","number.port":"{{#label}} must be a valid port","number.positive":"{{#label}} must be a positive number","number.precision":"{{#label}} must have no more than {{#limit}} decimal places","number.unsafe":"{{#label}} must be a safe number"}}),s.normalizeExponent=function(e){return e.replace(/E/,"e").replace(/\.(\d*[1-9])?0+e/,".$1e").replace(/\.e/,"e").replace(/e\+/,"e").replace(/^\+/,"").replace(/^(-?)0+([1-9])/,"$1$2")},s.normalizeDecimal=function(e){return(e=e.replace(/^\+/,"").replace(/\.0*$/,"").replace(/^(-?)\.([^\.]*)$/,"$10.$2").replace(/^(-?)0+([0-9])/,"$1$2")).includes(".")&&e.endsWith("0")&&(e=e.replace(/0+$/,"")),"-0"===e?"0":e}},function(e,t,r){"use strict";const n=r(22);e.exports=n.extend({type:"object",cast:{map:{from:e=>e&&"object"==typeof e,to:(e,t)=>new Map(Object.entries(e))}}})},function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const s=r(0),a=r(23),c=r(49),u=r(50),l=r(27),f=r(51),h=r(26),p=r(3),d=r(1),m={tlds:f instanceof Set&&{tlds:{allow:f,deny:null}},base64Regex:{true:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}==|[\w\-]{3}=)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/},false:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}(==)?|[\w\-]{3}=?)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/}},dataUriRegex:/^data:[\w+.-]+\/[\w+.-]+;((charset=[\w-]+|base64),)?(.*)$/,hexRegex:/^[a-f0-9]+$/i,ipRegex:u.regex().regex,isoDurationRegex:/^P(?!$)(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?$/,guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5"},guidSeparators:new Set([void 0,!0,!1,"-",":"]),normalizationForms:["NFC","NFD","NFKC","NFKD"]};e.exports=p.extend({type:"string",flags:{insensitive:{default:!1},truncate:{default:!1}},terms:{replacements:{init:null}},coerce:{from:"string",method(e,{schema:t,state:r,prefs:n}){const i=t.$_getRule("normalize");i&&(e=e.normalize(i.args.form));const o=t.$_getRule("case");o&&(e="upper"===o.args.direction?e.toLocaleUpperCase():e.toLocaleLowerCase());const s=t.$_getRule("trim");if(s&&s.args.enabled&&(e=e.trim()),t.$_terms.replacements)for(const r of t.$_terms.replacements)e=e.replace(r.pattern,r.replacement);const a=t.$_getRule("hex");if(a&&a.args.options.byteAligned&&e.length%2!=0&&(e="0".concat(e)),t.$_getRule("isoDate")){const t=m.isoDate(e);t&&(e=t)}if(t._flags.truncate){const i=t.$_getRule("max");if(i){let o=i.args.limit;if(d.isResolvable(o)&&(o=o.resolve(e,r,n),!d.limit(o)))return{value:e,errors:t.$_createError("any.ref",o,{ref:i.args.limit,arg:"limit",reason:"must be a positive integer"},r,n)};e=e.slice(0,o)}}return{value:e}}},validate:(e,{error:t})=>"string"!=typeof e?{value:e,errors:t("string.base")}:""===e?{value:e,errors:t("string.empty")}:void 0,rules:{alphanum:{method(){return this.$_addRule("alphanum")},validate:(e,t)=>/^[a-zA-Z0-9]+$/.test(e)?e:t.error("string.alphanum")},base64:{method(e={}){return d.assertOptions(e,["paddingRequired","urlSafe"]),e=i({urlSafe:!1,paddingRequired:!0},e),s("boolean"==typeof e.paddingRequired,"paddingRequired must be boolean"),s("boolean"==typeof e.urlSafe,"urlSafe must be boolean"),this.$_addRule({name:"base64",args:{options:e}})},validate:(e,t,{options:r})=>m.base64Regex[r.paddingRequired][r.urlSafe].test(e)?e:t.error("string.base64")},case:{method(e){return s(["lower","upper"].includes(e),"Invalid case:",e),this.$_addRule({name:"case",args:{direction:e}})},validate:(e,t,{direction:r})=>"lower"===r&&e===e.toLocaleLowerCase()||"upper"===r&&e===e.toLocaleUpperCase()?e:t.error("string.".concat(r,"case")),convert:!0},creditCard:{method(){return this.$_addRule("creditCard")},validate(e,t){let r=e.length,n=0,i=1;for(;r--;){const t=e.charAt(r)*i;n+=t-9*(t>9),i^=3}return n>0&&n%10==0?e:t.error("string.creditCard")}},dataUri:{method(e={}){return d.assertOptions(e,["paddingRequired"]),e=i({paddingRequired:!0},e),s("boolean"==typeof e.paddingRequired,"paddingRequired must be boolean"),this.$_addRule({name:"dataUri",args:{options:e}})},validate(e,t,{options:r}){const n=e.match(m.dataUriRegex);if(n){if(!n[2])return e;if("base64"!==n[2])return e;if(m.base64Regex[r.paddingRequired].false.test(n[3]))return e}return t.error("string.dataUri")}},domain:{method(e){e&&d.assertOptions(e,["allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);const t=m.addressOptions(e);return this.$_addRule({name:"domain",args:{options:e},address:t})},validate:(e,t,r,{address:n})=>a.isValid(e,n)?e:t.error("string.domain")},email:{method(e={}){d.assertOptions(e,["allowUnicode","ignoreLength","maxDomainSegments","minDomainSegments","multiple","separator","tlds"]),s(void 0===e.multiple||"boolean"==typeof e.multiple,"multiple option must be an boolean");const t=m.addressOptions(e),r=new RegExp("\\s*[".concat(e.separator?l(e.separator):",","]\\s*"));return this.$_addRule({name:"email",args:{options:e},regex:r,address:t})},validate(e,t,{options:r},{regex:n,address:i}){const o=r.multiple?e.split(n):[e],s=[];for(const e of o)c.isValid(e,i)||s.push(e);return s.length?t.error("string.email",{value:e,invalids:s}):e}},guid:{alias:"uuid",method(e={}){d.assertOptions(e,["version","separator"]);let t="";if(e.version){const r=[].concat(e.version);s(r.length>=1,"version must have at least 1 valid version specified");const n=new Set;for(let e=0;e<r.length;++e){const i=r[e];s("string"==typeof i,"version at position "+e+" must be a string");const o=m.guidVersions[i.toLowerCase()];s(o,"version at position "+e+" must be one of "+Object.keys(m.guidVersions).join(", ")),s(!n.has(o),"version at position "+e+" must not be a duplicate"),t+=o,n.add(o)}}s(m.guidSeparators.has(e.separator),'separator must be one of true, false, "-", or ":"');const r=void 0===e.separator?"[:-]?":!0===e.separator?"[:-]":!1===e.separator?"[]?":"\\".concat(e.separator),n=new RegExp("^([\\[{\\(]?)[0-9A-F]{8}(".concat(r,")[0-9A-F]{4}\\2?[").concat(t||"0-9A-F","][0-9A-F]{3}\\2?[").concat(t?"89AB":"0-9A-F","][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$"),"i");return this.$_addRule({name:"guid",args:{options:e},regex:n})},validate(e,t,r,{regex:n}){const i=n.exec(e);return i?m.guidBrackets[i[1]]!==i[i.length-1]?t.error("string.guid"):e:t.error("string.guid")}},hex:{method(e={}){return d.assertOptions(e,["byteAligned"]),e=i({byteAligned:!1},e),s("boolean"==typeof e.byteAligned,"byteAligned must be boolean"),this.$_addRule({name:"hex",args:{options:e}})},validate:(e,t,{options:r})=>m.hexRegex.test(e)?r.byteAligned&&e.length%2!=0?t.error("string.hexAlign"):e:t.error("string.hex")},hostname:{method(){return this.$_addRule("hostname")},validate:(e,t)=>a.isValid(e,{minDomainSegments:1})||m.ipRegex.test(e)?e:t.error("string.hostname")},insensitive:{method(){return this.$_setFlag("insensitive",!0)}},ip:{method(e={}){d.assertOptions(e,["cidr","version"]);const{cidr:t,versions:r,regex:n}=u.regex(e),i=e.version?r:void 0;return this.$_addRule({name:"ip",args:{options:{cidr:t,version:i}},regex:n})},validate:(e,t,{options:r},{regex:n})=>n.test(e)?e:r.version?t.error("string.ipVersion",{value:e,cidr:r.cidr,version:r.version}):t.error("string.ip",{value:e,cidr:r.cidr})},isoDate:{method(){return this.$_addRule("isoDate")},validate:(e,{error:t})=>m.isoDate(e)?e:t("string.isoDate")},isoDuration:{method(){return this.$_addRule("isoDuration")},validate:(e,t)=>m.isoDurationRegex.test(e)?e:t.error("string.isoDuration")},length:{method(e,t){return m.length(this,"length",e,"=",t)},validate(e,t,{limit:r,encoding:n},{name:i,operator:o,args:s}){const a=!n&&e.length;return d.compare(a,r,o)?e:t.error("string."+i,{limit:s.limit,value:e,encoding:n})},args:[{name:"limit",ref:!0,assert:d.limit,message:"must be a positive integer"},"encoding"]},lowercase:{method(){return this.case("lower")}},max:{method(e,t){return m.length(this,"max",e,"<=",t)},args:["limit","encoding"]},min:{method(e,t){return m.length(this,"min",e,">=",t)},args:["limit","encoding"]},normalize:{method(e="NFC"){return s(m.normalizationForms.includes(e),"normalization form must be one of "+m.normalizationForms.join(", ")),this.$_addRule({name:"normalize",args:{form:e}})},validate:(e,{error:t},{form:r})=>e===e.normalize(r)?e:t("string.normalize",{value:e,form:r}),convert:!0},pattern:{alias:"regex",method(e,t={}){s(e instanceof RegExp,"regex must be a RegExp"),s(!e.flags.includes("g")&&!e.flags.includes("y"),"regex should not use global or sticky mode"),"string"==typeof t&&(t={name:t}),d.assertOptions(t,["invert","name"]);const r=["string.pattern",t.invert?".invert":"",t.name?".name":".base"].join("");return this.$_addRule({name:"pattern",args:{regex:e,options:t},errorCode:r})},validate:(e,t,{regex:r,options:n},{errorCode:i})=>r.test(e)^n.invert?e:t.error(i,{name:n.name,regex:r,value:e}),args:["regex","options"],multi:!0},replace:{method(e,t){"string"==typeof e&&(e=new RegExp(l(e),"g")),s(e instanceof RegExp,"pattern must be a RegExp"),s("string"==typeof t,"replacement must be a String");const r=this.clone();return r.$_terms.replacements||(r.$_terms.replacements=[]),r.$_terms.replacements.push({pattern:e,replacement:t}),r}},token:{method(){return this.$_addRule("token")},validate:(e,t)=>/^\w+$/.test(e)?e:t.error("string.token")},trim:{method(e=!0){return s("boolean"==typeof e,"enabled must be a boolean"),this.$_addRule({name:"trim",args:{enabled:e}})},validate:(e,t,{enabled:r})=>r&&e!==e.trim()?t.error("string.trim"):e,convert:!0},truncate:{method(e=!0){return s("boolean"==typeof e,"enabled must be a boolean"),this.$_setFlag("truncate",e)}},uppercase:{method(){return this.case("upper")}},uri:{method(e={}){d.assertOptions(e,["allowRelative","allowQuerySquareBrackets","domain","relativeOnly","scheme"]),e.domain&&d.assertOptions(e.domain,["allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);const{regex:t,scheme:r}=h.regex(e),n=e.domain?m.addressOptions(e.domain):null;return this.$_addRule({name:"uri",args:{options:e},regex:t,domain:n,scheme:r})},validate(e,t,{options:r},{regex:n,domain:i,scheme:o}){if(["http:/","https:/"].includes(e))return t.error("string.uri");const s=n.exec(e);if(s){const n=s[1]||s[2];return!i||r.allowRelative&&!n||a.isValid(n,i)?e:t.error("string.domain",{value:n})}return r.relativeOnly?t.error("string.uriRelativeOnly"):r.scheme?t.error("string.uriCustomScheme",{scheme:o,value:e}):t.error("string.uri")}}},manifest:{build(e,t){if(t.replacements)for(const{pattern:r,replacement:n}of t.replacements)e=e.replace(r,n);return e}},messages:{"string.alphanum":"{{#label}} must only contain alpha-numeric characters","string.base":"{{#label}} must be a string","string.base64":"{{#label}} must be a valid base64 string","string.creditCard":"{{#label}} must be a credit card","string.dataUri":"{{#label}} must be a valid dataUri string","string.domain":"{{#label}} must contain a valid domain name","string.email":"{{#label}} must be a valid email","string.empty":"{{#label}} is not allowed to be empty","string.guid":"{{#label}} must be a valid GUID","string.hex":"{{#label}} must only contain hexadecimal characters","string.hexAlign":"{{#label}} hex decoded representation must be byte aligned","string.hostname":"{{#label}} must be a valid hostname","string.ip":"{{#label}} must be a valid ip address with a {{#cidr}} CIDR","string.ipVersion":"{{#label}} must be a valid ip address of one of the following versions {{#version}} with a {{#cidr}} CIDR","string.isoDate":"{{#label}} must be in iso format","string.isoDuration":"{{#label}} must be a valid ISO 8601 duration","string.length":"{{#label}} length must be {{#limit}} characters long","string.lowercase":"{{#label}} must only contain lowercase characters","string.max":"{{#label}} length must be less than or equal to {{#limit}} characters long","string.min":"{{#label}} length must be at least {{#limit}} characters long","string.normalize":"{{#label}} must be unicode normalized in the {{#form}} form","string.token":"{{#label}} must only contain alpha-numeric and underscore characters","string.pattern.base":"{{#label}} with value {:[.]} fails to match the required pattern: {{#regex}}","string.pattern.name":"{{#label}} with value {:[.]} fails to match the {{#name}} pattern","string.pattern.invert.base":"{{#label}} with value {:[.]} matches the inverted pattern: {{#regex}}","string.pattern.invert.name":"{{#label}} with value {:[.]} matches the inverted {{#name}} pattern","string.trim":"{{#label}} must not have leading or trailing whitespace","string.uri":"{{#label}} must be a valid uri","string.uriCustomScheme":"{{#label}} must be a valid uri with a scheme matching the {{#scheme}} pattern","string.uriRelativeOnly":"{{#label}} must be a valid relative uri","string.uppercase":"{{#label}} must only contain uppercase characters"}}),m.addressOptions=function(e){if(!e)return e;if(s(void 0===e.minDomainSegments||Number.isSafeInteger(e.minDomainSegments)&&e.minDomainSegments>0,"minDomainSegments must be a positive integer"),s(void 0===e.maxDomainSegments||Number.isSafeInteger(e.maxDomainSegments)&&e.maxDomainSegments>0,"maxDomainSegments must be a positive integer"),!1===e.tlds)return e;if(!0===e.tlds||void 0===e.tlds)return s(m.tlds,"Built-in TLD list disabled"),Object.assign({},e,m.tlds);s("object"==typeof e.tlds,"tlds must be true, false, or an object");const t=e.tlds.deny;if(t)return Array.isArray(t)&&(e=Object.assign({},e,{tlds:{deny:new Set(t)}})),s(e.tlds.deny instanceof Set,"tlds.deny must be an array, Set, or boolean"),s(!e.tlds.allow,"Cannot specify both tlds.allow and tlds.deny lists"),m.validateTlds(e.tlds.deny,"tlds.deny"),e;const r=e.tlds.allow;return r?!0===r?(s(m.tlds,"Built-in TLD list disabled"),Object.assign({},e,m.tlds)):(Array.isArray(r)&&(e=Object.assign({},e,{tlds:{allow:new Set(r)}})),s(e.tlds.allow instanceof Set,"tlds.allow must be an array, Set, or boolean"),m.validateTlds(e.tlds.allow,"tlds.allow"),e):e},m.validateTlds=function(e,t){for(const r of e)s(a.isValid(r,{minDomainSegments:1,maxDomainSegments:1}),"".concat(t," must contain valid top level domain names"))},m.isoDate=function(e){if(!d.isIsoDate(e))return null;/.*T.*[+-]\d\d$/.test(e)&&(e+="00");const t=new Date(e);return isNaN(t.getTime())?null:t.toISOString()},m.length=function(e,t,r,n,i){return s(!i||!1,"Invalid encoding:",i),e.$_addRule({name:t,method:"length",args:{limit:r,encoding:i},operator:n})}},function(e,t,r){"use strict";const n=r(24),i=r(23),o=r(25),s={nonAsciiRx:/[^\x00-\x7f]/,encoder:new(n.TextEncoder||TextEncoder)};t.analyze=function(e,t){return s.email(e,t)},t.isValid=function(e,t){return!s.email(e,t)},s.email=function(e,t={}){if("string"!=typeof e)throw new Error("Invalid input: email must be a string");if(!e)return o.code("EMPTY_STRING");const r=!s.nonAsciiRx.test(e);if(!r){if(!1===t.allowUnicode)return o.code("FORBIDDEN_UNICODE");e=e.normalize("NFC")}const n=e.split("@");if(2!==n.length)return n.length>2?o.code("MULTIPLE_AT_CHAR"):o.code("MISSING_AT_CHAR");const[a,c]=n;if(!a)return o.code("EMPTY_LOCAL");if(!t.ignoreLength){if(e.length>254)return o.code("ADDRESS_TOO_LONG");if(s.encoder.encode(a).length>64)return o.code("LOCAL_TOO_LONG")}return s.local(a,r)||i.analyze(c,t)},s.local=function(e,t){const r=e.split(".");for(const e of r){if(!e.length)return o.code("EMPTY_LOCAL_SEGMENT");if(t){if(!s.atextRx.test(e))return o.code("INVALID_LOCAL_CHARS")}else for(const t of e){if(s.atextRx.test(t))continue;const e=s.binary(t);if(!s.atomRx.test(e))return o.code("INVALID_LOCAL_CHARS")}}},s.binary=function(e){return Array.from(s.encoder.encode(e)).map((e=>String.fromCharCode(e))).join("")},s.atextRx=/^[\w!#\$%&'\*\+\-/=\?\^`\{\|\}~]+$/,s.atomRx=new RegExp(["(?:[\\xc2-\\xdf][\\x80-\\xbf])","(?:\\xe0[\\xa0-\\xbf][\\x80-\\xbf])|(?:[\\xe1-\\xec][\\x80-\\xbf]{2})|(?:\\xed[\\x80-\\x9f][\\x80-\\xbf])|(?:[\\xee-\\xef][\\x80-\\xbf]{2})","(?:\\xf0[\\x90-\\xbf][\\x80-\\xbf]{2})|(?:[\\xf1-\\xf3][\\x80-\\xbf]{3})|(?:\\xf4[\\x80-\\x8f][\\x80-\\xbf]{2})"].join("|"))},function(e,t,r){"use strict";const n=r(0),i=r(26);t.regex=function(e={}){n(void 0===e.cidr||"string"==typeof e.cidr,"options.cidr must be a string");const t=e.cidr?e.cidr.toLowerCase():"optional";n(["required","optional","forbidden"].includes(t),"options.cidr must be one of required, optional, forbidden"),n(void 0===e.version||"string"==typeof e.version||Array.isArray(e.version),"options.version must be a string or an array of string");let r=e.version||["ipv4","ipv6","ipvfuture"];Array.isArray(r)||(r=[r]),n(r.length>=1,"options.version must have at least 1 version specified");for(let e=0;e<r.length;++e)n("string"==typeof r[e],"options.version must only contain strings"),r[e]=r[e].toLowerCase(),n(["ipv4","ipv6","ipvfuture"].includes(r[e]),"options.version contains unknown version "+r[e]+" - must be one of ipv4, ipv6, ipvfuture");r=Array.from(new Set(r));const o=r.map((e=>{if("forbidden"===t)return i.ip[e];const r="\\/".concat("ipv4"===e?i.ip.v4Cidr:i.ip.v6Cidr);return"required"===t?"".concat(i.ip[e]).concat(r):"".concat(i.ip[e],"(?:").concat(r,")?")})),s="(?:".concat(o.join("|"),")"),a=new RegExp("^".concat(s,"$"));return{cidr:t,versions:r,regex:a,raw:s}}},function(e,t){},function(e,t,r){"use strict";const n=r(0),i=r(3),o={};o.Map=class extends Map{slice(){return new o.Map(this)}},e.exports=i.extend({type:"symbol",terms:{map:{init:new o.Map}},coerce:{method(e,{schema:t,error:r}){const n=t.$_terms.map.get(e);return n&&(e=n),t._flags.only&&"symbol"!=typeof e?{value:e,errors:r("symbol.map",{map:t.$_terms.map})}:{value:e}}},validate(e,{error:t}){if("symbol"!=typeof e)return{value:e,errors:t("symbol.base")}},rules:{map:{method(e){e&&!e[Symbol.iterator]&&"object"==typeof e&&(e=Object.entries(e)),n(e&&e[Symbol.iterator],"Iterable must be an iterable or object");const t=this.clone(),r=[];for(const i of e){n(i&&i[Symbol.iterator],"Entry must be an iterable");const[e,o]=i;n("object"!=typeof e&&"function"!=typeof e&&"symbol"!=typeof e,"Key must not be of type object, function, or Symbol"),n("symbol"==typeof o,"Value must be a Symbol"),t.$_terms.map.set(e,o),r.push(o)}return t.valid(...r)}}},manifest:{build:(e,t)=>(t.map&&(e=e.map(t.map)),e)},messages:{"symbol.base":"{{#label}} must be a symbol","symbol.map":"{{#label}} must be one of {{#map}}"}})}])},"object"==typeof ai?ai=si():"function"==typeof define&&define.amd?define([],si):"object"==typeof ai?ai.joi=si():oi.joi=si();var ui=t(ai).number().integer(),li=ui.min(1).max(3),fi=ui.min(0).max(4294967295),hi=ui.min(0).max(0x9dff7d32d5dc1),pi=ui.min(1).max(0x9dff7d32d5dc1),di=t(ai).string().regex(/^[A-Z9]+$/),mi=di.allow("").max(27),gi=t(ai).alternatives().try(di.length(81),di.length(90)),vi=t(ai).array().items(t(ai).object({address:gi.required(),tag:mi.required(),value:hi.required()}).unknown()).min(1),yi=t(ai).array().items(t(ai).object({address:gi.required(),balance:pi.required(),keyIndex:fi.required()}).unknown()).min(1),bi=t(ai).object({address:gi.required(),keyIndex:fi.required()}).unknown();function wi(e,t,r){if(!e.s){if(r instanceof _i){if(!r.s)return void(r.o=wi.bind(null,e,t));1&t&&(t=r.s),r=r.v}if(r&&r.then)return void r.then(wi.bind(null,e,t),wi.bind(null,e,2));e.s=t,e.v=r;var n=e.o;n&&n(e)}}var _i=function(){function e(){}return e.prototype.then=function(t,r){var n=new e,i=this.s;if(i){var o=1&i?t:r;if(o){try{wi(n,1,o(this.v))}catch(e){wi(n,2,e)}return n}return this}return this.o=function(e){try{var i=e.v;1&e.s?wi(n,1,t?t(i):i):r?wi(n,1,r(i)):wi(n,2,i)}catch(e){wi(n,2,e)}},n},e}();function Ei(e){return e instanceof _i&&1&e.s}function xi(e,t,r){for(var n;;){var i=e();if(Ei(i)&&(i=i.v),!i)return o;if(i.then){n=0;break}var o=r();if(o&&o.then){if(!Ei(o)){n=1;break}o=o.s}if(t){var s=t();if(s&&s.then&&!Ei(s)){n=2;break}}}var a=new _i,c=wi.bind(null,a,2);function u(n){o=n;do{if(t&&(s=t())&&s.then&&!Ei(s))return void s.then(f).then(void 0,c);if(!(i=e())||Ei(i)&&!i.v)return void wi(a,1,o);if(i.then)return void i.then(l).then(void 0,c);Ei(o=r())&&(o=o.v)}while(!o||!o.then);o.then(u).then(void 0,c)}function l(e){e?(o=r())&&o.then?o.then(u).then(void 0,c):u(o):wi(a,1,o)}function f(){(i=e())?i.then?i.then(l).then(void 0,c):l(i):wi(a,1,o)}return(0===n?i.then(l):1===n?o.then(u):s.then(f)).then(void 0,c),a}var Si="undefined"!=typeof Symbol?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator",Ai="9".repeat(27),Ri=function(){function e(e){e.decorateAppAPIMethods(this,["setActiveSeed","getAddress","prepareTransfers","getAppVersion","getAppMaxBundleSize"],"IOT"),this.transport=e,this.config=void 0,this.security=0,this.pathArray=void 0}var r=e.prototype;return r.setActiveSeed=function(r,n){void 0===n&&(n=2);try{var i=this,o=function(e){i.config=e;var r=t(ni).satisfies(i.config.app_version,"<0.5")?(i._createPubkeyInput=i._createPubkeyInputLegacy,i._createTxInput=i._createTxInputLegacy,Promise.resolve(i._setSeed()).then((function(){}))):Promise.resolve(i._reset(!0)).then((function(){}));if(r&&r.then)return r.then((function(){}))};return t(ai).assert(r,t(ai).string().required()),t(ai).assert(n,li.required()),i.pathArray=e._validatePath(r),i.security=n,Promise.resolve(i.config?o(i.config):Promise.resolve(i._getAppConfig()).then(o))}catch(e){return Promise.reject(e)}},r.getAddress=function(e,r){void 0===r&&(r={});try{this._assertInitialized(),t(ai).assert(e,fi.required());var n=r.checksum||!1;return Promise.resolve(this._publicKey(e,r.display||!1)).then((function(e){return n?$n.addChecksum(e):e}))}catch(e){return Promise.reject(e)}},r.prepareTransfers=function(r,n,i,o){void 0===o&&(o=function(){return Date.now()});try{var s=this;if(s._assertInitialized(),t(ai).assert(r,vi.required()),t(ai).assert(n,yi.required()),t(ai).assert(i,bi.optional()),t(ai).assert(o,t(ai).func().arity(0).required()),1!=r.length)throw new Error("unsupported number of transfers");return i=e._validateRemainder(r,n,i),Promise.resolve(s._prepareTransfers(r,n,i,o)).then((function(e){return Promise.resolve(s._reset(!0)).then((function(){return e}))}))}catch(e){return Promise.reject(e)}},r.getAppVersion=function(){try{var e=this;return Promise.resolve(e._getAppConfig()).then((function(t){return e.config=t,t.app_version}))}catch(e){return Promise.reject(e)}},r.getAppMaxBundleSize=function(){try{var e=this;return Promise.resolve(e._getAppConfig()).then((function(t){return e.config=t,t.app_max_bundle_size?t.app_max_bundle_size:8}))}catch(e){return Promise.reject(e)}},e._validatePath=function(e){var r;try{r=t(ei).fromString(e).toPathArray()}catch(e){throw new Error('"path" invalid: '+e.message)}if(!r||r.length<2||r.length>5)throw new Error('"path" invalid: Invalid path length');return r},r._assertInitialized=function(){if(!this.security)throw new Error("seed not yet initialized")},r._addSeedFields=function(e){return e.word8("security").word32Ule("pathLength").array("pathArray",this.pathArray.length,"word32Ule")},r._initSeedFields=function(e){var t=e.fields;t.security=this.security,t.pathLength=this.pathArray.length,t.pathArray=this.pathArray},r._setSeed=function(){try{var e=this,r=new(t(nn));return e._addSeedFields(r),r.allocate(),e._initSeedFields(r),Promise.resolve(e._sendCommand(1,0,0,r.buffer(),1e4)).then((function(){}))}catch(e){return Promise.reject(e)}},r._createPubkeyInputLegacy=function(e){var r=new(t(nn));return(r=r.word32Ule("index")).allocate(),r.fields.index=e,r},r._createPubkeyInput=function(e){var r=new(t(nn));return this._addSeedFields(r),(r=r.word32Ule("index")).allocate(),this._initSeedFields(r),r.fields.index=e,r},r._publicKey=function(e,r){try{var n=this._createPubkeyInput(e);return Promise.resolve(this._sendCommand(2,r?1:0,0,n.buffer(),1e4)).then((function(e){var r=(new(t(nn))).chars("address",81);return r.setBuffer(e),r.fields.address}))}catch(e){return Promise.reject(e)}},e._validateRemainder=function(e,t,r){var n=t.reduce((function(e,t){return e+t.balance}),0),i=e.reduce((function(e,t){return e+t.value}),0);if(n<i)throw new Error("insufficient balance");if(n>i){if(!r)throw new Error('"remainder" is required');return{address:r.address,value:n-i,keyIndex:r.keyIndex}}},r._sign=function(e,r){try{var n=(new(t(nn))).word32Ule("index");return n.allocate(),n.fields.index=e,Promise.resolve(this._sendCommand(4,0,0,n.buffer(),1e4)).then((function(e){var n=(new(t(nn))).chars("signature",r).word8Sle("fragmentsRemaining");return n.setBuffer(e),{signature:n.fields.signature,fragmentsRemaining:n.fields.fragmentsRemaining}}))}catch(e){return Promise.reject(e)}},r._createTxInputLegacy=function(e,r,n,i,o,s,a){var c=new(t(nn));(c=c.chars("address",81).word32Ule("address_idx").word64Sle("value").chars("tag",27).word32Ule("tx_idx").word32Ule("tx_len").word32Ule("time")).allocate();var u=c.fields;return u.address=e,u.address_idx=r,u.value=n,u.tag=i,u.tx_idx=o,u.tx_len=s,u.time=a,c},r._createTxInput=function(e,r,n,i,o,s,a){var c=new(t(nn));0==o&&this._addSeedFields(c),(c=c.chars("address",81).word32Ule("address_idx").word64Sle("value").chars("tag",27).word32Ule("tx_idx").word32Ule("tx_len").word32Ule("time")).allocate(),0==o&&this._initSeedFields(c);var u=c.fields;return u.address=e,u.address_idx=r,u.value=n,u.tag=i,u.tx_idx=o,u.tx_len=s,u.time=a,c},r._transaction=function(e,r,n,i,o,s,a){try{var c=this._createTxInput(e,r,n,i,o,s,a),u=1e4;return o==s&&(u=15e4),Promise.resolve(this._sendCommand(3,0==o?0:128,0,c.buffer(),u)).then((function(e){var r=(new(t(nn))).word8("finalized").chars("bundleHash",81);return r.setBuffer(e),{finalized:r.fields.finalized,bundleHash:r.fields.bundleHash}}))}catch(e){return Promise.reject(e)}},r._getSignatureFragments=function(e,t){try{var r=this,n=function(e){return o.match(/.{2187}/g)},i=2187*r.security/t,o="",s=1,a=xi((function(){return s<=i}),(function(){return s++}),(function(){return Promise.resolve(r._sign(e,t)).then((function(e){if(o+=e.signature,s===i!=(0===e.fragmentsRemaining))throw new Error("wrong signture length")}))}));return Promise.resolve(a&&a.then?a.then(n):n())}catch(e){return Promise.reject(e)}},r._addSignatureFragmentsToBundle=function(e){try{var t,r=this,n=0;return Promise.resolve(xi((function(){return!t&&n<e.bundle.length}),(function(){return n++}),(function(){var i=e.bundle[n];if(!(i.value>=0))return Promise.resolve(r._getSignatureFragments(n,243)).then((function(o){i.signatureMessageFragment=o.shift();for(var s=i.address,a=1;a<r.security;a++){if(++n>=e.bundle.length)return void(t=1);var c=e.bundle[n];c.address===s&&0===c.value&&(c.signatureMessageFragment=o.shift())}}))})))}catch(e){return Promise.reject(e)}},r._signBundle=function(e,t){try{var r=this,n=function(){if(!i)throw new Error("bundle not finalized");if(o!==e.bundle[0].bundle)throw new Error("wrong bundle hash");return Promise.resolve(r._addSignatureFragmentsToBundle(e)).then((function(){}))},i=!1,o="",s=function(e,t,r){if("function"==typeof e[Si]){var n,i,o,s=e[Si]();if(function e(r){try{for(;!(n=s.next()).done;)if((r=t(n.value))&&r.then){if(!Ei(r))return void r.then(e,o||(o=wi.bind(null,i=new _i,2)));r=r.v}i?wi(i,1,r):i=r}catch(e){wi(i||(i=new _i),2,e)}}(),s.return){var a=function(e){try{n.done||s.return()}catch(e){}return e};if(i&&i.then)return i.then(a,(function(e){throw a(e)}));a()}return i}if(!("length"in e))throw new TypeError("Object is not iterable");for(var c=[],u=0;u<e.length;u++)c.push(e[u]);return l=c,f=function(e){return t(c[e])},d=-1,function e(t){try{for(;++d<l.length;)if((t=f(d))&&t.then){if(!Ei(t))return void t.then(e,p||(p=wi.bind(null,h=new _i,2)));t=t.v}h?wi(h,1,t):h=t}catch(e){wi(h||(h=new _i),2,e)}}(),h;var l,f,h,p,d}(e.bundle,(function(e){return Promise.resolve(r._transaction(e.address,t[e.address]?t[e.address]:0,e.value,e.obsoleteTag,e.currentIndex,e.lastIndex,e.timestamp)).then((function(e){i=e.finalized,o=e.bundleHash}))}));return Promise.resolve(s&&s.then?s.then(n):n())}catch(e){return Promise.reject(e)}},r._hasDuplicateAddresses=function(e,t,r){var n=new Set;return e.forEach((function(e){return n.add(e.address)})),t.forEach((function(e){return n.add(e.address)})),!(!r||!n.has(r.address))||n.length===e.length+t.length},r._prepareTransfers=function(e,r,n,i){try{var o=this;if(e=e.map((function(e){return ci({},e,{address:$n.noChecksum(e.address),tag:e.tag?e.tag.padEnd(27,"9"):Ai})})),r=r.map((function(e){return ci({},e,{address:$n.noChecksum(e.address),security:o.security})})),n&&(n=ci({},n,{address:$n.noChecksum(n.address)})),o._hasDuplicateAddresses(e,r,n))throw new Error("transaction must not contain duplicate addresses");var s=Math.floor(i()/1e3),a=new(t(on));e.forEach((function(e){return a.addEntry(1,e.address,e.value,e.tag,s,-1)})),r.forEach((function(e){return a.addEntry(e.security,e.address,-e.balance,Ai,s,e.keyIndex)})),n&&a.addEntry(1,n.address,n.value,Ai,s,n.keyIndex),a.addTrytes([]),a.finalize();var c={};return r.forEach((function(e){return c[e.address]=e.keyIndex})),n&&(c[n.address]=n.keyIndex),Promise.resolve(o._signBundle(a,c)).then((function(){var e=[];return a.bundle.forEach((function(t){return e.push($n.transactionTrytes(t))})),e.reverse()}))}catch(e){return Promise.reject(e)}},r._createAppConfigOutputLegacy=function(){return(new(t(nn))).word8("app_flags").word8("app_version_major").word8("app_version_minor").word8("app_version_patch")},r._createAppConfigOutput=function(){return(new(t(nn))).word8("app_version_major").word8("app_version_minor").word8("app_version_patch").word8("app_max_bundle_size").word8("app_flags")},r._getAppConfig=function(){try{var e=this;return Promise.resolve(e._sendCommand(16,0,0,void 0,1e4)).then((function(t){var r=e._createAppConfigOutput();t.length<r.length()+2&&(r=e._createAppConfigOutputLegacy()),r.setBuffer(t);var n=r.fields;return{app_max_bundle_size:n.app_max_bundle_size,app_flags:n.app_flags,app_version:n.app_version_major+"."+n.app_version_minor+"."+n.app_version_patch}}))}catch(e){return Promise.reject(e)}},r._reset=function(e){void 0===e&&(e=!1);try{return Promise.resolve(this._sendCommand(255,e?1:0,0,void 0,1e4)).then((function(){}))}catch(e){return Promise.reject(e)}},r._sendCommand=function(e,t,r,n,i){try{var o=this.transport;return Promise.resolve(function(s,a){try{var c=(o.setExchangeTimeout(i),Promise.resolve(o.send(122,e,t,r,n)))}catch(e){return a(e)}return c&&c.then?c.then(void 0,a):c}(0,(function(e){throw e.statusCode&&(e.message=function(e){var t=function(e){switch(e){case 36864:return"Success";case 26368:return"Incorrect input length";case 27264:return"Incorrect data";case 27392:return"Incorrect command parameter";case 27648:return"Incorrect length specified in header";case 27904:return"Invalid INS command";case 28160:return"Incorrect CLA (Wrong application opened)";case 26880:return"Command not allowed (Command out of order)";case 27010:return"Security not satisfied (Device locked)";case 27013:return"Condition of use not satisfied (Denied by the user)";case 25601:return"Security not satisfied (Timeout exceeded)";case 27041:return"Bundle error (Insecure hash)";case 27042:return"Bundle error (Non zero balance)";case 27043:return"Bundle error (Invalid meta transaction)";case 27044:return"Bundle error (Invalid input address/index pair(s))";case 27045:return"Bundle error (Address reused)";case 27012:return"Invalid input data";case 27014:return"App has not been initialized by user";case 27025:return"Invalid transaction index";case 27026:return"Invalid transaction order (Output, Inputs, Change)";case 27027:return"Invalid meta transaction";case 27028:return"Invalid output transaction (Output must come first)"}if(28416<=e&&e<=28671)return"Internal error, please report"}(e);if(t)return"Ledger device: "+t+" (0x"+e.toString(16)+")"}(e.statusCode)||e.message),e})))}catch(e){return Promise.reject(e)}},e}();c((e=>{console.log(`${e.type}: ${e.message}`)}));const Ii=[{name:"WebUSB transport",clazz:ft},{name:"WebHID transport (experimental)",clazz:yt},{name:"Web Bluetooth transport",clazz:tn},{name:"U2F transport (deprecated)",clazz:He},{name:"WebAuthn transport (deprecated)",clazz:We}],Oi=document.createElement("select");Ii.forEach(((e,t)=>{const r=document.createElement("option");r.value=t,r.innerText=e.name,Oi.appendChild(r)})),document.body.appendChild(Oi);const $i=document.createElement("select");for(let e=0;e<5;e++){const t=document.createElement("option");t.value=e,t.innerText="Account #"+e,$i.appendChild(t)}document.body.appendChild($i);const Ti=document.createElement("button");Ti.textContent="Get Address",document.body.appendChild(Ti);const ki=document.createElement("button");ki.textContent="Get App Version",document.body.appendChild(ki);const ji=document.createElement("code"),Li=document.createElement("pre");Li.appendChild(ji),document.body.appendChild(Li),Ti.onclick=()=>{ji.textContent="",async function(e,t,r){const n=await e.create(5e3);try{const e=new Ri(n),i=`44'/4218'/${t}'/${r}'`;return await e.setActiveSeed(i,2),await e.getAddress(0,{checksum:!0})}finally{n.close()}}(Ii[Oi.selectedIndex].clazz,$i.selectedIndex,0).then((e=>{console.log(e),ji.style.color="#000",ji.textContent=e}),(e=>{console.error(e),ji.style.color="#a33",ji.textContent=e.message}))},ki.onclick=()=>{ji.textContent="",async function(e){const t=await e.create(5e3);try{const e=new Ri(t);return await e.getAppVersion()}finally{t.close()}}(Ii[Oi.selectedIndex].clazz).then((e=>{console.log(e),ji.style.color="#000",ji.textContent=e}),(e=>{console.error(e),ji.style.color="#a33",ji.textContent=e.message}))}}();
//# sourceMappingURL=index.b7571f63.js.map
